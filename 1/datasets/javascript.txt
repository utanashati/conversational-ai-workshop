moment = this.moment; delete this.moment;
﻿ (function () { 'use strict'; angular.module('breeze.angular.q', []).value('use$q', use$q); function use$q($q) { if (breeze.config.setQ) { breeze.config.setQ($q); $q.resolve = $q.when; extendBreezeWith_to$q(); } else { throw new Error( 'Cannot use this version of use$q with breeze.version=' + breeze.version); } } function extendBreezeWith_to$q() { var proto = breeze.EntityManager.prototype; var executeQuery = proto.executeQuery; if (-1 < executeQuery.toString().indexOf('extendWith_to$q')) { return; } proto.executeQuery = function () { var promise = executeQuery.apply(this, arguments); return extendWith_to$q(promise); }; var e_fetchMetadata = proto.fetchMetadata; proto.fetchMetadata = function () { var promise = e_fetchMetadata.apply(this, arguments); return extendWith_to$q(promise); }; var fetchEntityByKey = proto.fetchEntityByKey; proto.fetchEntityByKey = function () { var promise = fetchEntityByKey.apply(this, arguments); return extendWith_to$q(promise); }; var saveChanges = proto.saveChanges; proto.saveChanges = function () { var promise = saveChanges.apply(this, arguments); return extendWith_to$q(promise); }; proto = breeze.MetadataStore.prototype; var m_fetchMetadata = proto.fetchMetadata; proto.fetchMetadata = function () { var promise = m_fetchMetadata.apply(this, arguments); return extendWith_to$q(promise); }; function extendWith_to$q(promise) { promise.to$q = function (success, fail) { return (success || fail) ? promise.then(success, fail) : promise; }; return promise; } } })();
var logger = require('./logger'); var Storage = exports.Storage = function Storage() { }; Storage.get = function (uri) { var Storage; var storageProtocol = ""+uri.match(/^[a-z]+/i); switch (storageProtocol) { case 'mongodb': try { Storage = require('./db/mongo/storage').Storage; return new Storage(uri); } catch (e) { logger.error("MongoDB " + e); throw new Error("Could not instantiate MongoDB backend"); } case 'kyoto': try { Storage = require('./db/kyoto/storage').Storage; return new Storage(uri); } catch (e) { logger.error("KyotoCabinet " + e); throw new Error("Could not instantiate KyotoCabinet backend"); } case 'leveldb': try { Storage = require('./db/leveldb/storage').Storage; return new Storage(uri); } catch (e) { logger.error("LevelDB " + e); throw new Error("Could not instantiate LevelDB (LevelDOWN) backend"); } case 'levelup': try { Storage = require('./db/leveldown/storage').Storage; return new Storage(uri); } catch (e) { logger.error("LevelDB " + e); throw new Error("Could not instantiate LevelDB (LevelUP) backend"); } default: throw new Error('Unknown storage protocol "'+storageProtocol+'"'); } };
var assert = require('assert'); var R = require('..'); describe('times', function() { it('takes a map func', function() { assert.deepEqual(R.times(R.identity, 5), [0, 1, 2, 3, 4]); assert.deepEqual(R.times(function(x) { return x * 2; }, 5), [0, 2, 4, 6, 8]); }); it('is curried', function() { var mapid = R.times(R.identity); assert.deepEqual(mapid(5), [0, 1, 2, 3, 4]); }); it('throws if second argument is not a valid array length', function() { assert.throws(function() { R.times(3)('cheers!'); }, RangeError); assert.throws(function() { R.times(R.identity, -1); }, RangeError); }); });
"use strict"; module.exports = function(grunt) { grunt.initConfig({ pkg: '<json:package.json>', meta: { banner: ' ' }, lint: { files: ['app.js', 'grunt.js', 'server *.js', 'test *.js', 'public/js *.js', options : { globals : ['should'], timeout : 3000, ignoreLeaks : false, ui : 'bdd', reporter : 'spec', recursive: true } } }, watch: { files: '<config:lint.files>', tasks: 'lint' }, jshint: { options: { curly: true, eqeqeq: true, immed: true, latedef: true, newcap: true, noarg: true, sub: true, undef: true, trailing: true, browser: true, node : true, es5 : true, laxcomma : true, strict: true, expr: true }, globals: { jQuery: true, it : true, beforeEach : true, after: true, describe: true, angular: true, RegisterCtrl: true, LoginCtrl: true, ModalCtrl: true, $location: true, $: true } }, uglify: {} }); grunt.loadNpmTasks('grunt-simple-mocha'); grunt.registerTask('default', 'lint simplemocha'); };
var number_pool = []; function makeFloatingNumber(x, y, color, text) { var txt; if(number_pool.length > 0) { txt = number_pool[number_pool.length-1]; number_pool.pop(); } else { txt = Crafty.e("FloatingNumber"); } txt.attr({ 'x': x, 'y':y }) .color(color) .text(text); txt.lifetime = 30; var interval = setInterval(function() { txt.y -= 1; if(txt.lifetime-- <= 0) { number_pool.push(txt); txt.x = -10000; txt.y = -10000; clearInterval(interval); } }, 30); return txt; } exports.createRPGComponents = function(level) { Crafty.c("FloatingNumber", { init : function() { this.addComponent("2D, DOM, Text, Color"); } }) Crafty.c("RPG", { _hp : 10, _max_hp : 10, _xp : 10, _level : 0, _alive : true, init : function() { this.bind("TakeDamage", function(args) { this._hp -= args.damage; makeFloatingNumber(this.x + this.w/2, this.y, "#ff0000", "" + args.damage); }); this.bind("GainXP", function(args) { this._xp += args.xp; makeFloatingNumber(this.x + this.w/2, this.y, "#00ff00", "+" + args.value + "xp"); }); this.bind("GainLevel", function(args) { this._xp += args.xp; makeFloatingNumber(this.x + this.w/2, this.y, "#00ffff", "Level Up!"); }); }, }); Crafty.c("Corpse", { init : function() { this.addComponent("2D, Canvas, Tween"); this.attr({alpha: 1.0}); this.tween({alpha: 0.0}, 200); var corpse = this; this.bind("TweenEnd", function() { corpse.destroy(); }); } }); }; exports.makeFloatingNumber = makeFloatingNumber;
var CK_API_HOST = 'https: var app = angular.module('cc-example-module', ['mgcrea.ngStrap', 'ngResource' ]); app.controller('mainController', function($scope, $resource) { $scope.busy = true; $scope.rates = {}; $scope.reload_rates = function() { $scope.rates = {}; $scope.busy = true; $resource(CK_API_HOST + '/public/rates').get(function(d) { $scope.rates = d.rates; $scope.info = d.currencies; $scope.all_codes = _.keys(d.currencies); $scope.crypto_codes = _.sortBy(_.keys(d.rates), function(k) { return d.currencies[k].rank;}); $scope.fiat_codes = _.sortBy(_.difference($scope.all_codes, $scope.crypto_codes, ['XTN']), function(k) { return d.currencies[k].rank;}); $scope.busy = false; }); } $scope.reload_rates(); }); app.factory('myInterceptor', ['$log', function($log) { var myInterceptor = { 'request': function(config) { $log.debug("HTTP Request " + config.url, config); return config; }, 'response': function(response) { $log.debug("HTTP Response: ", response); return response; }, 'responseError': function(response) { $log.debug("HTTP Response (Error): ", response); if(!response.data) { response.data = '{"error":"HTTP Error ' + response.status + '"}'; } return response; } }; return myInterceptor; }]); app.config(['$httpProvider', function($httpProvider) { $httpProvider.interceptors.push('myInterceptor'); }]);
var get = Ember.get, set = Ember.set; Ember.Application.reopen({ ready: function() { var store = this.router.store; store._initialize(); this._super(); } }); Ember.onLoad('Ember.Application', function(Application) { Ember.Application.registerInjection({ name: "setupSynchronizedStore", after: ['store'], injection: function(app, stateManager, property) { if (!stateManager) { return; } if (property === 'Store') { var store = get(stateManager, 'store'); if (!store) { return; } var revision = store.revision; var mappings = get(store, 'adapter.mappings'); Ember.assert("Currently you need to provide mappings of JSON keys to modelTypes (e.g., persons: App.Person)." + "But your adapter's mappings property is null.", !!mappings); var serverAdapter = DS._ServerAdapter.create({ mappings: mappings }); var serverStore = DS._ServerStore.create({ adapter: serverAdapter, revision: revision, clientStore: store }); set(store, 'serverStore', serverStore); } } }); });
define('crm/Views/ErrorLog/List', [ 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/store/Memory', 'crm/Format', 'argos/Convert', 'argos/ErrorManager', 'argos/List' ], function( declare, lang, Memory, format, convert, ErrorManager, List ) { var __class = declare('crm.Views.ErrorLog.List', [List], { titleText: 'Error Logs', errorDateFormatText: 'MM/DD/YYYY hh:mm A', itemTemplate: new Simplate([ '<h3>{%: crm.Format.date($.Date, $$.errorDateFormatText) %}</h3>', '<h4>{%: $.Description %}</h4>' ]), id: 'errorlog_list', enableSearch: false, enablePullToRefresh: false, hideSearch: true, expose: false, detailView: 'errorlog_detail', _onRefresh: function(o) { this.inherited(arguments); if (o.resourceKind === 'errorlogs' || o.resourceKind === 'localStorage') { this.refreshRequired = true; } }, createStore: function() { var errorItems = ErrorManager.getAllErrors(); errorItems.sort(function(a, b) { a.errorDateStamp = a.errorDateStamp || a['Date']; b.errorDateStamp = b.errorDateStamp || b['Date']; a['Date'] = a.errorDateStamp; b['Date'] = b.errorDateStamp; var A = convert.toDateFromString(a.errorDateStamp), B = convert.toDateFromString(b.errorDateStamp); return A.valueOf() > B.valueOf(); }); return new Memory({data: errorItems}); }, createToolLayout: function() { return this.tools || (this.tools = { 'tbar': [] }); } }); lang.setObject('Mobile.SalesLogix.Views.ErrorLog.List', __class); return __class; });
define(["../walletmanager", "./abstractwallet"], function (WalletManager, AbstractWallet) { var MiniWallet = function (data) { AbstractWallet.apply(this, arguments); this.type = 'mini'; this.wallet = new Bitcoin.Wallet(); if (data) { if (data.keys) { var keys = data.keys.split(','); var pubs = data.pubs ? data.pubs.split(',') : []; if (Array.isArray(pubs) && pubs.length == keys.length) { this.wallet.addKeys(keys, pubs); } else { this.wallet.addKeys(keys); } } } if (this.wallet.getLength() == 0) { this.wallet.generateAddress(); } }; MiniWallet.humanName = "Mini Wallet"; MiniWallet.humanDesc = "Very simple wallet where your keys are stored locally in your browser"; MiniWallet.prototype.serialize = function () { var data = AbstractWallet.prototype.serialize.apply(this, arguments); data.type = 'mini'; data.keys = this.wallet.getKeys().join(','); data.pubs = this.wallet.getPubKeys().join(','); return data; }; WalletManager.reg('mini', MiniWallet); return MiniWallet; });
( function(Dataflow) { var KeyBinding = Dataflow.prototype.plugin("keybinding"); var Edit = Dataflow.prototype.plugin("edit"); var Search = Dataflow.prototype.plugin("search"); KeyBinding.initialize = function(dataflow){ function zoomIn() { if (dataflow && dataflow.currentGraph && dataflow.currentGraph.view) { dataflow.currentGraph.view.zoomIn(); } } function zoomOut() { if (dataflow && dataflow.currentGraph && dataflow.currentGraph.view) { dataflow.currentGraph.view.zoomOut(); } } function zoomCenter() { if (dataflow && dataflow.currentGraph && dataflow.currentGraph.view) { dataflow.currentGraph.view.zoomCenter(); } } function keyDown(event) { if (event.target.tagName==="TEXTAREA" || event.target.tagName==="INPUT" || event.target.contentEditable==="true" ){ return; } if (event.ctrlKey || event.metaKey) { switch (event.which) { case 189: event.preventDefault(); zoomIn(); break; case 187: event.preventDefault(); zoomOut(); break; case 48: event.preventDefault(); zoomCenter(); break; case 65: Edit.selectAll(); break; case 88: Edit.cut(); break; case 67: Edit.copy(); break; case 86: Edit.paste(); break; case 90: break; case 83: event.preventDefault(); Search.focus(); break; default: break; } } } KeyBinding.listeners = function(boo){ if (boo) { $(document).on('keydown', keyDown); } else { $(document).off('keydown', keyDown); } }; KeyBinding.listeners(true); }; }(Dataflow) );
define('templates/helpers/dateConverter', ['handlebars', 'utils'], function (Handlebars, Utils) { var dateConverter = function (item, options) { return Utils.getReadableDate(item); }; Handlebars.registerHelper('dateConverter', dateConverter); return dateConverter; });
(function(Handsontable){ var PasswordEditor = Handsontable.editors.TextEditor.prototype.extend(); PasswordEditor.prototype.createElements = function () { Handsontable.editors.TextEditor.prototype.createElements.apply(this, arguments); this.TEXTAREA = document.createElement('input'); this.TEXTAREA.setAttribute('type', 'password'); this.TEXTAREA.className = 'handsontableInput'; this.textareaStyle = this.TEXTAREA.style; this.textareaStyle.width = 0; this.textareaStyle.height = 0; Handsontable.Dom.empty(this.TEXTAREA_PARENT); this.TEXTAREA_PARENT.appendChild(this.TEXTAREA); }; Handsontable.editors.PasswordEditor = PasswordEditor; Handsontable.editors.registerEditor('password', PasswordEditor); })(Handsontable);
var HTTPTransport = require('./http'); exports = module.exports = HTMLFile; function HTMLFile (mng, data, req) { HTTPTransport.call(this, mng, data, req); }; HTMLFile.prototype.__proto__ = HTTPTransport.prototype; HTMLFile.prototype.name = 'htmlfile'; HTMLFile.prototype.handleRequest = function (req) { HTTPTransport.prototype.handleRequest.call(this, req); if (req.method == 'GET') { req.res.writeHead(200, { 'Content-Type': 'text/html; charset=UTF-8' , 'Connection': 'keep-alive' , 'Transfer-Encoding': 'chunked' }); req.res.write( '<html><body>' + '<script>var _ = function (msg) { parent.s._(msg, document); };</script>' + new Array(174).join(' ') ); } }; HTMLFile.prototype.write = function (data) { data = '<script>_(' + JSON.stringify(data).replace(/\ if (this.response.write(data)) { this.drained = true; } this.log.debug(this.name + ' writing', data); };
export default Ember.Handlebars.makeBoundHelper(function(number, options) { if (!number) { return ""; } if (options.hash.format) { return numeral(number).format(options.hash.format); } else { return numeral(number).format(); } });
module.exports = { getMeta: function(meta) { return { title: meta['html-title'] }; }, lowestPriority: true };
(function () { "use strict"; var entryTransformer = angular.module('entry-transformer', []); entryTransformer.factory('entryTransformer', function () { var supportedProperties = { Title: {isProtected: false}, URL: {isProtected: false}, UserName: {isProtected: false}, Password: {isProtected: true}, Notes: {isProtected: false} }; var getValueFromKdbxEntry = function (hit, key) { if (supportedProperties[key].isProtected) { return hit.Value._; } else { return hit.Value; } }; var fromKdbxEntry = function (kdbxEntry) { var entry = { UUID: kdbxEntry.UUID }; _.each(supportedProperties, function (value, key) { var hit = _.findWhere(kdbxEntry.String, {Key: key}); if (hit) { entry[key] = getValueFromKdbxEntry(hit, key); } }); return entry; }; var newProtectedEntry = function (key, value) { return { Key: key, Value: { "_": value, "$": { Protected: "True" } } }; }; var fromFlatEntry = function (entry) { var kdbxEntry = { UUID: entry.UUID, String: [] }; _.each(supportedProperties, function (value, key) { if (entry[key]) { if (value.isProtected) { kdbxEntry.String.push(newProtectedEntry(key, entry[key])); } else { kdbxEntry.String.push({Key: key, Value: entry[key]}); } } }); return kdbxEntry; }; return { fromKdbxEntry: fromKdbxEntry, fromFlatEntry: fromFlatEntry }; }); }());
function Player(id,name){ this.id = id; this.name = name; this.score = 0; this.totalKills = 0; this.totalMisses = 0; this.shotsTaken = 0; this.levelStats = []; this.weapon = null; } Player.prototype.getScore = function(){ return this._formatScore(this.score.toString()); }; Player.prototype.updateScore = function(delta){ this.score+=delta; $("#scoreboard").html(this.getScore()); }; Player.prototype.setWeapon = function(weapon){ this.weapon = weapon; }; Player.prototype.getWeapon = function(){ return this.weapon; }; Player.prototype.pushLevelStats = function(stats){ this.levelStats.push(stats); }; Player.prototype._formatScore = function(nStr){ nStr += ''; x = nStr.split('.'); x1 = x[0]; x2 = x.length > 1 ? '.' + x[1] : ''; var rgx = /(\d+)(\d{3})/; while (rgx.test(x1)) { x1 = x1.replace(rgx, '$1' + ',' + '$2'); } return x1 + x2; };
var request = require('request'); var userUrl = process.env.USER_URL || 'http: module.exports = function (app) { app.route('/db/*', function (req, res) { if (/^\/db\/_utils/.test(req.url)) { res.json({message: 'No Access to futon!'}, 500); } console.log(req.method + ' : ' + req.url); var method = req.method.toLowerCase(); if (method === 'delete') method = 'del'; var path = req.url.replace('/db', ''); req.pipe(request[method](userUrl + path, { json: true }, function (e, r, b) { if (e) { console.log('Error: ' + e.message); return res.json({message: e.message}, 500); } console.log(r.statusCode + ' : ' + JSON.stringify(b)); res.json(b, r.statusCode); })); }); return app; };
(function(){ var Ockley = namespace("Ockley"); if (this.Backbone === 'undefined' || this.jQuery === 'undefined'){ throw new Error('Backbone and jQuery are required!'); } Ockley.Toolbar = Backbone.View.extend({ toolBar: null, initialize: function() { _.bindAll(this, "render"); }, render: function() { log('Toolbar - render'); if (this.toolBar == null){ if (this.options.buttons != null){ var eventsMgr = this.options.eventsMgr; $.each(this.options.buttons, function(index, btn){ if (btn.hasOwnProperty('selector') && btn.hasOwnProperty('icon')){ $( btn.selector ).button({ text: false, icons: { primary: btn.icon } }).click(function(){ if (btn.hasOwnProperty('name')){ if (eventsMgr != null){ eventsMgr.trigger(btn.name); } } }); } }); } } return this; } }); }).call(this);
﻿ CKEDITOR.plugins.setLang( 'codemirror', 'de', { toolbar: 'Quellcode', searchCode: 'Quellcode durchsuchen', autoFormat: 'Auswahl formatieren', commentSelectedRange: 'Auswahl auskommentieren', uncommentSelectedRange: 'Auskommentierung entferen', autoCompleteToggle: 'HTML Tag Autovervollständigen de-/aktivieren' });
mySettings = { nameSpace: "texy", previewParserPath: '', onShiftEnter: {keepDefault:false, replaceWith:'\n\n'}, markupSet: [ {name:'Heading 1', key:'1', closeWith:function(markItUp) { return miu.texyTitle(markItUp, '#') }, placeHolder:'Your title here...', className:'h1'}, {name:'Heading 2', key:'2', closeWith:function(markItUp) { return miu.texyTitle(markItUp, '*') }, placeHolder:'Your title here...', className:'h2'}, {name:'Heading 3', key:'3', closeWith:function(markItUp) { return miu.texyTitle(markItUp, '=') }, placeHolder:'Your title here...', className:'h3'}, {name:'Heading 4', key:'4', closeWith:function(markItUp) { return miu.texyTitle(markItUp, '-') }, placeHolder:'Your title here...', className:'h4'}, {separator:'---------------' }, {name:'Bold', key:'B', closeWith:'**', openWith:'**', className:'bold', placeHolder:'Your text here...'}, {name:'Italic', key:'I', closeWith:'*', openWith:'*', className:'italic', placeHolder:'Your text here...'}, {separator:'---------------' }, {name:'Bulleted list', openWith:'- ', className:'list-bullet'}, {name:'Numeric list', openWith:function(markItUp) { return markItUp.line+'. '; }, className:'list-numeric'}, {separator:'---------------' }, {name:'Picture', openWith:'[* ', closeWith:' (!(.([![Alt text]!]))!) *]', placeHolder:'[![Url:!:http: {name:'Link', openWith:'"', closeWith:'":[![Url:!:http: {separator:'---------------' }, {name:'Quotes', openWith:'> ', className:'quotes'}, {name:'Code block/Code in-line', openWith:'(!(/---[![Language:!:html]!]\n|!|`)!)', closeWith:'(!(\n\\---\n|!|`)!)', className:'code'}, {name:'Texy off', closeWith:'\'\'', openWith:'\'\'', className:'off', placeHolder:'No texty! in here!'}, {separator:'---------------' }, {name:'Preview', call:'preview', className:'preview'} ] } miu = { texyTitle: function (markItUp, chr) { heading = ''; n = $.trim(markItUp.selection || markItUp.placeHolder).length; for(i = 0; i < n; i++) { heading += chr; } return '\n'+heading; } }
jQuery(function($) { $.datepicker.regional['hy'] = { closeText: 'Փակել', prevText: '&#x3c;Նախ.', nextText: 'Հաջ.&#x3e;', currentText: 'Այսօր', monthNames: ['Հունվար','Փետրվար','Մարտ','Ապրիլ','Մայիս','Հունիս', 'Հուլիս','Օգոստոս','Սեպտեմբեր','Հոկտեմբեր','Նոյեմբեր','Դեկտեմբեր'], monthNamesShort: ['Հունվ','Փետր','Մարտ','Ապր','Մայիս','Հունիս', 'Հուլ','Օգս','Սեպ','Հոկ','Նոյ','Դեկ'], dayNames: ['կիրակի','եկուշաբթի','երեքշաբթի','չորեքշաբթի','հինգշաբթի','ուրբաթ','շաբաթ'], dayNamesShort: ['կիր','երկ','երք','չրք','հնգ','ուրբ','շբթ'], dayNamesMin: ['կիր','երկ','երք','չրք','հնգ','ուրբ','շբթ'], weekHeader: 'ՇԲՏ', dateFormat: 'dd.mm.yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['hy']); });
var JSJaCUtils = { xor: function(s1, s2) { if(!s1) { return s2; } if(!s2) { return s1; } var result = ''; for(var i = 0; i < s1.length; i++) { result += String.fromCharCode(s1.charCodeAt(i) ^ s2.charCodeAt(i)); } return result; }, cnonce: function(size) { var tab = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"; var cnonce = ''; for (var i = 0; i < size; i++) { cnonce += tab.charAt(Math.round(Math.random(new Date().getTime()) * (tab.length - 1))); } return cnonce; }, now: function() { if (Date.now && typeof Date.now == 'function') { return Date.now(); } else { return new Date().getTime(); } } };
var url = window.location.href; var params = '?'; var index = url.indexOf(params); if (index > -1) { params = url.substring(index); } params += '&from=' + encodeURIComponent(url); var redirect = chrome.extension.getURL('oauth2/oauth2.html'); window.location = redirect + params;
var _contains = require('./internal/_contains'); var _curry1 = require('./internal/_curry1'); module.exports = _curry1(function uniq(list) { var idx = -1, len = list.length; var result = [], item; while (++idx < len) { item = list[idx]; if (!_contains(item, result)) { result[result.length] = item; } } return result; });
var _ = require('underscore'); var parley = require('parley'); var async = require('async'); var assert = require("assert"); describe('IN queries', function() { describe('after creating some users, ', function() { describe('searching for a set that contains one', function() { it('should return the proper user', function(done) { var testName = 'IN_query_test'; var users = [{ name: testName }, { name: 'something else' }]; User.createEach(users, function(err) { if(err) return done(err); User.findAll({ name: ["foo", testName, "bar", "baz"] }, function(err, users) { if(err) return done(err); if(users.length === 0) return done('IN query did not return anything!'); if(users.length > 1) return done('IN query returned too many things!'); if(users[0].name !== testName) return done('IN query returned incorrect user!'); done(err); }); }); }); }); describe('searching for a set that contains none', function() { it('should return NONE', function(done) { User.findAll({ name: ["foo", "bar", "baz"] }, function(err, users) { if(users.length > 0) return done('IN query returned things when it shouldn\'t have!'); done(err); }); }); }); }); });
var buster = require("buster"); var fs = require("fs"); var fsFiltered = require("../lib/fs-filtered"); var p = require("path").join; buster.testCase('fs-filtered', { setUp: function () { this.stub(fs, "readdir").yields(null, ["file1", "file2", ".#meh"]); this.stub(fs, "stat"); fs.stat.withArgs(p("tmp", "file1")).yields(null, { stats: "yo" }); fs.stat.withArgs(p("tmp", "file2")).yields(null, { stats: "ho" }); fs.stat.withArgs(p("tmp", ".#meh")).yields(null, { stats: "no" }); }, "stats all files in a directory": function () { var callback = this.spy(); fsFiltered.statFiles("tmp", callback); assert.calledWith(fs.readdir, "tmp"); assert.calledOnceWith(callback, null, [ { name: p("tmp", "file1"), stats: "yo" }, { name: p("tmp", "file2"), stats: "ho" }, { name: p("tmp", ".#meh"), stats: "no" } ]); }, "filters out unwanted files": function () { var callback = this.spy(); fsFiltered.create(["#"]).statFiles("tmp", callback); assert.calledWith(fs.readdir, "tmp"); assert.calledOnceWith(callback, null, [ { name: p("tmp", "file1"), stats: "yo" }, { name: p("tmp", "file2"), stats: "ho" } ]); } });
var qs = require('querystring'), utile = require('utile'), xml2js = require('xml2js'), auth = require('../../../common/auth'), amazon = require('../../client'); var Client = exports.Client = function (options) { amazon.Client.call(this, options); this.securityGroup = options.securityGroup; utile.mixin(this, require('./flavors')); utile.mixin(this, require('./images')); utile.mixin(this, require('./servers')); utile.mixin(this, require('./keys')); this.before.push(auth.amazon.bodySignature); }; utile.inherits(Client, amazon.Client); Client.prototype.query = function query(action, query, errback, callback) { return this.request({ method: 'POST', path: [], headers: { }, body: utile.mixin({ Action: action }, query) }, errback, function (body, res) { var parser = new xml2js.Parser(); parser.parseString(body, function (err, data) { return err ? errback(err) : callback(data, res); }); }); }; Client.prototype.bootstrapOptions = function (options, keys) { var result = {}, securityGroup; if (options.keyname || options.KeyName) { result.KeyName = options.keyname || options.KeyName; } if (options.zone || options['AvailabilityZone']) { result['Placement.AvailabilityZone'] = options.zone || options['AvailabilityZone']; } securityGroup = this.securityGroup || options.securityGroup || options['SecurityGroup']; if (securityGroup) { result['SecurityGroup'] = securityGroup; } return result; }; Client.prototype.url = function () { var args = Array.prototype.slice.call(arguments); return ['https: };
var _baseCopy = require('./internal/_baseCopy'); var _curry1 = require('./internal/_curry1'); module.exports = _curry1(function clone(value) { return _baseCopy(value, [], []); });
module.exports = function (grunt) { grunt.initConfig({ jshint: { all: ['Gruntfile.js', 'app.js', 'routes *.js', 'public/javascript *.js'] }, git_log_json: { options: { dest: 'changelog.json', shortHash: true } } }); grunt.loadNpmTasks('grunt-contrib-jshint'); grunt.loadNpmTasks('grunt-git-log-json'); grunt.registerTask('default', ['jshint']); };
var assert = require("chai").assert; var crossbow = require("../../../index"); describe("Adding a post with categories", function() { it("promotes front-matter categories to main obj", function() { var site = crossbow.builder({ config: { base: "src", urlFormat: { "type:post": "/:filepath" } } }); var index = site.add({ type: "post", key: "src/_posts/javascript/whatevers.md", content: "---\ncategories: js, node\n---\n{{post.date}}" }); assert.equal(index.get("key"), "src/_posts/javascript/whatevers.md"); assert.equal(index.get("url"), "/javascript/whatevers.html"); assert.deepEqual(index.get("_categories").toJS(), ["js", "node"]); }); });
var uniq = require('lodash.uniq'); module.exports = function(dependencyTree, filterRegEx) { var result = []; var queue = [dependencyTree]; var node; while (queue.length) { node = queue.pop(); result.unshift(node); Object.keys(node.dependencies).forEach(function(packageName) { queue.push(node.dependencies[packageName]); }); } return uniq( result .slice(1, -1) .filter(function(packageJson) { return !filterRegEx || filterRegEx.test(packageJson.name); }), function(packageJson) { return packageJson.name; } ); };
﻿ CKEDITOR.plugins.setLang( 'quicktable', 'ug', { more: 'ا رەڭ' } );
module.exports = { options: { logConcurrentOutput: true } };
$( function() { var template = $( '<div>'+ '<div class="sourceedit">'+ '<textarea />'+ '</div>'+ '<div class="controls">'+ '<button class="button sourcerefresh icon-cw" title="refresh the source code">refresh</button>'+ '<button class="button sourcecompress icon-bag" title="refresh and compress the source code into one line">compress</button>'+ '<button class="button sourceapply icon-ok" title="reloads the app">apply changes</button>'+ '</div>'+ '</div>' ); var code = template.find("textarea"); Iframework.addMenu("source", template, "icon-cog"); Iframework.on("change", function(graph){ if (Iframework.graph && Iframework.$(".menu-source").is(":visible")) { var scrollBackTop = code.prop("scrollTop"); code.val( JSON.stringify(Iframework.graph.toJSON(), null, " ") ); code.scrollTop( scrollBackTop ); } }); var sourceRefresh = function(){ code.val( JSON.stringify(Iframework.graph, null, " ") ); }; template.find(".sourcerefresh").click(sourceRefresh); Iframework.on("showmenu:source", sourceRefresh); var sourceCompress = function(){ code.val( JSON.stringify(Iframework.graph, null, "") ); }; template.find(".sourcecompress").click(sourceCompress); var sourceApply = function(){ var graph; try { graph = JSON.parse( code.val() ); } catch(error){ return false; } if (graph) { var g = Iframework.loadGraph(graph); Iframework._loadedLocalApp = null; sourceRefresh(); g.trigger("change"); } return false; }; template.find(".sourceapply").click(sourceApply); } );
basePath = ''; frameworks = ['jasmine'] files = [ 'libs/angular.js', 'libs/angular-mocks.js', 'ng-upload.js', 'test *Spec.js' ]; exclude = [ ]; reporters = ['progress']; port = 9876; runnerPort = 9100; colors = true; logLevel = karma.LOG_INFO; autoWatch = true; browsers = ['Chrome']; captureTimeout = 60000; singleRun = false;
var LoginController = ['$scope', '$q', '$timeout', function ($scope, $q, $timeout) { $scope.session = {}; $scope.login = function () { var deferred = $q.defer(); $timeout(function() { deferred.resolve(); alert('logged in!'); }, 5000); return deferred.promise; }; }];
module.exports = { re: /https?:\/\/issuu\.com\/[\w_.-]+\/docs\/([\w_.-]+)/i, mixins: [ "oembed-thumbnail", "oembed-author", "oembed-title", "oembed-site" ], getLink: function (oembed) { if (!oembed.html) { return; } return [{ html: oembed.html.replace (/style=\"[^\"]+\"/i, ""), type: CONFIG.T.text_html, rel: [CONFIG.R.reader, CONFIG.R.inline, CONFIG.R.ssl] }, { href: "http: rel: [CONFIG.R.icon], type: CONFIG.T.image_png, width: 152, height: 152 }]; }, tests: [ "http: "http: "http: ] };
define('configuration/development', ['Mobile/SalesLogix/ApplicationModule'], function(ApplicationModule) { return { modules: [ new ApplicationModule() ], connections: { 'crm': { isDefault: true, offline: true, url: 'http: timeout: 30000, json: true } }, enableUpdateNotification: true, multiCurrency: false, enableGroups: true, enableHashTags: true, maxUploadFileSize: 40000000, enableConcurrencyCheck: false }; });
"use strict"; module.exports = function (grunt) { grunt.initConfig({ pkg: require('./package.json'), banner: ' \n', uglify: { options: { banner: "<%= banner %>", report: "gzip", mangle: true }, all:{ src: "dist/<%= pkg.name %>.js", dest: "dist/<%= pkg.name %>.min.js" } }, jshint: { options: { jshintrc: ".jshintrc" }, gruntfile: { src: [ "Gruntfile.js", "lib/grunt *.js" ] }, lib_test: { src: [ "lib *.js", "!lib/grunt *.js", "test *.js" ] } }, karma: { options: { configFile: "karma.conf.js" }, unit: { singleRun: true }, debug: { background: true }, ci: { singleRun: true, reporters: ["dots"], browsers: ["PhantomJS"] } }, jsdoc_md: { main: { files: { "doc/WaveformData.md": "lib/core.js", "doc/WaveformDataPoint.md": "lib/point.js", "doc/WaveformDataSegment.md": "lib/segment.js", "doc/WaveformDataArrayBufferAdapter.md": "lib/adapters/arraybuffer.js", "doc/WaveformDataObjectAdapter.md": "lib/adapters/object.js" }, options: { filters: [ function excludePrototypeObject(comment){ return comment.ctx && comment.ctx.type === "prototype"; }, function excludeSingleLineComment(comment){ return comment.description.full.match(/^[ \t]*(globals|jshint|jslint)/); }, function excludeTypedefTag(comment){ return comment.tags.some(function(tag){ return tag.type === "typedef"; }); } ] } } } }); grunt.loadNpmTasks("grunt-contrib-uglify"); grunt.loadNpmTasks("grunt-jsdoc-md"); grunt.registerTask("default", ["build"]); grunt.registerTask("build", ["jsdoc_md", "uglify"]); };
function WalkontableViewportRowsCalculator(height, scrollOffset, totalRows, rowHeightFn, overrideFn, onlyFullyVisible) { this.scrollOffset = scrollOffset; this.startRow = null; this.startPosition = null; this.endRow = null; this.count = 0; var sum = 0; var rowHeight; var needReverse = true; var defaultRowHeight = 23; var startPositions = []; for (var i = 0; i < totalRows; i++) { rowHeight = rowHeightFn(i); if (rowHeight === undefined) { rowHeight = defaultRowHeight; } if (sum <= scrollOffset && !onlyFullyVisible) { this.startRow = i; } if (sum >= scrollOffset && sum + rowHeight <= scrollOffset + height) { if (this.startRow == null) { this.startRow = i; } this.endRow = i; } startPositions.push(sum); sum += rowHeight; if(!onlyFullyVisible) { this.endRow = i; } if (sum >= scrollOffset + height) { needReverse = false; break; } } if (this.endRow == totalRows - 1 && needReverse) { this.startRow = this.endRow; while(this.startRow > 0) { var viewportSum = startPositions[this.endRow] + rowHeight - startPositions[this.startRow - 1]; if (viewportSum <= height || !onlyFullyVisible) { this.startRow--; } if (viewportSum >= height) { break; } } } if (this.startRow !== null && overrideFn) { overrideFn(this); } this.startPosition = startPositions[this.startRow]; if (this.startPosition == void 0) { this.startPosition = null; } if (this.startRow != null) { this.count = this.endRow - this.startRow + 1; } }
var mongo = require('mongojs'), db = mongo.connect('/videoProjects', ['assets']), files = null; exports.init = function (files) { "use strict"; this.files = files; return this; }; exports.create = function (data, callback) { db.assets.save(data, function saveCallback(err, docs) { console.log('ASSET.JS::CREATED', docs._id); if (err) throw err; callback(err, docs); } ); }; exports.read = function (data, callback) { db.assets.findOne({_id : db.ObjectId(data._id)}, function onFound(err, docs) { console.log('ASSET.JS::FOUND', docs._id); if (err) throw err; callback(err, docs); }); }; exports.update = function (data, callback) { var id = data._id; delete data._id; db.assets.update({_id : db.ObjectId(id)}, data, {multi : false}, function updateCallback(err, docs) { data._id = id; if (err) throw err; callback(err, {}); } ) ; }; exports.remove = function (data, callback) { var id = db.ObjectId(data._id); db.assets.remove({_id : id}, function deleteCallback(err, docs) { console.log('ASSET.JS::REMOVED', id); if (err) throw err; callback(err, docs); }); }; exports.getLibraryByProjectId = function (data, callback) { db.assets.find({projectId : data.id}, function onFound(err, docs) { console.log('PROJECTS.JS::LIBRARY SERVED WITH', docs.length, 'ASSETS'); if (err) throw err; callback(err, docs); }); }; exports.getAssetByFileId = function (fileId, callback) { 'use strict'; db.assets.findOne({files : {$all : [fileId]}}, function onFound(err, docs) { if (err) throw err; callback(docs); } ); };
$(function(){ Iframework.NativeNodes["util-logic"] = Iframework.NativeNodes["util"].extend({ info: { title: "logic", description: "greater than (>) less than (<) equal (==) not equal (!=) logic" }, initializeModule: function(){ }, inputnumber1: function(n){ this._number1 = n; this.test(); }, inputnumber2: function(n){ this._number2 = n; this.test(); }, inputlogic: function(l){ if (l==="="){ l = "=="; this.set("logic", "=="); } if (l===">" || l===">=" || l==="<" || l==="<=" || l==="==" || l==="!=") { this._logic = l; this.test(); } }, _result: false, test: function() { switch (this._logic) { case ">": this._result = (this._number1 > this._number2); break; case ">=": this._result = (this._number1 >= this._number2); break; case "<": this._result = (this._number1 < this._number2); break; case "<=": this._result = (this._number1 <= this._number2); break; case "==": this._result = (this._number1 == this._number2); break; case "!=": this._result = (this._number1 != this._number2); break; default: break; } this.send("boolean", this._result); if (this._result) { this.send("true", "!"); } else { this.send("false", "!"); } this._triggerRedraw = true; }, redraw: function(timestamp){ this.$(".info").text( this._number1 + " " + this._logic + " " + this._number2 + " " + this._result ); }, inputs: { number1: { type: "float", description: "number to compare", "default": 0 }, number2: { type: "float", description: "number to compare", "default": 0 }, logic: { type: "string", description: "> (greater than), >=, < (less than), <=, == (equal), != (not equal)", options: "> >= < <= == !=".split(" "), "default": "==" } }, outputs: { "boolean": { type: "boolean" }, "true": { type: "bang" }, "false": { type: "bang" } } }); });
document.write( "<script id='jquery-js' src='" + parent.document.getElementById("jquery-js").src.replace( /^(?![^\/?#]+:)/, parent.location.pathname.replace( /[^\/]$/, "$0/" ) ) + "'><\x2Fscript>" );
(function($) { var methods = { init: function () { return this.each(function() { var self = this; this.titleField = $('[id="' + $(this).data('slug') + '"]'); this.slugGenerateButton = $(this).parent().find('.btn-slug'); if ( ! this.titleField.val()) { this.titleField.keyup( function(){ var slug = methods.convertToSlug( $(this).val() ); $(self).val(slug); }); }; this.slugGenerateButton.click(function(){ var string = self.titleField.val(), slug = methods.convertToSlug( string ); $(self).val(slug); return false; }); }); }, convertToSlug: function (string) { var slug = string .replace('œ','oe') .replace('?','') .replace('æ','ae'); var from = "ÃÀÁÄÂẼÈÉËÊÌÍÏÎÕÒÓÖÔÙÚÜÛÑÇãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;-'’!"; var to = "AAAAAEEEEEIIIIOOOOOUUUUNCaaaaaeeeeeiiiiooooouuuunc "; for (var i=0, l=from.length ; i<l ; i++) { slug = slug.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i)); } slug = $.trim(slug); slug = slug .toLowerCase() .replace(/[^\w ]+/g,'') .replace(/ +/g,'-'); return slug; }, }; $.fn.slug = function (method) { if (methods[method]) { return methods[method].apply(this, Array.prototype.slice.call(arguments, 1)); } else if (typeof method == 'object' || ! method) { return methods.init.apply(this, arguments); } else { $.error('Method ' + method + ' does not exist on jQuery.slug'); } }; $('[data-slug]').slug(); })(jQuery);
function toggle_visibility(id) { var d = document.getElementById(id); if(d.style.display == 'block') d.style.display = 'none'; else d.style.display = 'block'; } function show(id) { var d = document.getElementById(id); d.style.display = 'block'; } function hide(id) { document.getElementById(id).style.display = 'none'; }
exports.init = function(engine) { var loginPane = document.getElementById('loginPane'), playerList = document.getElementById('loginPlayers'), loginButton = document.getElementById('loginButton'), createButton = document.getElementById('loginCreate'), deleteButton = document.getElementById('loginDelete'); loginPane.style.display = 'block'; var players = engine.login.players; playerList.innerHTML = ''; for(var i=0; i<players.length; ++i) { playerList.innerHTML += '<input type=radio name=playerValue value="' + players[i].player_name + '"' + (i == 0 ? ' checked="checked" ' : '') + '>' + players[i].player_name + '<br/>' } loginButton.onclick = function() { var playerValues = document.getElementsByName('playerValue'); for(var i=0; i<playerValues.length; ++i) { if(playerValues[i].checked) { engine.login.joinGame(playerValues[i].value); break; } } }; createButton.onclick = function() { engine.setState(engine.game_module.states.create_state); }; deleteButton.onclick = function() { var playerValues = document.getElementsByName('playerValue'); for(var i=0; i<playerValues.length; ++i) { if(playerValues[i].checked) { var r = confirm("Are you sure you want to delete " + playerValues[i].value + " forever?"); if(r) { engine.login.deletePlayer(playerValues[i].value, function(err) { if(err) { throw Error("Could not delete player " + playerValues[i].value + ", reason: " + err); } engine.setState(engine.game_module.states.login_state); }); } break; } } }; } exports.deinit = function(engine) { var loginPane = document.getElementById('loginPane'); loginPane.style.display = 'none'; }
;(function($){ var growlContainer; $.Growl = { show: function(message, options){ var options = options || {}; if(options.webnotification && window["webkitNotifications"]){ if (webkitNotifications.checkPermission() === 0) { var title = options["title"] ? options.title:" "; return webkitNotifications.createNotification('data:image/gif;base64,R0lGODlhAQABAJEAAAAAAP }else{ webkitNotifications.requestPermission(); } } if(!growlContainer) { growlContainer = $('<div id="growlcontainer"></div>').appendTo("body"); } return new Status(message, options); } }; function Status(message, options) { var $this = this; this.settings = $.extend({ "title": false, "message": message, "speed": 500, "timeout": 3000 }, options); this.status = $('<div class="growlstatus" style="display:none;"><div class="growlstatus-close"></div>'+this.settings.message+'</div>'); growlContainer.prepend(this.status); this.status.delegate(".growlstatus-close", 'click', function(){ $this.cancel(true); }); if(this.settings.title!==false){ this.status.prepend('<div class="growltitle">'+this.settings.title+'</div>'); } this.status .hover( function(){ $this.status.data("growlhover", true); }, function(){ $this.status.data("growlhover", false); if($this.settings.timeout!==false){ window.setTimeout(function(){$this.status.cancel();}, $this.settings.timeout); } } ) .fadeIn(this.settings.speed,function(){ if($this.settings.timeout!==false){ window.setTimeout(function(){$this.cancel();}, $this.settings.timeout); } }); this.cancel = function(force){ if(!this.status.data("growlhover") || force){ $this.status.animate({opacity:"0.0"}, $this.settings.speed).slideUp(function(){ $this.status.remove(); }); } }; } })(jQuery);
'use strict'; angular.module('security.authorization', ['security.service']) .provider('securityAuthorization', { requireAdminUser: ['securityAuthorization', ['securityAuthorization', function (securityAuthorization) { return securityAuthorization.requireAdminUser(); }]], requireAuthenticatedUser: ['securityAuthorization', ['securityAuthorization', function (securityAuthorization) { return securityAuthorization.requireAuthenticatedUser(); }]], $get: ['security', 'securityRetryQueue', function (security, queue) { var service = { requireAuthenticatedUser: function () { var promise = security.requestCurrentUser().then(function () { if (!security.isAuthenticated()) { return queue.pushRetryFn('unauthenticated-client', service.requireAuthenticatedUser); } }); return promise; }, requireAdminUser: function () { var promise = security.requestCurrentUser().then(function () { if (!security.isAdmin()) { return queue.pushRetryFn('unauthorized-client', service.requireAdminUser); } }); return promise; }, }; return service; }] });
var assert = require('assert'); var R = require('..'); describe('mapObjIndexed', function() { var times2 = function(x) {return x * 2;}; var addIndexed = function(x, key) {return x + key;}; var squareVowels = function(x, key) { var vowels = ['a', 'e', 'i', 'o', 'u']; return R.contains(key, vowels) ? x * x : x; }; it('works just like a normal mapObj', function() { assert.deepEqual(R.mapObjIndexed(times2, {a: 1, b: 2, c: 3, d: 4}), {a: 2, b: 4, c: 6, d: 8}); }); it('passes the index as a second parameter to the callback', function() { assert.deepEqual(R.mapObjIndexed(addIndexed, {a: 8, b: 6, c: 7, d: 5, e: 3, f: 0, g: 9}), {a: '8a', b: '6b', c: '7c', d: '5d', e: '3e', f: '0f', g: '9g'}); }); it('passes the entire list as a third parameter to the callback', function() { assert.deepEqual(R.mapObjIndexed(squareVowels, {a: 8, b: 6, c: 7, d: 5, e: 3, f: 0, g: 9}), {a: 64, b: 6, c: 7, d: 5, e: 9, f: 0, g: 9}); }); it('is curried', function() { var makeSquareVowels = R.mapObjIndexed(squareVowels); assert.deepEqual(makeSquareVowels({a: 8, b: 6, c: 7, d: 5, e: 3, f: 0, g: 9}), {a: 64, b: 6, c: 7, d: 5, e: 9, f: 0, g: 9}); }); });
describe('Core_destroy', function () { var id = 'testContainer'; beforeEach(function () { this.$container = $('<div id="' + id + '"></div>').appendTo('body'); }); afterEach(function () { if (this.$container) { destroy(); this.$container.remove(); } }); it('should remove table from the root element', function () { handsontable(); destroy(); expect(this.$container.html()).toEqual(''); }); it('should remove events from the root element, document element and window', function () { var x = handsontable(); expect(x.eventListeners.length > 0).toBeTruthy(); destroy(); expect(x.eventListeners).toBeNull(); $(document.documentElement).off('.copypaste'); }); it('should NOT remove events from document element and window for other Handsontable instances on the page', function () { handsontable(); var $tmp = $('<div id="tmp"></div>').appendTo(document.body); $tmp.handsontable(); $tmp.handsontable('destroy'); $tmp.remove(); selectCell(0, 0); $('html').simulate('mousedown'); expect(getSelected()).toBeUndefined(); }); });
define('crm/Fields/AddressField', [ 'dojo/_base/declare', 'dojo/_base/lang', 'argos/Fields/EditorField', 'argos/FieldManager' ], function( declare, lang, EditorField, FieldManager ) { var control = declare('crm.Fields.AddressField', [EditorField], { widgetTemplate: new Simplate([ '<label for="{%= $.name %}">{%: $.label %}</label>', '<button class="button simpleSubHeaderButton {% if ($$.iconClass) { %} {%: $$.iconClass %} {% } %}" aria-label="{%: $.lookupLabelText %}"><span>{%: $.lookupText %}</span></button>', '<div data-dojo-attach-point="inputNode"></div>' ]), iconClass: 'fa fa-pencil fa-lg', attributeMap: { addressContent: { node: 'inputNode', type: 'innerHTML' } }, rows: 4, lookupLabelText: 'edit', emptyText: '', _enableTextElement: function() { }, _disableTextElement: function() { }, setText: function(text) { this.set('addressContent', text); } }); lang.setObject('Mobile.SalesLogix.Fields.AddressField', control); return FieldManager.register('address', control); });
﻿ var EntityKey = (function () { var ENTITY_KEY_DELIMITER = ":::"; var ctor = function (entityType, keyValues) { assertParam(entityType, "entityType").isInstanceOf(EntityType).check(); var subtypes = entityType.getSelfAndSubtypes(); if (subtypes.length > 1) { this._subtypes = subtypes.filter(function (st) { return st.isAbstract === false; }); } if (!Array.isArray(keyValues)) { keyValues = __arraySlice(arguments, 1); } this.entityType = entityType; entityType.keyProperties.forEach(function (kp, i) { if (kp.dataType === DataType.Guid) { keyValues[i] = keyValues[i] && keyValues[i].toLowerCase(); } }); this.values = keyValues; this._keyInGroup = createKeyString(keyValues); }; ctor._$typeName = "EntityKey"; var proto = ctor.prototype; proto.toJSON = function () { return { entityType: this.entityType.name, values: this.values }; }; ctor.fromJSON = function (json, metadataStore) { var et = metadataStore._getEntityType(json.entityType, true); return new EntityKey(et, json.values); }; proto.equals = function (entityKey) { if (!(entityKey instanceof EntityKey)) return false; return (this.entityType === entityKey.entityType) && __arrayEquals(this.values, entityKey.values); }; proto.toString = function () { return this.entityType.name + '-' + this._keyInGroup; }; ctor.equals = function (k1, k2) { if (!(k1 instanceof EntityKey)) return false; return k1.equals(k2); }; proto._isEmpty = function () { return this.values.join("").length === 0; }; ctor.createKeyString = createKeyString; function createKeyString(keyValues) { return keyValues.join(ENTITY_KEY_DELIMITER); } return ctor; })(); breeze.EntityKey = EntityKey;
window.onload = function(){ Aaron.next(function func1() { setTimeout(function(){ console.log(11111111) },100) return Aaron.wait(2); }) .next(function func2() { setTimeout(function(){ console.log(22222222) },300) }) .next(function func2() { setTimeout(function(){ console.log(3333333) },50) }) }
angular.module('<%= name %>.main.note', ['ui.router']) .config(function (<%= providers %>) { $stateProvider .state('<%= name %>.main.notes', { url: '/notes', templateUrl: 'note/note.tpl.html', controller: 'NoteController' }); }) .controller('NoteController', function ($scope) { $scope.message = 'Yooo!'; });
angular.module('ui.directives').directive('uiCalendar',['ui.config', '$parse', function (uiConfig,$parse) { uiConfig.uiCalendar = uiConfig.uiCalendar || {}; return { require: 'ngModel', restrict: 'A', scope: { events: "=ngModel" }, link: function(scope, elm, $attrs) { var ngModel = $parse($attrs.ngModel); function update() { var expression, options = { header: { left: 'prev,next today', center: 'title', right: 'month,agendaWeek,agendaDay' }, eventMouseover: function(event, jsEvent, view) { if (view.name !== 'agendaDay') { $(jsEvent.target).attr('title', event.title); } }, events: scope.events }; if ($attrs.uiCalendar){ expression = scope.$eval($attrs.uiCalendar); } else{ expression = {}; } angular.extend(options, uiConfig.uiCalendar, expression); elm.html('').fullCalendar(options); } update(); scope.$watch( 'events.length', function( newVal, oldVal ) { update(); }, true ); } }; }]);
var system = require('system'); var page = require('webpage').create(), url = './basic.html'; page.onConsoleMessage = function (msg) { console.log(msg); if (msg.indexOf('finished') > -1) { phantom.exit(); } }; page.open(url, function (status) { if (status !== "success") { console.log("Unable to access network"); phantom.exit(); } });
define([ 'jquery', 'underscore', 'backbone', 'editionPageModule/views/fieldViews/BaseView', 'text!editionPageModule/templates/fields/TextFieldView.html' ], function($, _, Backbone, BaseView, viewTemplate) { var TextFieldView = BaseView.extend({ events: function() { return _.extend({}, BaseView.prototype.events, { 'change input[type="text"]': 'updateModel' }); }, initialize : function(options) { var opt = options; opt.template = viewTemplate; BaseView.prototype.initialize.apply(this, [opt]); }, render : function() { BaseView.prototype.render.apply(this, arguments); }, updateModel: function(e) { this.model.set('value', $(e.target).val()); } }); return TextFieldView; });
var mongoose = require( 'mongoose' ) var mongoUri = process.env.MONGOLAB_URI || process.env.MONGOHQ_URL || 'mongodb: mongoose.connect( mongoUri ); var db = mongoose.connection; db.on( 'error', console.error.bind( console, 'Database connection error')); db.once( 'open', function() { console.log( 'Connected' ); }); module.exports = mongoose;
module.exports = { stylesheets: function() { return ["css/login.css", "libs/formly/formly.min.css"]; }, scripts: function(){ return ["libs/formly/formly.min.js"]; } };
module.exports = function (grunt) { grunt.initConfig({ uglify: { default: { options: { preserveComments: 'some', sourceMap: 'angular-draganddrop.min.map', sourceMappingURL: 'angular-draganddrop.min.map' }, files: { 'angular-draganddrop.min.js': 'angular-draganddrop.js' } } } }); grunt.loadNpmTasks('grunt-contrib-uglify'); grunt.registerTask('default', ['uglify']); };
﻿ CKEDITOR.plugins.setLang( 'quicktable', 'sl', { more: 'Več...' } );
'use strict'; exports.type = 'perItem'; exports.active = true; exports.params = { floatPrecision: 3, leadingZero: true, defaultPx: true, convertToPx: true }; var regNumericValues = /^([\-+]?\d*\.?\d+([eE][\-+]?\d+)?)(px|pt|pc|mm|cm|m|in|ft|em|ex|%)?$/, removeLeadingZero = require('../lib/svgo/tools').removeLeadingZero, absoluteLengths = { cm: 96/2.54, mm: 9600/2.54, in: 96, pt: 4/3, pc: 16 }; exports.fn = function(item, params) { if (item.isElem()) { var match; item.eachAttr(function(attr) { match = attr.value.match(regNumericValues); if (match) { var num = +(+match[1]).toFixed(params.floatPrecision), units = match[3] || ''; if (params.convertToPx && units && (units in absoluteLengths)) { var pxNum = +(absoluteLengths[units] * match[1]).toFixed(params.floatPrecision); if (String(pxNum).length < match[0].length) num = pxNum, units = 'px'; } if (params.leadingZero) { num = removeLeadingZero(num); } if (params.defaultPx && units === 'px') { units = ''; } attr.value = num + units; } }); } };
var UserDataAdaptor = function(options) { for (var i in LawnchairAdaptorHelpers) { this[i] = LawnchairAdaptorHelpers[i]; } this.init(options); }; UserDataAdaptor.prototype = { init:function(){ var s = document.createElement('span'); s.style.behavior = 'url(\'#default#userData\')'; s.style.position = 'absolute'; s.style.left = 10000; document.body.appendChild(s); this.storage = s; this.storage.load('lawnchair'); }, get:function(key, callback){ var obj = this.deserialize(this.storage.getAttribute(key)); if (obj) { obj.key = key; } if (callback) callback(obj); }, save:function(obj, callback){ var id = obj.key || 'lc' + this.uuid(); delete obj.key; this.storage.setAttribute(id, this.serialize(obj)); this.storage.save('lawnchair'); if (callback){ obj.key = id; callback(obj); } }, all:function(callback){ var cb = this.terseToVerboseCallback(callback); var ca = this.storage.XMLDocument.firstChild.attributes; var yar = []; var v,o; for (var i = 0, l = ca.length; i < l; i++) { v = ca[i]; o = this.deserialize(v.nodeValue); if (o) { o.key = v.nodeName; yar.push(o); } } if (cb) cb(yar); }, remove:function(keyOrObj,callback) { var key = (typeof keyOrObj == 'string') ? keyOrObj : keyOrObj.key; this.storage.removeAttribute(key); this.storage.save('lawnchair'); if(callback) callback(); }, nuke:function(callback) { var that = this; this.all(function(r){ for (var i = 0, l = r.length; i < l; i++) { if (r[i].key) that.remove(r[i].key); } if(callback) callback(); }); } };
﻿define(function(require) { var data = require('services/dataservice'), shell = require('viewmodels/shell'), InspectionViewModel = require('viewmodels/inspection'), CreateJobViewModel = require('viewmodels/createJob'); var vm = { jobs: ko.observableArray([]), activate: function() { shell.title(shell.inspector().Name()); shell.addCommand('add', function() { shell.navigate("createJob", new CreateJobViewModel()); } ); data.getJobsFor(shell.inspector().Id()).then(function(response) { vm.jobs(response.results); var locations = vm.jobs().length; shell.subtitle1(locations.toString() + (locations > 1 ? " locations" : " location")); }); }, navigateTo: function(inspection) { shell.navigate("inspection", new InspectionViewModel(inspection)); } }; return vm; });
var assert = require('assert'); var R = require('..'); describe('prop', function() { var fred = {name: 'Fred', age: 23}; it('returns a function that fetches the appropriate property', function() { var nm = R.prop('name'); assert.strictEqual(typeof nm, 'function'); assert.strictEqual(nm(fred), 'Fred'); }); });
if (!Array.isArray) { Array.isArray = function(obj) { return toString.call(obj) == '[object Array]'; }; }
define(['marionette'], function(Marionette) { var HomePageRouter = Backbone.Marionette.AppRouter.extend({ appRoutes: { "": "homeAction" } }); return HomePageRouter; });
'use strict'; var passport = require('passport'); var LocalStrategy = require('passport-local').Strategy; var User = require('./models/users'); module.exports = { localStrategy: new LocalStrategy( function(username, password, done) { var user = User.findByUsername(username); if(!user) { done(null, false, { message: 'Incorrect username.' }); } else if(user.password != password) { done(null, false, { message: 'Incorrect password.' }); } else { return done(null, user); } } ), serializeUser: function(user, done) { done(null, user.id); }, deserializeUser: function(id, done) { var user = User.findById(id); if (user) { done(null, user); } else { done(null, false); } }, login: function(req, res, next) { return passport.authenticate('local', function(err, user) { if (err) { return next(err); } if (!user) { return res.send(400, {message: 'Bad username or password'}); } req.logIn(user, function(err) { if (err) { return next(err); } res.json(200, user); }); })(req, res, next); }, logout: function(req, res) { req.logout(); return res.send(200); }, ensureAuthenticated: function(req, res, next) { if (req.isAuthenticated()) { return next(); } else { return res.send(401); } }, csrf: function(req) { var token = (req.body && req.body._csrf) || (req.query && req.query._csrf) || (req.headers['x-csrf-token']) || (req.headers['x-xsrf-token']); return token; } };
var gulp = require('gulp'); var jshint = require('gulp-jshint'); var sass = require('gulp-sass'); var uglify = require('gulp-uglify'); var rename = require('gulp-rename'); var header = require('gulp-header'); var bower = require('./bower.json'); var banner = [ ' ', ''].join('\n'); gulp.task('lint', function () { return gulp.src('src/jr-crop.js') .pipe(jshint()) .pipe(jshint.reporter('default')); }); gulp.task('scripts', function () { return gulp.src('src/jr-crop.js') .pipe(header(banner, { bower: bower } )) .pipe(gulp.dest('dist')) .pipe(rename('jr-crop.min.js')) .pipe(uglify()) .pipe(header(banner, { bower: bower } )) .pipe(gulp.dest('dist')); }); gulp.task('style', function () { return gulp.src('src/jr-crop.scss') .pipe(sass()) .pipe(gulp.dest('dist')); }); gulp.task('watch', function() { gulp.watch('src *', ['default']); }); gulp.task('default', ['lint', 'scripts', 'style']);
(function (factory) { if (typeof define === 'function' && define.amd) { define(['moment'], factory); } else if (typeof exports === 'object') { module.exports = factory(require('../moment')); } else { factory((typeof global !== 'undefined' ? global : this).moment); } }(function (moment) { return moment.defineLocale('zh-tw', { months : '一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split('_'), monthsShort : '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'), weekdays : '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_'), weekdaysShort : '週日_週一_週二_週三_週四_週五_週六'.split('_'), weekdaysMin : '日_一_二_三_四_五_六'.split('_'), longDateFormat : { LT : 'Ah點mm', LTS : 'Ah點m分s秒', L : 'YYYY年MMMD日', LL : 'YYYY年MMMD日', LLL : 'YYYY年MMMD日LT', LLLL : 'YYYY年MMMD日ddddLT', l : 'YYYY年MMMD日', ll : 'YYYY年MMMD日', lll : 'YYYY年MMMD日LT', llll : 'YYYY年MMMD日ddddLT' }, meridiemParse: /早上|上午|中午|下午|晚上/, meridiemHour : function (hour, meridiem) { if (hour === 12) { hour = 0; } if (meridiem === '早上' || meridiem === '上午') { return hour; } else if (meridiem === '中午') { return hour >= 11 ? hour : hour + 12; } else if (meridiem === '下午' || meridiem === '晚上') { return hour + 12; } }, meridiem : function (hour, minute, isLower) { var hm = hour * 100 + minute; if (hm < 900) { return '早上'; } else if (hm < 1130) { return '上午'; } else if (hm < 1230) { return '中午'; } else if (hm < 1800) { return '下午'; } else { return '晚上'; } }, calendar : { sameDay : '[今天]LT', nextDay : '[明天]LT', nextWeek : '[下]ddddLT', lastDay : '[昨天]LT', lastWeek : '[上]ddddLT', sameElse : 'L' }, ordinalParse: /\d{1,2}(日|月|週)/, ordinal : function (number, period) { switch (period) { case 'd' : case 'D' : case 'DDD' : return number + '日'; case 'M' : return number + '月'; case 'w' : case 'W' : return number + '週'; default : return number; } }, relativeTime : { future : '%s內', past : '%s前', s : '幾秒', m : '一分鐘', mm : '%d分鐘', h : '一小時', hh : '%d小時', d : '一天', dd : '%d天', M : '一個月', MM : '%d個月', y : '一年', yy : '%d年' } }); }));
var net = require('net'); var Binary = require('./binary'); var logger = require('./logger'); var Peer = function (host, port, services) { if ("string" === typeof host) { if (host.indexOf(':') && !port) { var parts = host.split(':'); host = parts[0]; port = parts[1]; } this.host = host; this.port = +port || 8333; } else if (host instanceof Peer) { this.host = host.host; this.port = host.port; } else if (Buffer.isBuffer(host)) { this.host = host.toString('hex').match(/(.{1,4})/g).join(':'); this.port = +port || 8333; } else { throw new Error('Could not instantiate peer, invalid parameter type: ' + typeof host); } this.services = (services) ? services : null; this.lastSeen = 0; }; Peer.prototype.createConnection = function () { var c = net.createConnection(this.port, this.host); return c; }; Peer.prototype.getHostAsBuffer = function () { return new Buffer(this.host.split('.')); }; Peer.prototype.toString = function () { return this.host + ":" + this.port; }; Peer.prototype.toBuffer = function () { var put = Binary.put(); put.word32le(this.lastSeen); put.word64le(this.services); put.put(this.getHostAsBuffer()); put.word16be(this.port); return put.buffer(); }; exports.Peer = Peer;
﻿xdescribe("first spec", function() { 'use strict'; it('should fail', function() { console.log('first'); var myObj = { method: function (){return 4; } }; expect(myObj.method()).toBe(1); }); it('should succeed', function () { console.log('howdy'); expect(2).toBe(2); }); });
define('crm/Views/LogOff', [ 'dojo/_base/declare', 'dojo/_base/lang', 'argos/View' ], function( declare, lang, View ) { var __class = declare('crm.Views.LogOff', [View], { widgetTemplate: new Simplate([ '<div id="{%= $.id %}" title="{%: $.titleText %}" class="panel {%= $.cls %}" hideBackButton="true">', '<h3>{%= $.messageText %}</h3>', '<a href="" data-action="login">{%: $.loginText %}</a>', '</div>' ]), messageText: 'You have been logged out. Please close your browser window.', loginText: 'Click here to log back in.', titleText: 'Logged Out', id: 'logoff', login: function() { window.open('#_login', '_blank', 'menubar,status,scrollbars,toolbar,location,personalbar'); }, createToolLayout: function() { return this.tools || (this.tools = { bbar: false, tbar: false }); } }); lang.setObject('Mobile.SalesLogix.Views.LogOff', __class); return __class; });
OfflineReader.RssView = Ember.View.extend({ templateName: 'rss' });
module.exports = function(config) { config.set({ basePath: '', frameworks: ['jasmine-jquery', 'jasmine'], files: [ './build/ffwdme-core.js', './build/ffwdme-components.js', './spec/helpers.js', './spec *_spec.js', './static/vendor/zepto/zepto.js', { pattern: './spec/fixtures/*.json', watched: true, served: true, included: false } ], exclude: [ ], preprocessors: { }, reporters: ['progress'], port: 9876, colors: true, logLevel: config.LOG_INFO, autoWatch: true, browsers: ['Chrome'], singleRun: false }); };
module.exports = { re: [ /^https?:\/\/www\.youtube\.com\/playlist\?list=([\-_a-zA-Z0-9]+)$/i ], provides: 'youtube_playlist_gdata', getData: function(urlMatch, request, cb) { var statsUri = "https: request({ uri: statsUri, qs: { v: 2, alt: "json" }, json: true }, function(error, b, data) { if (error) { return cb(error); } cb(null, { youtube_playlist_gdata: { id: data.feed['yt$playlistId']['$t'], updated: data.feed.updated['$t'], title: data.feed.title['$t'], uploader: data.feed.author[0].name['$t'], thumbnailBase: data.feed['media$group']['media$thumbnail'][0].url.replace(/[a-zA-Z0-9\.]+$/, '') } }); }); }, getMeta: function(youtube_playlist_gdata) { return { title: youtube_playlist_gdata.title, date: youtube_playlist_gdata.updated, author: youtube_playlist_gdata.uploader, site: "YouTube" }; }, getLinks: function(url, youtube_playlist_gdata) { var params = (CONFIG.providerOptions.youtube && CONFIG.providerOptions.youtube.get_params) ? CONFIG.providerOptions.youtube.get_params : ""; params = params.replace(/^\?/, '&'); var autoplay = params + "&autoplay=1"; var links = [{ href: "https: type: CONFIG.T.image_png, rel: CONFIG.R.icon, width: 32, height: 32 }, { href: 'https: rel: [CONFIG.R.player, CONFIG.R.html5], type: CONFIG.T.text_html, "aspect-ratio": 560/315 }, { href: 'https: rel: [CONFIG.R.player, CONFIG.R.html5, CONFIG.R.autoplay], type: CONFIG.T.text_html, "aspect-ratio": 560/315 }, { href: youtube_playlist_gdata.thumbnailBase + 'mqdefault.jpg', rel: CONFIG.R.thumbnail, type: CONFIG.T.image_jpeg, width: 320, height: 180 }, { href: youtube_playlist_gdata.thumbnailBase + 'hqdefault.jpg', rel: CONFIG.R.thumbnail, type: CONFIG.T.image_jpeg, width: 480, height: 360 }]; return links; }, tests: [{ feed: "https: }, "https: ] };
var oldCallbacks = [], rjsonp = /(=)\?(?=&|$)|\?\?/; jQuery.ajaxSetup({ jsonp: "callback", jsonpCallback: function() { var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( ajax_nonce++ ) ); this[ callback ] = true; return callback; } }); jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) { var callbackName, overwritten, responseContainer, jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ? "url" : typeof s.data === "string" && !( s.contentType || "" ).indexOf("application/x-www-form-urlencoded") && rjsonp.test( s.data ) && "data" ); if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) { callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ? s.jsonpCallback() : s.jsonpCallback; if ( jsonProp ) { s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName ); } else if ( s.jsonp !== false ) { s.url += ( ajax_rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName; } s.converters["script json"] = function() { if ( !responseContainer ) { jQuery.error( callbackName + " was not called" ); } return responseContainer[ 0 ]; }; s.dataTypes[ 0 ] = "json"; overwritten = window[ callbackName ]; window[ callbackName ] = function() { responseContainer = arguments; }; jqXHR.always(function() { window[ callbackName ] = overwritten; if ( s[ callbackName ] ) { s.jsonpCallback = originalSettings.jsonpCallback; oldCallbacks.push( callbackName ); } if ( responseContainer && jQuery.isFunction( overwritten ) ) { overwritten( responseContainer[ 0 ] ); } responseContainer = overwritten = undefined; }); return "script"; } });
"use strict" var tape = require("tape") var compare = require("./util/normalize").compare var triangulate = require("../triangulate") tape("delaunay-2d", function(t) { var points = [ [0, 1], [1, 0], [1, 1], [0, 0], [0.5, 0.5] ] compare(t, triangulate(points), [ [4,0,3], [4,2,0], [4,2,1], [4,3,1] ], "simple 2d") compare(t, triangulate(points, true), [ [4,0,3], [4,2,0], [4,2,1], [4,3,1], [-1,3,0], [-1,0,2], [-1,1,2], [-1,1,3] ], "2d + point at infinity") points.push([0.5, 0.5]) compare(t, triangulate(points), [ [4,0,3], [4,2,0], [4,2,1], [4,3,1] ], "2d + repeated point") t.end() })
'use strict'; angular.module('<%= ngModulName %>') .factory('ExampleService', function($http, $timeout, $q) { var kindOfPrivateVariable = 42; var doSomethingAsync = function() { var deferred = $q.defer(); $timeout(deferred.resolve.bind(null, kindOfPrivateVariable), 1000); return deferred.promise; }; var fetchSomethingFromServer = function() { return $http({ url: 'http: params: { paras: 2 }, method: 'GET' }) .success(function(data) { console.log('fetched this stuff from server:', data); }) .error(function(error) { console.log('an error occured', error); }); }; return { doSomethingAsync: doSomethingAsync, fetchSomethingFromServer: fetchSomethingFromServer }; });
var model = element(by.binding('user.name')); var input = element(by.model('user.name')); var other = element(by.model('user.data')); it('should allow custom events', function() { input.sendKeys(' hello'); input.click(); expect(model.getText()).toEqual('say'); other.click(); expect(model.getText()).toEqual('say hello'); }); it('should $rollbackViewValue when model changes', function() { input.sendKeys(' hello'); expect(input.getAttribute('value')).toEqual('say hello'); input.sendKeys(protractor.Key.ESCAPE); expect(input.getAttribute('value')).toEqual('say'); other.click(); expect(model.getText()).toEqual('say'); });
(function(cache) { var NodeCache = require("node-cache"); var nodeCache = new NodeCache({ stdTTL: CONFIG.CACHE_TTL, checkperiod: CONFIG.CACHE_TTL / 2 }); cache.set = function(key, data, options) { nodeCache.set(key, data, options && options.ttl || CONFIG.CACHE_TTL); }; cache.get = function(key, cb) { nodeCache.get(key, function(error, data) { if (error) { return cb(error, null); } if (data && key in data) { cb(null, data[key]); } else { cb(null, null); } }); }; })(exports);
'use strict'; var dynamoose = require('../'); var Cat = dynamoose.model('Cat', { id: Number, name: String }); var garfield = new Cat({id: 666, name: 'Garfield'}); garfield.save(); Cat.get(666) .then(function (badCat) { console.log('Never trust a smiling cat. - ' + badCat.name); });
jQuery(function($) { $.datepicker.regional['is'] = { closeText: 'Loka', prevText: '&#x3c; Fyrri', nextText: 'N&aelig;sti &#x3e;', currentText: '&Iacute; dag', monthNames: ['Jan&uacute;ar','Febr&uacute;ar','Mars','Apr&iacute;l','Ma&iacute','J&uacute;n&iacute;', 'J&uacute;l&iacute;','&Aacute;g&uacute;st','September','Okt&oacute;ber','N&oacute;vember','Desember'], monthNamesShort: ['Jan','Feb','Mar','Apr','Ma&iacute;','J&uacute;n', 'J&uacute;l','&Aacute;g&uacute;','Sep','Okt','N&oacute;v','Des'], dayNames: ['Sunnudagur','M&aacute;nudagur','&THORN;ri&eth;judagur','Mi&eth;vikudagur','Fimmtudagur','F&ouml;studagur','Laugardagur'], dayNamesShort: ['Sun','M&aacute;n','&THORN;ri','Mi&eth;','Fim','F&ouml;s','Lau'], dayNamesMin: ['Su','M&aacute;','&THORN;r','Mi','Fi','F&ouml;','La'], weekHeader: 'Vika', dateFormat: 'dd/mm/yy', firstDay: 0, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['is']); });
(function ($) { var nodeInterface = ["getChildren","getChildrenCount","getAttr","getName","getProps"], validateInterface = function(obj, inter) { var valid = true; obj = obj || {}; inter = [].concat(inter); $.each(inter, function (i, v) { if (!$.isFunction(obj[v])) { valid = false; return false; } }); return valid; }; $.jstree.plugin("model", { __init : function () { if (!this.data.json_data) { throw "jsTree model: jsTree json_data plugin not included."; } this._get_settings().json_data.data = function (n, b) { var obj = (n == -1) ? this._get_settings().model.object : n.data("jstree_model"); if (!validateInterface(obj, nodeInterface)) { return b.call(null, false); } if (this._get_settings().model.async) { obj.getChildren($.proxy(function (data) { this.model_done(data, b); }, this)); } else { this.model_done(obj.getChildren(), b); } }; }, defaults : { object : false, id_prefix : false, async : false }, _fn : { model_done : function (data, callback) { var ret = [], s = this._get_settings(), _this = this; if (!$.isArray(data)) { data = [data]; } $.each(data, function (i, nd) { var r = nd.getProps() || {}; r.attr = nd.getAttr() || {}; if (nd.getChildrenCount()) { r.state = "closed"; } r.data = nd.getName(); if (!$.isArray(r.data)) { r.data = [r.data]; } if (_this.data.types && $.isFunction(nd.getType)) { r.attr[s.types.type_attr] = nd.getType(); } if (r.attr.id && s.model.id_prefix) { r.attr.id = s.model.id_prefix + r.attr.id; } if (!r.metadata) { r.metadata = { }; } r.metadata.jstree_model = nd; ret.push(r); }); callback.call(null, ret); } } }); })(jQuery);
var C = require('../constants.js'), is = require('../utils.js').is, EasingImpl = require('./easing.js'), guid = require('../utils.js').guid; Modifier.ORDER = [ C.MOD_SYSTEM, C.MOD_TWEEN, C.MOD_USER, C.MOD_EVENT ]; Modifier.FIRST_MOD = C.MOD_SYSTEM; Modifier.LAST_MOD = C.MOD_EVENT; Modifier.ALL_MODIFIERS = [ C.MOD_SYSTEM, C.MOD_TWEEN, C.MOD_USER, C.MOD_EVENT ]; Modifier.NOEVT_MODIFIERS = [ C.MOD_SYSTEM, C.MOD_TWEEN, C.MOD_USER ]; function Modifier(func, type) { func.id = guid(); func.type = type || C.MOD_USER; func.$data = null; func.$band = func.$band || null; func.$time = is.defined(func.$time) ? func.$time : null; func.$easing = func.$easing || null; func.relative = is.defined(func.relative) ? func.relative : false; func.is_tween = (func.is_tween || (func.type == C.MOD_TWEEN) || false); func[C.MARKERS.MODIFIER_MARKER] = true; func.band = function(start, stop) { if (!is.defined(start)) return this.$band; if (is.arr(start)) { stop = start[1]; start = start[0]; } if (!is.defined(stop)) { stop = Infinity; } this.$band = [ start, stop ]; return func; }; func.time = function(value) { if (!is.num(value)) return this.$time; this.$time = value; return this; }; func.easing = function(f, data) { if (!f) return this.$easing; this.$easing = convertEasing(f, data, this.relative || this.is_tween); return this; }; func.data = function(data) { if (!is.defined(data)) return this.$data; this.$data = data; return this; }; return func; } var convertEasing = function(easing, data, relative) { if (!easing) return null; var f; if (is.str(easing)) { f = EasingImpl[easing](data); return relative ? f : function(t, len) { return f(t / len, len) * len; }; } if (is.fun(easing) && !data) return easing; if (is.fun(easing) && data) return easing(data); if (easing.type) { f = EasingImpl[easing.type](easing.data || data); return relative ? f : function(t, len) { return f(t / len, len) * len; }; } if (easing.f) return easing.f(easing.data || data); }; module.exports = Modifier;
var running = deskShell.startApp({}) .then(function(app) { app.socketio.on('connection', function(socket) { console.log("socket connected"); socket.on('makeError',function() { throw new Error("Pretend Error Exception"); }); }); });
var chars = 'abcdefghijklmnopqrstuvwxyz'; module.exports = function rand_id() { var randomstring = ''; for (var i=0; i<10; ++i) { var rnum = Math.floor(Math.random() * chars.length); randomstring += chars[rnum]; } return randomstring; }
var newId = require('node-uuid'); function addCorrelationId (queueName, message, next) { if ( ! message.cid) { message.cid = newId(); } next(null, queueName, message); } module.exports = function () { return { handleOutgoing: addCorrelationId }; }
var assert = require('assert'), request = require('request'); exports.assertGet = function(port, uri, expected) { var context = { topic: function () { request({ uri: 'http: } }; context['should respond with `' + expected + '`'] = function (err, res, body) { assert.isNull(err); assert.equal(res.statusCode, 200); assert.equal(body, expected); }; return context; }; exports.assertPost = function(port, uri, expected) { return { topic: function () { request({ method: 'POST', uri: 'http: body: JSON.stringify(expected) }, this.callback); }, "should respond with the POST body": function (err, res, body) { assert.isNull(err); assert.equal(res.statusCode, 200); assert.deepEqual(JSON.parse(body), expected); } }; };
var errs = require('errs'), utile = require('utile'); exports.listKeys = function (options, callback) { if (!callback && typeof options === 'function') { callback = options; options = {} } var self = this; options = options || {}; return this.query('DescribeKeyPairs', options, callback, function (body, res) { callback(null, self._toArray(body.keySet.item)); }); }; exports.getKey = function (name, callback) { return this.listKeys({ 'KeyName.1': name }, function (err, body) { return err ? callback(err) : callback(null, body[0]); }); }; exports.addKey = function (options, callback) { if (!options || !options.key || !options.name) { return errs.handle( errs.create({ message: '`key` and `name` are required options.' }), callback ); } return this.query( 'ImportKeyPair', { KeyName: options.name, PublicKeyMaterial: utile.base64.encode(options.key) }, callback, function (body, res) { return callback(null, true); } ); }; exports.destroyKey = function (name, callback) { return this.query( 'DeleteKeyPair', { KeyName: name }, callback, function (body, res) { return callback(null, true); } ); };
var assert = require('assert'), path = require('path'), vows = require('vows'), fmonitor = require('../../lib'); vows.describe('forever-monitor/monitor/signal').addBatch({ "When using forever-monitor": { "and spawning a script that ignores signals SIGINT and SIGTERM": { "with killTTL defined": { topic: function () { var script = path.join(__dirname, '..', '..', 'examples', 'signal-ignore.js'), child = new (fmonitor.Monitor)(script, { silent: true, killTTL: 1000 }), callback = this.callback, timer; timer = setTimeout(function () { callback(new Error('Child did not die when killed by forever'), child); }, 3000); child.on('exit', function () { callback.apply(null, [null].concat([].slice.call(arguments))); clearTimeout(timer); }); child.on('start', function () { setTimeout(function() { child.stop(); }, 1000); }); child.start(); }, "should forcibly kill the processes": function (err, child, spinning) { assert.isNull(err); } } } } }).export(module);
﻿ CKEDITOR.plugins.setLang( 'justify', 'el', { block: 'Πλήρης Στοίχιση', center: 'Στοίχιση στο Κέντρο', left: 'Στοίχιση Αριστερά', right: 'Στοίχιση Δεξιά' });
$(document).ready(function() { function drawGradient(x, y, r1, r2) { var radialGradient = context.createRadialGradient(x, y, r1, x, y, r2); radialGradient.addColorStop(0, "red"); radialGradient.addColorStop(1, "green"); context.fillStyle = radialGradient; context.beginPath(); context.arc(x, y, r2, 0, 360, false); context.fill(); context.closePath(); } var canvas = document.createElement("canvas"), context = canvas.getContext("2d"); canvas.width = canvas.height = 600; context.fillRect(0,0,50,50); var linearGradient = context.createLinearGradient(100, 100, 100, 600); linearGradient.addColorStop(0.0, "black"); linearGradient.addColorStop(0.5, "red"); linearGradient.addColorStop(1.0, "blue"); context.fillStyle = linearGradient; context.fillRect(100,100,500,600); drawGradient(75, 75, 25, 55); drawGradient(225, 75, 5, 55); var img = document.createElement("img"); $(img).load(function() { context.drawImage(img, 100, 100); GradientScanner.loadImage(canvas, "example image"); }); img.src = "test/css-gradient-dropdown-menu.gif"; $(document).bind("imageLoaded", function lineSeed() { $(this).unbind("imageLoaded", lineSeed); var offset = $("#imageDisplay").offset(); var mousedown = jQuery.Event("mousedown"); mousedown.which = 1; mousedown.pageX = 189; mousedown.pageY = 503; mousedown.pageX = 232; mousedown.pageY = 81; mousedown.pageX = 366; mousedown.pageY = 100; mousedown.pageX += offset.left; mousedown.pageY += offset.top; var mousemove = jQuery.Event("mousemove"); mousemove.which = 1; mousemove.pageX = 189; mousemove.pageY = 142; mousemove.pageX = 79; mousemove.pageY = 81; mousemove.pageX = 366; mousemove.pageY = 600; mousemove.pageX += offset.left; mousemove.pageY += offset.top; $("#imageDisplay") .trigger(mousedown) .trigger(mousemove) .trigger(jQuery.Event("mouseup")); }); });
; (function($) { $.jgrid.extend({ getPostData : function() { var $t = this[0]; if (!$t.grid) { return; } return $t.p.postData; }, setPostData : function(newdata) { var $t = this[0]; if (!$t.grid) { return; } if (typeof(newdata) === 'object') { $t.p.postData = newdata; } else { alert("Error: cannot add a non-object postData value. postData unchanged."); } }, appendPostData : function(newdata) { var $t = this[0]; if (!$t.grid) { return; } if (typeof(newdata) === 'object') { $.extend($t.p.postData, newdata); } else { alert("Error: cannot append a non-object postData value. postData unchanged."); } }, setPostDataItem : function(key, val) { var $t = this[0]; if (!$t.grid) { return; } $t.p.postData[key] = val; }, getPostDataItem : function(key) { var $t = this[0]; if (!$t.grid) { return; } return $t.p.postData[key]; }, removePostDataItem : function(key) { var $t = this[0]; if (!$t.grid) { return; } delete $t.p.postData[key]; }, getUserData : function() { var $t = this[0]; if (!$t.grid) { return; } return $t.p.userData; }, getUserDataItem : function(key) { var $t = this[0]; if (!$t.grid) { return; } return $t.p.userData[key]; } }); })(jQuery);
var assert = require("chai").assert; var crossbow = require("../../index"); describe("Adding a partial", function() { it("Add & update 1 partial", function(done) { var site = crossbow.builder(); var content = "<p>{{itemTitle}} is rad, {{page.url}}, {{site.title}}</p>"; var content2 = content + "<span>another</span>"; var key = "lay/default.hbs"; var index = site.add({type: "partial", key: key, content: content}); assert.equal(index.get("type"), "partial"); assert.equal(index.get("key"), key); assert.equal(index.get("content"), content); index = site.add({type: "partial", key: key, content: content2}); assert.equal(index.get("content"), content2); assert.deepEqual(site.cache.byType("partial").size, 1); assert.equal(site.cache.byType("partial").get(0).get("content"), content2); done(); }); });
(function($, undefined) { $.widget("ui.progressbar", { options: { value: 0, max: 100 }, min: 0, _create: function() { this.element .addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all") .attr({ role: "progressbar", "aria-valuemin": this.min, "aria-valuemax": this.options.max, "aria-valuenow": this._value() }); this.valueDiv = $("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>") .appendTo(this.element); this.oldValue = this._value(); this._refreshValue(); }, destroy: function() { this.element .removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all") .removeAttr("role") .removeAttr("aria-valuemin") .removeAttr("aria-valuemax") .removeAttr("aria-valuenow"); this.valueDiv.remove(); $.Widget.prototype.destroy.apply(this, arguments); }, value: function(newValue) { if (newValue === undefined) { return this._value(); } this._setOption("value", newValue); return this; }, _setOption: function(key, value) { if (key === "value") { this.options.value = value; this._refreshValue(); if (this._value() === this.options.max) { this._trigger("complete"); } } $.Widget.prototype._setOption.apply(this, arguments); }, _value: function() { var val = this.options.value; if (typeof val !== "number") { val = 0; } return Math.min(this.options.max, Math.max(this.min, val)); }, _percentage: function() { return 100 * this._value() / this.options.max; }, _refreshValue: function() { var value = this.value(); var percentage = this._percentage(); if (this.oldValue !== value) { this.oldValue = value; this._trigger("change"); } this.valueDiv .toggle(value > this.min) .toggleClass("ui-corner-right", value === this.options.max) .width(percentage.toFixed(0) + "%"); this.element.attr("aria-valuenow", value); } }); $.extend($.ui.progressbar, { version: "1.8.16" }); })(jQuery);
module.exports = { re: /^https?:\/\/ifttt\.com\/recipes\/([0-9_-]+)/i, mixins: [ "twitter-image", "favicon", "canonical", "copyright", "twitter-description", "keywords", "og-site", "twitter-title" ], getLink: function(oembed) { return { type: CONFIG.T.text_html, rel: [CONFIG.R.app, CONFIG.R.inline], html: oembed.html }; }, tests: [ "https: ] };
jQuery(function($) { $.datepicker.regional['ar'] = { closeText: 'إغلاق', prevText: '&#x3c;السابق', nextText: 'التالي&#x3e;', currentText: 'اليوم', monthNames: ['كانون الثاني', 'شباط', 'آذار', 'نيسان', 'مايو', 'حزيران', 'تموز', 'آب', 'أيلول', 'تشرين الأول', 'تشرين الثاني', 'كانون الأول'], monthNamesShort: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'], dayNames: ['الأحد', 'الاثنين', 'الثلاثاء', 'الأربعاء', 'الخميس', 'الجمعة', 'السبت'], dayNamesShort: ['الأحد', 'الاثنين', 'الثلاثاء', 'الأربعاء', 'الخميس', 'الجمعة', 'السبت'], dayNamesMin: ['الأحد', 'الاثنين', 'الثلاثاء', 'الأربعاء', 'الخميس', 'الجمعة', 'السبت'], weekHeader: 'أسبوع', dateFormat: 'dd/mm/yy', firstDay: 6, isRTL: true, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['ar']); });
exports.notPlugin = true; var NO_INDEX_TAGS = ['noindex']; exports.checkRobots = function(noindexHeader, cb) { if (noindexHeader) { var i; for(i = 0; i < NO_INDEX_TAGS.length; i++) { if (noindexHeader.indexOf(NO_INDEX_TAGS[i]) > -1) { cb({ responseStatusCode: 403 }); return true; } } } };
export default Ember.Object.extend({ indexedOptions: function () { return this.get('options').map(function(option, index) { return { option: option, index: index }; }); }.property('options.@each'), isOneOption: function () { return this.get('options.length') === 1; }.property('options.length') });
﻿ CKEDITOR.plugins.setLang( 'quicktable', 'bn', { more: 'আরও...' } );
goog.provide('ng.material.components.icon'); goog.require('ng.material.core'); (function() { 'use strict'; angular.module('material.components.icon', [ 'material.core' ]) .directive('mdIcon', mdIconDirective); function mdIconDirective() { return { restrict: 'E', template: '<object class="md-icon"></object>', compile: function(element, attr) { var object = angular.element(element[0].children[0]); if(angular.isDefined(attr.icon)) { object.attr('data', attr.icon); } } }; } })();
var spawner = require('../helpers/spawner') , logger = require('ezseed-logger')('system-user') , helper = require('../helpers/promise') , config = require('../../lib/config.js') , p = require('path') , os = require('os') module.exports = { create: function(username, password) { return helper.condition(os.platform() == 'linux', function() { return require('../helpers/quiet_spawner').spawn('grep -c "^ezseed:" /etc/group') .then(function() { return helper.next() }) .catch(function() { return helper.runasroot('groupadd ezseed') }) .then(function() { return require('../helpers/quiet_spawner').spawn('id -u '+username) }) .then(function() { logger.warn('User %s already exists! Skipping.', username) return helper.next() }) .catch(function() { return helper .runasroot([ 'mkdir -p '+p.join(config.home, username), 'useradd -d '+ p.join(config.home, username) + ' --groups ezseed --password $(mkpasswd -H md5 "'+password+'") ' + username, 'chown root:root ' + p.join(config.home, username) ]) }) }, function() { logger.warn('System user not supported') return helper.next(0) }) }, password: function(username, password) { return helper.condition(os.platform() == 'linux', function() { return helper .runasroot('usermod -p $(mkpasswd -H md5 "'+password+'") '+username) }, function() { logger.warn('System user not supported') return helper.next(0) }) }, client: function(client) { return function() { if(client && client !== 'none') { if(os.platform() !== 'linux') { logger.warn('Sadly %s is not supported atm', os.platform()) return helper.next(0) } else { var args = [].slice.call(arguments, 0) var fn = args.shift() return helper.runasroot(require('ezseed-'+client)(fn) +' ' + args.join(' ')) } } else { logger.warn('No client specified, skipping') return helper.next(0) } } } }
module.exports = { re: /https?:\/\/imageshack\.com\/i\/\w+/i, mixins: [ "og-image-rel-image", "favicon", "canonical", "copyright", "keywords", "og-site", "og-title" ], tests: [{ page: "https: selector: "a.photo" }, "https: "https: ] };
var assert = require('assert') var crypto = require('../src/crypto') var fixtures = require('./fixtures/crypto') describe('Crypto', function () { ['hash160', 'hash256', 'ripemd160', 'sha1', 'sha256'].forEach(function (algorithm) { describe(algorithm, function () { fixtures.valid.forEach(function (f) { var fn = crypto[algorithm] var expected = f[algorithm] it('returns ' + expected + ' for ' + f.hex, function () { var data = new Buffer(f.hex, 'hex') var actual = fn(data).toString('hex') assert.equal(actual, expected) }) }) }) }) })
exports.readIEEE754 = function(buffer, offset, endian, mLen, nBytes) { var e, m, bBE = (endian === 'big'), eLen = nBytes * 8 - mLen - 1, eMax = (1 << eLen) - 1, eBias = eMax >> 1, nBits = -7, i = bBE ? 0 : (nBytes - 1), d = bBE ? 1 : -1, s = buffer[offset + i]; i += d; e = s & ((1 << (-nBits)) - 1); s >>= (-nBits); nBits += eLen; for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8); m = e & ((1 << (-nBits)) - 1); e >>= (-nBits); nBits += mLen; for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8); if (e === 0) { e = 1 - eBias; } else if (e === eMax) { return m ? NaN : ((s ? -1 : 1) * Infinity); } else { m = m + Math.pow(2, mLen); e = e - eBias; } return (s ? -1 : 1) * m * Math.pow(2, e - mLen); }; exports.writeIEEE754 = function(buffer, value, offset, endian, mLen, nBytes) { var e, m, c, bBE = (endian === 'big'), eLen = nBytes * 8 - mLen - 1, eMax = (1 << eLen) - 1, eBias = eMax >> 1, rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0), i = bBE ? (nBytes-1) : 0, d = bBE ? -1 : 1, s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0; value = Math.abs(value); if (isNaN(value) || value === Infinity) { m = isNaN(value) ? 1 : 0; e = eMax; } else { e = Math.floor(Math.log(value) / Math.LN2); if (value * (c = Math.pow(2, -e)) < 1) { e--; c *= 2; } if (e+eBias >= 1) { value += rt / c; } else { value += rt * Math.pow(2, 1 - eBias); } if (value * c >= 2) { e++; c /= 2; } if (e + eBias >= eMax) { m = 0; e = eMax; } else if (e + eBias >= 1) { m = (value * c - 1) * Math.pow(2, mLen); e = e + eBias; } else { m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen); e = 0; } } for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8); e = (e << mLen) | m; eLen += mLen; for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8); buffer[offset + i - d] |= s * 128; };
angular.module('typicms').filter('betterFilter', function(filterFilter) { return function(input, expression, comparator) { for (var index in expression) { expression[index] = normalize(expression[index]); } var copy_of_input = angular.copy(input); for (var i = 0; i < input.length; i++) { for (var index in input[i]) { if (typeof(input[i][index]) == 'string' || input[i][index] instanceof String) { copy_of_input[i][index] = normalize(input[i][index]); } } copy_of_input[i]['orig'] = input[i]; } var normalized_filtered = filterFilter(copy_of_input, expression, comparator); var normalized_filtered_orig = []; angular.forEach(normalized_filtered, function(obj, i) { normalized_filtered_orig.push(obj.orig) }) return normalized_filtered_orig; } });
﻿ var ValidationOptions = (function () { var ctor = function (config) { updateWithConfig(this, config); }; var proto = ctor.prototype; proto._$typeName = "ValidationOptions"; proto.using = function (config) { if (!config) return this; var result = new ValidationOptions(this); updateWithConfig(result, config); return result; }; proto.setAsDefault = function() { return __setAsDefault(this, ctor); }; ctor.defaultInstance = new ctor({ validateOnAttach: true, validateOnSave: true, validateOnQuery: false, validateOnPropertyChange: true }); function updateWithConfig( obj, config ) { if (config) { assertConfig(config) .whereParam("validateOnAttach").isBoolean().isOptional() .whereParam("validateOnSave").isBoolean().isOptional() .whereParam("validateOnQuery").isBoolean().isOptional() .whereParam("validateOnPropertyChange").isBoolean().isOptional() .applyAll(obj); } return obj; } return ctor; })(); breeze.ValidationOptions = ValidationOptions;
require('v8-profiler'); require('./localonly');
angular.module('ngHandsontable', [ 'ngHandsontable.services', 'ngHandsontable.directives' ]);
import rt from 'require-times'; import swig from 'koa-swig'; import '../src/Trek'; import Engine from '../src/Engine'; var app = new Engine(__dirname + '/fixtures'); var publicPath = app.paths.get('public', true); var viewsPath = app.paths.get('app/views', true); app.static(publicPath); app.serveFile('/main.js', publicPath + '/js/main.js'); app.index(publicPath + '/index.html'); app.render = swig({ root: viewsPath }); app.get('/users/:id', function* () { this.body = this.params; }); app.get('/users/:id/show', function* () { yield this.render('show', { name: 'trek' }); }); app.run();
(function(){ if (!('bind' in Function.prototype)) { Function.prototype.bind = function() { var funcObj = this; var extraArgs = Array.prototype.slice.call(arguments); var thisObj = extraArgs.shift(); return function() { return funcObj.apply(thisObj, extraArgs.concat(Array.prototype.slice.call(arguments))); }; }; } Mocha.process = Mocha.process || {}; Mocha.process.stdout = Mocha.process.stdout || process.stdout; Mocha.process.stdout.write = function(s) { window.callPhantom({"Mocha.process.stdout.write":s}); } console.format = function(f) { if (typeof f !== 'string') { var objects = []; for (var i = 0; i < arguments.length; i++) { objects.push(JSON.stringify(arguments[i])); } return objects.join(' '); } var i = 1; var args = arguments; var len = args.length; var str = String(f).replace(/%[sdj%]/g, function(x) { if (x === '%%') return '%'; if (i >= len) return x; switch (x) { case '%s': return String(args[i++]); case '%d': return Number(args[i++]); case '%j': return JSON.stringify(args[i++]); default: return x; } }); for (var x = args[i]; i < len; x = args[++i]) { if (x === null || typeof x !== 'object') { str += ' ' + x; } else { str += ' ' + JSON.stringify(x); } } return str; }; var origError = console.error; console.error = function(){ origError.call(console, console.format.apply(console, arguments)); }; var origLog = console.log; console.log = function(){ origLog.call(console, console.format.apply(console, arguments)); }; })();
'use strict'; var nodemailer = require('nodemailer') , emailTemplates = require('email-templates') , path = require('path') , templatesDir = path.resolve(__dirname, '../lib/', 'emailTemplates') , env = process.env.NODE_ENV || 'development' , config = require('../config/config')[env] , logger = require('./loggerService.js').logger; var transport; if(env === 'test'){ transport = { emails: [] }; } else if (typeof(config.amazon) !== 'undefined') { transport = nodemailer.createTransport('SES', { AWSAccessKeyID: config.amazon.AWSAccessKeyID, AWSSecretKey: config.amazon.AWSSecretKey, ServiceUrl: config.amazon.ServiceUrl }); } else { var transport = nodemailer.createTransport('SMTP', { service: config.smtp.service, auth: { user: config.smtp.user, pass: config.smtp.pass } }); } exports.sendMail = function(options, data, callback) { if(env === 'test'){ transport.emails.push(data); } else{ emailTemplates(templatesDir, function(err, template) { if (err) { callback(err); } else { template(options.template, data, function(err, html, text) { if (err) { logger.error('unable to send activation mail to user : ' + data.email + '. Error: ' + err); callback(err); } else { transport.sendMail({ from: options.from, to: data.email, subject: options.subject, html: html, text: text }, function(err, responseStatus) { if (err) { logger.error('unable to send activation mail to user : ' + data.email + '. Error: ' + err); callback(err, responseStatus); } else { callback(null, responseStatus); } }); } }); } }); } };
var assert = require('assert'); var R = require('..'); describe('divide', function() { it('divides two numbers', function() { assert.strictEqual(R.divide(28, 7), 4); }); it('is curried', function() { var into28 = R.divide(28); assert.strictEqual(into28(7), 4); }); it('behaves right curried when passed `R.__` for its first argument', function() { var half = R.divide(R.__, 2); assert.strictEqual(half(40), 20); }); });
﻿(function() { 'use strict'; angular.module('app').controller('testController', ['$scope', '$routeParams', 'dataservice','logger', testController]); function testController($scope, $routeParams, dataservice, logger) { logger.log("testController created") ; var orderId = $routeParams.id; $scope.orderId = orderId || '<no id>'; $scope.products = dataservice.products; }; })();
'use strict'; var _ = require('underscore'), fs = require('fs'), async = require('async'), Canvas = require('canvas'), Image = Canvas.Image; function readImage(path, callback) { fs.readFile(path, function (err, data) { var image = new Image(); if (err) { return callback(err); } image.src = data; callback(err, { path: path, width: image.width, height: image.height, data: image }); }); } function readImages(filePaths, callback) { async.mapLimit(filePaths, 80, readImage, function (err, result) { if (err) { return callback(err); } callback(null, _(filePaths).map(function(filePath) { return _(result).findWhere({ path: filePath }); })); }); } function filterToParam(filter, canvasInstance) { var filterMap = { none: canvasInstance.PNG_FILTER_NONE, sub: canvasInstance.PNG_FILTER_SUB, up: canvasInstance.PNG_FILTER_UP, average: canvasInstance.PNG_FILTER_AVG, paeth: canvasInstance.PNG_FILTER_PAETH, all: canvasInstance.PNG_ALL_FILTERS }; return filterMap[filter]; } function renderSprite(layout, filePath, options, callback) { var canvas = new Canvas(layout.width, layout.height), ctx = canvas.getContext('2d'), defaults = { compressionLevel: 6, filter: 'all' }; options = _.extend({}, defaults, options); _(layout.images).each(function (image) { ctx.drawImage(image.data, image.x, image.y, image.width, image.height); }); canvas.toBuffer(function (err, buffer) { if (err) { return callback(err); } fs.writeFile(filePath, buffer, function (err) { callback(err); }); }, options.compressionLevel, filterToParam(options.filter, canvas)); } module.exports = { readImages: readImages, render: renderSprite, filterToParam: filterToParam };
export default Ember.Route.extend({ model: function () { var route = this; return this.store.find('settings', 'general').then(null, function () { var settings = route.store.getById('settings', 'general'); settings.loadedData(); return settings; }); } });
var phptalPlugin = ActiveBuild.UiPlugin.extend({ id: 'build-phptal', css: 'col-lg-6 col-md-12 col-sm-12 col-xs-12', title: 'PHPTAL Lint', lastData: null, box: true, rendered: false, register: function() { var self = this; var query = ActiveBuild.registerQuery('phptallint-data', -1, {key: 'phptallint-data'}) $(window).on('phptallint-data', function(data) { self.onUpdate(data); }); $(window).on('build-updated', function() { if (!self.rendered) { query(); } }); }, render: function() { return $('<div class="table-responsive"><table class="table" id="phptal-data">' + '<thead>' + '<tr>' + ' <th>File</th>' + ' <th>Line</th>' + ' <th>Message</th>' + '</tr>' + '</thead><tbody></tbody></table></div>'); }, onUpdate: function(e) { if (!e.queryData) { $('#build-phptal').hide(); return; } this.rendered = true; this.lastData = e.queryData; var errors = this.lastData[0].meta_value; var tbody = $('#phptal-data tbody'); tbody.empty(); if (errors.length == 0) { $('#build-phptal').hide(); return; } for (var i in errors) { var file = errors[i].file; if (ActiveBuild.fileLinkTemplate) { var fileLink = ActiveBuild.fileLinkTemplate.replace('{FILE}', file); fileLink = fileLink.replace('{LINE}', errors[i].line); file = '<a target="_blank" href="'+fileLink+'">' + file + '</a>'; } var row = $('<tr>' + '<td>'+file+'</td>' + '<td>'+errors[i].line+'</td>' + '<td>'+errors[i].message+'</td></tr>'); if (errors[i].type == 'error') { row.addClass('danger'); } tbody.append(row); } $('#build-phptal').show(); } }); ActiveBuild.registerPlugin(new phptalPlugin());
﻿ CKEDITOR.plugins.setLang( 'quicktable', 'sv', { more: 'Fler...' } );
var Package = function (options) { options = options || {}; this.name = options.name; this.url = options.url; }; Package.prototype = { validate: function (options) { options = options || {}; var errors = []; if (typeof this.name !== 'string') errors.push('name is not a string'); if (typeof this.url !== 'string') errors.push('url is not a string'); if (options.private && this.url) return errors.length ? errors : false; if (this.url && ! this.url.match(/^git((\:\/\/)|@)/)) errors.push('url is not a git url'); if (! options.private && this.url && this.url.match(/^git@/)) errors.push('private url is not accepted'); return errors.length ? errors : false; }, toJSON: function () { return { name: this.name, url: this.url }; } }; exports.Package = Package;
module.exports = { app: { src: 'tmp/result/assets *.css' } };
var test = require('tap').test; var indexCtrl = require('./list-index-controller'); test('scope should have an array of todolists', function (t) { var scope = { $apply: function(fn) { fn.call(scope); }, $on: function (event, fn) { } }; todoSvc = { $all: function(name, cb) { cb(null, { rows: [1,2,3]}); } }; indexCtrl(scope, todoSvc); t.ok(scope.lists); t.end(); });
define(function () { return { 'DEBUG' : true, 'API_HOST' : window.location.host, 'API_PORT' : 80, 'WEBSOCKET_HOST' : window.location.host, 'WEBSOCKET_PORT' : 3000, 'UPLOADER_CHUNK_SIZE' : 1048576, 'UPLOADER_SUPPORTED_VIDEO_TYPES' : ['ogg', 'mp4', 'webm', 'avi', 'flv', 'mpeg', 'mpg', 'mkv', 'mov'], 'UPLOADER_SUPPORTED_AUDIO_TYPES' : ['ogg', 'mp4', 'mp3', 'mp2', 'mpa', 'flac', 'opus'], 'UPLOADER_SUPPORTED_IMAGE_TYPES' : ['jpeg', 'jpg', 'png'], 'MEDIA_METADATA_ANALYZE_MAX_TIMEOUT' : 2000, 'MEDIA_NEEDED_FORMATS' : { 'video' : ['webm', 'ogg', 'mp4'], 'audio' : ['mp3', 'ogg'], 'image' : ['jpeg'] }, 'MEDIA_VIDEO_MIN_WIDTH' : 100, 'MEDIA_VIDEO_MIN_HEIGHT' : 100, 'GUI_MIN_WINDOW_WIDTH' : 800, 'GUI_MIN_WINDOW_HEIGHT' : 500, 'GUI_MAX_FILENAME_LENGTH' : 32, 'GUI_TIMELINE_PIXEL_PER_FRAME' : 3, 'GUI_TIMELINE_CANVAS_MAX_WIDTH' : 1000, 'GUI_TIMELINE_AUTOSCROLL_PADDING' : 20, 'USER_SETTINGS_ID' : 'settings' }; });
(function() { var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {}; templates['property'] = template({"1":function(depth0,helpers,partials,data) { return " disabled "; },"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) { var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "<li id=\"" + escapeExpression(((helper = (helper = helpers.property || (depth0 != null ? depth0.property : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"property","hash":{},"data":data}) : helper))) + "\">\n <span class=\"property\">" + escapeExpression(((helper = (helper = helpers.property || (depth0 != null ? depth0.property : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"property","hash":{},"data":data}) : helper))) + "</span>:\n <div class=\"js-action js-action--create ico\" title=\"Create new shape\">\n <nav>\n <a data-shape=\"circle()\">circle</a>\n <a data-shape=\"ellipse()\">ellipse</a>\n <a data-shape=\"polygon()\">polygon</a>\n </nav>\n </div><div class=\"js-action js-action--edit ico\" title=\"Edit shape\" "; stack1 = helpers.unless.call(depth0, (depth0 != null ? depth0.editable : depth0), {"name":"unless","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data}); if (stack1 != null) { buffer += stack1; } return buffer + "></div>\n <span class=\"value\">" + escapeExpression(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"value","hash":{},"data":data}) : helper))) + "</span>;\n</li>\n"; },"useData":true}); })();
$(function(){ var template = '<div class="info" />'; Iframework.NativeNodes["audio"] = Iframework.NodeBoxNativeView.extend({ template: _.template(template), initializeCategory: function() { if (Iframework.audioContext) { this.audioContext = Iframework.audioContext; } else { var audioContext; if (typeof AudioContext !== "undefined") { audioContext = new AudioContext(); } else if (typeof webkitAudioContext !== "undefined") { audioContext = new webkitAudioContext(); } else { throw new Error('AudioContext not supported. :('); } if (audioContext) { Iframework.audioContext = this.audioContext = audioContext; } } } }); });
angular.module('fx.animations.bounces', ['fx.animations.bounces.factory']) .animation('.fx-bounce-normal', ['BounceAnimation', function (BounceAnimation){ var effect = { first: {opacity: 0, transform: 'scale(.3)'}, mid: {opacity: 1, transform: 'scale(1.05)'}, third: {transform: 'scale(.9)'}, end: {opacity: 1, transform: 'scale(1)'}, animation: 'bounce-normal' }; return new BounceAnimation(effect); }]) .animation('.fx-bounce-down', ['BounceAnimation', function (BounceAnimation){ var effect = { first: {opacity: 0, transform: 'translateY(-2000px)'}, mid: {opacity: 1, transform: 'translateY(30px)'}, third: {transform: 'translateY(-10px)'}, end: {transform: 'translateY(0)'}, animation: 'bounce-down' }; return new BounceAnimation(effect); }]) .animation('.fx-bounce-left', ['BounceAnimation', function (BounceAnimation){ var effect = { first: {opacity: 0, transform: 'translateX(-2000px)'}, mid: {opacity: 1, transform: 'translateX(30px)'}, third: {transform: 'translateX(-10px)'}, end: {transform: 'translateX(0)'}, animation: 'bounce-left' }; return new BounceAnimation(effect); }]) .animation('.fx-bounce-up', ['BounceAnimation', function (BounceAnimation) { var effect = { first: {opacity: 0, transform: 'translateY(2000px)'}, mid: {opacity: 1, transform: 'translateY(-30px)'}, third: {transform: 'translateY(10px)'}, end: {transform: 'translateY(0)'}, animation: 'bounce-up' }; return new BounceAnimation(effect); }]) .animation('.fx-bounce-right', ['BounceAnimation', function (BounceAnimation) { var effect = { first: {opacity: 0, transform: 'translateX(2000px)'}, mid: {opacity: 1, transform: 'translateX(-30px)'}, third: {transform: 'translateX(10px)'}, end: {transform: 'translateX(0)'}, animation: 'bounce-right' }; return new BounceAnimation(effect); }]);
suite('Base', function () { this.name = 'base'; test('Browser detection', function () { var results = $H(Prototype.Browser).map(function (engine) { return engine; }).partition(function (engine) { return engine[1] === true; }); var trues = results[0], falses = results[1]; info('User agent string is: ' + navigator.userAgent); assert(trues.size() === 0 || trues.size() === 1, 'There should be only one or no browser detected.'); trues.each(function(result) { assert(result[1] === true); }, this); falses.each(function(result) { assert(result[1] === false); }, this); var ua = navigator.userAgent; if (ua.indexOf('AppleWebKit/') > -1) { info('Running on WebKit'); assert(Prototype.Browser.WebKit); } if (Object.prototype.toString.call(window.opera) === '[object Opera]') { info('Running on Opera'); assert(Prototype.Browser.Opera); } if (ua.indexOf('MSIE') > -1) { info('Running on IE'); assert(Prototype.Browser.IE); } if (ua.indexOf('Gecko') > -1 && ua.indexOf('KHTML') === -1) { info('Running on Gecko'); assert(Prototype.Browser.Gecko); } }); });
var fs = require("fs"); var express = require('express'); var app = express(); var routes = require('./routes'); app.use(express.bodyParser()); app.use(app.router); app.use(logErrors); app.use(errorHandler); var testCaseDir = "c:/GitHub/Breeze/Breeze.Client/" app.get('/', function(req,res) { res.sendfile(testCaseDir + 'mongo_index.html'); }); app.get('/breeze/NorthwindIBModel/Metadata', routes.getMetadata); app.get('/breeze/NorthwindIBModel/Products', routes.getProducts); app.post('/breeze/NorthwindIBModel/SaveChanges', routes.saveChanges); app.post('/breeze/NorthwindIBModel/SaveWithFreight', routes.saveWithFreight); app.post('/breeze/NorthwindIBModel/SaveWithFreight2', routes.saveWithFreight2); app.post('/breeze/NorthwindIBModel/SaveWithComment', routes.saveWithComment); app.post('/breeze/NorthwindIBModel/SaveWithExit', routes.saveWithExit); app.get('/breeze/NorthwindIBModel/:slug', routes.get); app.get(/^(.+)$/, function(req, res) { res.sendfile(testCaseDir + req.params[0]); }); app.listen(3000); console.log('Listening on port 3000'); function errorHandler(err, req, res, next) { var status = err.statusCode || 500; if (err.message) { res.send(status, err.message); } else { res.send(status, err); } } function logErrors(err, req, res, next) { console.error(err.stack); next(err); }
(function() { angular.module('az.directives'). directive('olMap', ['az.config', 'az.services.layers', '$parse', function(config, layerService, $parse) { var defaults = config.defaults; return { restrict: 'EA', priority: -10, link: function(scope, elem, attrs) { var layers = layerService.getMapLayers(); var center = attrs.center ? attrs.center.split(',') : defaults.CENTER.split(',').reverse(); var zoom = attrs.zoom || defaults.ZOOM; var projection = attrs.projection || attrs.proj || attrs.crs || 'EPSG:' + defaults.CRS; var dispProj = attrs.dispProjection || attrs.dispProj || 'EPSG:' + defaults.DISP_CRS; var controls = (attrs.controls || defaults.OL_CONTROLS).split(','); var controlOptions = angular.extend(defaults.OL_CTRL_OPTS, $parse(attrs.controlOpts)()); var mapCtls = []; $.each(controls, function(i, ctl) { var opts = controlOptions[ctl] || undefined; ctl = ctl.replace(/^\w/, function(m) { return m.toUpperCase() }); mapCtls.push(new OpenLayers.Control[ctl](opts)); }); var listeners = {}; $.each(attrs, function(key, val) { var evtType = key.match(/map([A-Z]\w+)/); if(evtType) { evtType = evtType[1].replace(/^[A-Z]/,function(m){return m.toLowerCase()}); var $event = { type: key }; listeners[evtType] = function(evtObj) { evtObj.evtType = evtObj.type; delete evtObj.type; elem.trigger(angular.extend({}, $event, evtObj)); if(!scope.$$phase) scope.$apply(); }; var fn = $parse(val); elem.bind(key, function (evt) { fn(scope, evt); }); } }); center = new OpenLayers.LonLat(center).transform('EPSG:4326', projection); var map = new OpenLayers.Map(elem[0], { 'projection': projection, 'displayProjection': dispProj, 'controls': mapCtls, 'center': center, 'zoom': zoom, 'layers': layers, 'eventListeners': listeners }); var model = $parse(attrs.olMap); if(model){model.assign(scope, map);} } }; }]); })();
define([ 'jquery', 'underscore', 'backbone', 'editionPageModule/views/fieldViews/BaseView', 'text!editionPageModule/templates/fields/autocompleteView.html', 'jquery-ui' ], function($, _, Backbone, BaseView, autocompleteTemplate) { var AutocompleteFieldView = BaseView.extend({ events: function() { return _.extend(BaseView.prototype.events, { }); }, initialize : function(options) { var opt = options; opt.template = autocompleteTemplate; BaseView.prototype.initialize.apply(this, [opt]); }, render : function() { BaseView.prototype.render.apply(this, arguments); $.getJSON(this.model.get('url'),_.bind(function(data) { $(this.el).find('.form-control').autocomplete({ minLength : 1, scrollHeight: 220, source: data.options }); }, this)); }, }); return AutocompleteFieldView; });
(function () { 'use strict'; var Bobun = this.Bobun; Bobun.UI = Bobun.UI || {}; Bobun.UI.Button = Bobun.View.extend({ tagName: 'button', className: 'btn', events: { 'click': 'domEventTriggerProxy' }, options: { label: null, labelView: null, disabled: false }, initialize: function () { this.options.labelView = this.get('labelView') || new Bobun.UI.Button.Label({ model: this.model, label: this.get('label') }); this.bind(this.get('labelView'), 'label'); this.views.add(this.get('labelView')); this.on('change:disabled', this.updateDisabled); }, render: function () { return this .append(this.get('labelView')) .updateDisabled(); }, updateDisabled: function () { this.$el.prop('disabled', this.get('disabled')); return this; } }); Bobun.UI.Button.Label = Bobun.View.extend({ tagName: 'span', options: { label: null }, initialize: function () { this.on('change:label', this.render); }, render: function () { this.$el.html(this.get('label')); return this; } }); }).call(this);
module.exports = { stylesheets: function() { return [" "libs/codemirror2/lib/codemirror.css", "libs/codemirror2/theme/default.css", "css/editor.css", "css/apex.css"]; }, scripts: function(){ return ["libs/underscore/underscore-min.js", "libs/backbone/backbone.js", " " "libs/ui.tabs.closable/ui.tabs.closable.min.js", "libs/jquery.ui.selectmenu.js", "libs/codemirror2/lib/codemirror.js", "libs/codemirror2/mode/htmlmixed/htmlmixed.js", "libs/codemirror2/mode/xml/xml.js", "libs/codemirror2/mode/css/css.js", "libs/codemirror2/mode/javascript/javascript.js", "libs/miniTip/jquery.miniTip.min.js", "js/apex.js", "js/messagedialog.js", "js/finddialog.js", "js/newdialog.js", "js/toolbar.js", "js/doc.js", "js/doclist.js", "js/doclistitem.js", "js/editortabs.js", "js/editorview.js"]; } };
( function( config, models, views, routers, utils ) { models.Message = Backbone.Model.extend({ defaults: { author_id: '' , author_display_name: '' , message_text: '' , date: '' } , parse: function() { } , url: '/message' }); }).call( this, this.appArgs.config, this.appArgs.models, this.appArgs.views, this.appArgs.routes, this.appArgs.utils );
﻿ CKEDITOR.plugins.setLang( 'quicktable', 'th', { more: ' เลือกอื่นๆ...' } );
import Resolver from 'ember/resolver'; var resolver = Resolver.create(); resolver.namespace = { modulePrefix: 'appkit' }; export default resolver;
'use strict'; var FS = require('fs'), PATH = require('path'), regFilename = /^(.*)\.(\d+)\.svg$/, SVGO = require(process.env.COVERAGE ? '../../lib-cov/svgo': '../../lib/svgo'); describe('plugins tests', function() { FS.readdirSync(__dirname).forEach(function(file) { var match = file.match(regFilename), index, name, svgo, plugins; if (match) { name = match[1]; index = match[2]; file = PATH.resolve(__dirname, file); plugins = {}; plugins[name] = true; svgo = new SVGO({ full: true, plugins: [ plugins ], js2svg: { pretty: true } }); it(name + '.' + index, function(done) { FS.readFile(file, 'utf8', function(err, data) { var splitted = data.split('@@@'), orig = splitted[0], should = splitted[1]; svgo.optimize(orig, function(result) { result = '\n\n' + result.data; result.should.be.equal(should); done(); }); }); }); } }); });
﻿define(function() { return { attach: function(view, field) { var options = []; var parts = field.question.Options().split("|"); parts.forEach(function(item) { options.push(item); }); field.options = options; ko.compose("Dropdown", field, view, false, true); } }; });
var CookieAdaptor = function(options) { for (var i in LawnchairAdaptorHelpers) { this[i] = LawnchairAdaptorHelpers[i]; } this.init(options); }; CookieAdaptor.prototype = { init:function(){ this.createCookie = function(name, value, days) { if (days) { var date = new Date(); date.setTime(date.getTime()+(days*24*60*60*1000)); var expires = "; expires="+date.toGMTString(); } else var expires = ""; document.cookie = name+"="+value+expires+"; path=/"; }; }, get:function(key, callback){ var readCookie = function(name) { var nameEQ = name + "="; var ca = document.cookie.split(';'); var len = ca.length; for (var i=0; i < len; i++) { var c = ca[i]; while (c.charAt(0)==' ') c = c.substring(1,c.length); if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length); } return null; }; var obj = this.deserialize(readCookie(key)) || null; if (obj) { obj.key = key; } if (callback) this.terseToVerboseCallback(callback)(obj); }, save:function(obj, callback){ var id = obj.key || this.uuid(); delete obj.key; this.createCookie(id, this.serialize(obj), 365); obj.key = id; if (callback) this.terseToVerboseCallback(callback)(obj); }, all:function(callback){ var cb = this.terseToVerboseCallback(callback); var ca = document.cookie.split(';'); var yar = []; var c,k,v,o; for (var i = 0, l = ca.length; i < l; i++) { c = ca[i].split('='); k = c[0]; v = c[1]; o = this.deserialize(v); if (o) { o.key = k; yar.push(o); } } if (cb) cb(yar); }, remove:function(keyOrObj, callback) { var key = (typeof keyOrObj == 'string') ? keyOrObj : keyOrObj.key; this.createCookie(key, '', -1); if (callback) this.terseToVerboseCallback(callback)(); }, nuke:function(callback) { var that = this; this.all(function(r){ for (var i = 0, l = r.length; i < l; i++) { if (r[i].key) that.remove(r[i].key); } if (callback) { callback = that.terseToVerboseCallback(callback); callback(r); } }); } };
'use strict'; var mongoose = require('mongoose'); var Schema = mongoose.Schema; var uuid = require('uuid-v4'); var loginTokenSchema = new Schema({ email: {type: String, required: true } , series: {type: String, required: true } , token: {type: String, required: true } , ip: { type: String, required: true } , created: { type: Date, required: true } , userAgent: {} , location: {} }); loginTokenSchema.index({ email: 1, series: 1, token: 1 }); loginTokenSchema .virtual('id') .get(function() { return this._id.toHexString(); }); loginTokenSchema .virtual('cookieValue') .get(function() { return JSON.stringify( { email: this.email, series: this.series, token: this.token}); }); loginTokenSchema.pre('save', function(next) { this.token = uuid(); this.created = new Date(); next(); }); module.exports = mongoose.model('LoginToken', loginTokenSchema);
var assert = require('assert'); var R = require('..'); describe('pickBy', function() { var obj = {a: 1, b: 2, c: 3, d: 4, e: 5, f: 6}; it('creates a copy of the object', function() { assert.notStrictEqual(R.pickBy(R.always(true), obj), obj); }); it('when returning truthy, keeps the key', function() { assert.deepEqual(R.pickBy(R.T, obj), obj); assert.deepEqual(R.pickBy(R.always({}), obj), obj); assert.deepEqual(R.pickBy(R.always(1), obj), obj); }); it('when returning falsy, keeps the key', function() { assert.deepEqual(R.pickBy(R.always(false), obj), {}); assert.deepEqual(R.pickBy(R.always(0), obj), {}); assert.deepEqual(R.pickBy(R.always(null), obj), {}); }); it('is called with (val,key,obj)', function() { assert.deepEqual(R.pickBy(function(val, key, _obj) { assert.strictEqual(_obj, obj); return key === 'd' && val === 4; }, obj), {d: 4}); }); it('retrieves prototype properties', function() { var F = function(param) {this.x = param;}; F.prototype.y = 40; F.prototype.z = 50; var obj = new F(30); obj.v = 10; obj.w = 20; assert.deepEqual(R.pickBy(function(val) {return val < 45;}, obj), {v: 10, w: 20, x: 30, y: 40}); }); it('is curried', function() { var copier = R.pickBy(R.T); assert.deepEqual(copier(obj), obj); }); });
basePath = ''; files = [ JASMINE, JASMINE_ADAPTER, 'app/bower_components/angular-unstable/angular.js', 'app/bower_components/angular-mocks/angular-mocks.js', 'app/bower_components/angular-bootstrap/ui-bootstrap.js', 'app/scripts *.js', 'test/mock *.js', 'test/spec *.js' ]; exclude = []; reporters = ['progress']; port = 8080; runnerPort = 9100; colors = true; logLevel = LOG_INFO; autoWatch = false; browsers = ['Chrome']; captureTimeout = 5000; singleRun = false;
var rpc = require('jsonrpc2'); var logger = require('../logger'); rpc.Endpoint.trace = function () { var args = [].slice.apply(arguments); if (args[0] == "***") { args = args.slice(1); } logger.rpcdbg(args.join(" ")); }; var JsonRpcServer = exports.JsonRpcServer = function JsonRpcServer(node) { this.node = node; }; JsonRpcServer.prototype.enable = function () { if (this.node.cfg.jsonrpc.enable) { if (this.node.cfg.jsonrpc.password == null) { throw new Error("JsonRpcServer(): You must set a JSON-RPC password in" + "the settings."); } this.rpc = new rpc.Server(); this.rpc.defaultScope = this; this.rpc.enableAuth(this.node.cfg.jsonrpc.username, this.node.cfg.jsonrpc.password); this.exposeMethods(); this.startServer(); } }; JsonRpcServer.prototype.exposeMethods = function () { var self = this; var modules = ["info", "get", "getwork", "proxy", "meta"]; modules.forEach(function (name) { try { var module = require('./'+name); Object.keys(module).forEach(function (key) { self.rpc.expose(key, module[key]); }); } catch (e) { logger.error('Error loading RPC module "'+name+'":\n' + (e.stack ? e.stack : e.toString())); } }); }; JsonRpcServer.prototype.expose = function (name, handler) { this.rpc.expose(name, handler); }; JsonRpcServer.prototype.startServer = function () { logger.info('Listening for JSON-RPC connections on '+ this.node.cfg.jsonrpc.host+':'+ this.node.cfg.jsonrpc.port); try { this.rpc.listenHybrid(this.node.cfg.jsonrpc.port, this.node.cfg.jsonrpc.host); } catch (e) { logger.warn("Could not start RPC server"); logger.warn("Reason: "+e.message); } }; JsonRpcServer.prototype.log = rpc.Server.trace;
module.exports = { EARTH_RADIUS: 6378137, DEG_TO_RAD_FACTOR: Math.PI / 180, distance: function (p1, p2) { var lat1 = p1.lat * this.DEG_TO_RAD_FACTOR; var lat2 = p2.lat * this.DEG_TO_RAD_FACTOR; var a = Math.sin(lat1) * Math.sin(lat2) + Math.cos(lat1) * Math.cos(lat2) * Math.cos((p2.lng - p1.lng) * this.DEG_TO_RAD_FACTOR); return parseInt(this.EARTH_RADIUS * Math.acos(Math.min(a, 1))); }, closestOnLine: function(s1, s2, p){ var x1 = s1.lat, y1 = s1.lng, x2 = s2.lat, y2 = s2.lng, px = p.lat, py = p.lng; var xDelta = x2 - x1; var yDelta = y2 - y1; if ((xDelta === 0) && (yDelta === 0)) { return s1; } var u = ((px - x1) * xDelta + (py - y1) * yDelta) / (xDelta * xDelta + yDelta * yDelta); var closestPoint; if (u < 0) { closestPoint = [x1, y1]; } else if (u > 1) { closestPoint = [x2, y2]; } else { closestPoint = [x1 + u * xDelta, y1 + u * yDelta]; } return (new ffwdme.LatLng(closestPoint[0], closestPoint[1])); } };
OfflineReader.RssesView = Ember.View.extend({ templateName: 'rsses' });
var Transform = require('stream').Transform; module.exports.getParser = function(keyArray) { var parser = new Transform(); var level = 0; var inBucketKey = false; var keyBuffer = ""; var capturingKey = false; var curMatchingKey = keyArray[0]; var curMatchingLevel = 1; var finalMatch = false; var finalMatchLevel = -1; var stripFirst = true; var noMore = false; var ignoreNext = false; var ignoreCounter = 0; var inString = false; parser._transform = function(data, encoding, done) { var str = data.toString(); if(noMore) { done(); return; } var jsonData = ""; for(var i = 0; i < str.length; i++) { if(!noMore) { if(ignoreCounter == 1 && ignoreNext) { ignoreNext = false; ignoreCounter = 0; } ignoreCounter++; if(finalMatch) { jsonData += str.charAt(i); } if(str.charAt(i) === '\\') { ignoreNext = true; ignoreCounter = 0; } if(!ignoreNext && level === curMatchingLevel && str.charAt(i) === "\"" && capturingKey == true) { capturingKey = false; if(keyBuffer === curMatchingKey) { curMatchingLevel += 1; curMatchingKey = keyArray[curMatchingLevel - 1]; if(curMatchingKey === undefined) { finalMatch = true; finalMatchLevel = level + 1; } } keyBuffer = ""; } if(!ignoreNext && !inString && str.charAt(i) === '{') { level += 1; } if(capturingKey) { keyBuffer += str.charAt(i); } if(!ignoreNext && !inString && str.charAt(i) === '}') { if(finalMatch && finalMatchLevel == level) { finalMatch = false; noMore = true; } level -= 1; keyBuffer = ""; } if(!ignoreNext && str.charAt(i) === "\"") { inString = !inString; } if(!ignoreNext && level === curMatchingLevel && str.charAt(i) === "\"" && capturingKey == false) { capturingKey = true; }; } } if(jsonData) { if(stripFirst) { stripFirst = false; jsonData = jsonData.slice(1); } this.push(new Buffer(jsonData, 'utf8')); } done(); }; return parser; };
jQuery.fn.extend({ wrapAll: function( html ) { if ( jQuery.isFunction( html ) ) { return this.each(function(i) { jQuery(this).wrapAll( html.call(this, i) ); }); } if ( this[0] ) { var wrap = jQuery( html, this[0].ownerDocument ).eq(0).clone(true); if ( this[0].parentNode ) { wrap.insertBefore( this[0] ); } wrap.map(function() { var elem = this; while ( elem.firstChild && elem.firstChild.nodeType === 1 ) { elem = elem.firstChild; } return elem; }).append( this ); } return this; }, wrapInner: function( html ) { if ( jQuery.isFunction( html ) ) { return this.each(function(i) { jQuery(this).wrapInner( html.call(this, i) ); }); } return this.each(function() { var self = jQuery( this ), contents = self.contents(); if ( contents.length ) { contents.wrapAll( html ); } else { self.append( html ); } }); }, wrap: function( html ) { var isFunction = jQuery.isFunction( html ); return this.each(function(i) { jQuery( this ).wrapAll( isFunction ? html.call(this, i) : html ); }); }, unwrap: function() { return this.parent().each(function() { if ( !jQuery.nodeName( this, "body" ) ) { jQuery( this ).replaceWith( this.childNodes ); } }).end(); } });
module.exports = { re: [ /^https?:\/\/polldaddy\.com\/poll\/([0-9]+)/i ], mixins: [ "oembed-title", "oembed-site" ], getLink: function(oembed) { return [{ type: CONFIG.T.text_html, rel: [CONFIG.R.survey, CONFIG.R.ssl], html: oembed.html, "min-width": 332 }, { type: CONFIG.T.image, rel: CONFIG.R.icon, href: "https: }, { type: CONFIG.T.image, rel: CONFIG.R.thumbnail, href: "http: }]; }, tests: [ "https: ] };
var text = element(by.binding('text')); var valid = element(by.binding('myForm.input.$valid')); var input = element(by.model('text')); it('should initialize to model', function() { expect(text.getText()).toContain('http: expect(valid.getText()).toContain('true'); }); it('should be invalid if empty', function() { input.clear(); input.sendKeys(''); expect(text.getText()).toEqual('text ='); expect(valid.getText()).toContain('false'); }); it('should be invalid if not url', function() { input.clear(); input.sendKeys('box'); expect(valid.getText()).toContain('false'); });
describe('PianoCtrl', function() { var scope, controller; beforeEach(function(){ this.addMatchers({ toBeGreaterThanOrEqualTo: function(expected) { return this.actual >= expected; } }); scope = angular.scope(); controller = scope.$new(PianoCtrl); }); it('should measure latency on each send', function() { var xhr = scope.$service('$browser').xhr; var data = {channel:0, command:144, note:77, velocity:60}; xhr.expectPOST('/data/midi/send', data).respond(data); controller.latency = -1; controller.sendMidiCommand(controller.NOTE_ON, 77); xhr.flush(); expect(controller.latency).toBeGreaterThanOrEqualTo(0); }); })
'use strict'; angular.module('<%= ngModulName %>') .controller('HomeController', function($scope, ExampleService) { $scope.myHTML = null; $scope.fetchRandomText = function() { ExampleService.doSomethingAsync() .then(ExampleService.fetchSomethingFromServer) .then(function(response) { $scope.myHTML = response.data.text; $scope.$broadcast('scroll.refreshComplete'); }); }; $scope.fetchRandomText(); });
"use strict" var tape = require("tape") var dt = require("../triangulate") var isDelaunay = require("./util/is-delaunay") tape("fuzz-3d", function(t) { var points = new Array(30) for(var j=0; j<30; ++j) { points[j] = [ Math.random(), Math.random(), Math.random() ] } isDelaunay(t, dt(points), points) t.end() })
jQuery(function($) { $.datepicker.regional['et'] = { closeText: 'Sulge', prevText: 'Eelnev', nextText: 'Järgnev', currentText: 'Täna', monthNames: ['Jaanuar','Veebruar','Märts','Aprill','Mai','Juuni', 'Juuli','August','September','Oktoober','November','Detsember'], monthNamesShort: ['Jaan', 'Veebr', 'Märts', 'Apr', 'Mai', 'Juuni', 'Juuli', 'Aug', 'Sept', 'Okt', 'Nov', 'Dets'], dayNames: ['Pühapäev', 'Esmaspäev', 'Teisipäev', 'Kolmapäev', 'Neljapäev', 'Reede', 'Laupäev'], dayNamesShort: ['Pühap', 'Esmasp', 'Teisip', 'Kolmap', 'Neljap', 'Reede', 'Laup'], dayNamesMin: ['P','E','T','K','N','R','L'], weekHeader: 'Sm', dateFormat: 'dd.mm.yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['et']); });
require('blanket')({ pattern: 'dynamoose/lib/' });
function RunningHeartRateModifier () {} RunningHeartRateModifier.prototype = { modify: function modify() { var runningHeartRateModifier = function() { var element = $('#elevation-profile td[data-type=heartrate] .toggle-button') .not('.once-only') .addClass('once-only'); element.click(); }.bind(this); setInterval(runningHeartRateModifier, 750); }, };
module.exports = function(config){ config.set({ basePath : '../', files : [ 'test/e2e *.js' ], autoWatch : false, browsers : ['Chrome'], frameworks: ['ng-scenario'], singleRun : true, proxies : { '/': 'http: }, plugins : [ 'karma-junit-reporter', 'karma-chrome-launcher', 'karma-firefox-launcher', 'karma-jasmine', 'karma-ng-scenario' ], junitReporter : { outputFile: 'test_out/e2e.xml', suite: 'e2e' } })}
module.exports.deserialize = function deserialize (content) { try { content = JSON.parse(content); } catch (err) { throw err; } return content; }; module.exports.serialize = function serialize (content) { try { content = JSON.stringify(content); } catch (err) { throw err; } return content; };
var assert = require('assert'), http = require('http'), vows = require('vows'), request = require('request'), director = require('../../../lib/director'), helpers = require('../helpers'), macros = helpers.macros, handlers = helpers.handlers vows.describe('director/http/stream').addBatch({ "An instance of director.http.Router": { "with streaming routes": { topic: function () { var router = new director.http.Router(); router.post(/foo\/bar/, { stream: true }, handlers.streamBody); return router; }, "when passed to an http.Server instance": { topic: function (router) { helpers.createServer(router) .listen(9092, this.callback); }, "a POST request to foo/bar": macros.assertPost(9092, 'foo/bar', { foo: 'foo', bar: 'bar' }) } } } }).export(module);
module.exports = function (req, res, next) { res.header('Access-Control-Allow-Origin', '*'); res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE'); res.header('Access-Control-Allow-Headers', 'Content-Type'); next(); };
var utile = require('utile'), base = require('../../core/compute/flavor'); var Flavor = exports.Flavor = function Flavor(client, details) { base.Flavor.call(this, client, details); }; utile.inherits(Flavor, base.Flavor); Flavor.options = { 'ExtraSmall': { ram:.768 * 1024, disk: 20 }, 'Small': { ram: 1.75 * 1024, disk: 50 }, 'Medium': { ram: 3.5 * 1024, disk: 100 }, 'Large': { ram: 7 * 1024, disk: 200 }, 'ExtraLarge': { ram: 14 * 1024, disk: 400 } }; Flavor.prototype._setProperties = function (details) { var id = details.name || details.id || 'ExtraSmall'; if (!Flavor.options[id]) throw new TypeError('No such Azure Flavor: ' + id); this.id = id; this.name = id; this.ram = Flavor.options[id].ram; this.disk = Flavor.options[id].disk; };
if (window.location.hostname === 'handsontable.com' || window.location.hostname === 'www.handsontable.com' || window.location.hostname === 'warpech.github.com') { var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-33932793-1']); _gaq.push(['_trackPageview']); (function () { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https: var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); }
var assert = require('assert'), path = require('path'), spawn = require('child_process').spawn, vows = require('vows'), forever = require('../../lib/forever'); vows.describe('forever/core/tail').addBatch({ "When using forever": { "the tail() method": { topic: function () { var that = this; that.child = spawn('node', [path.join(__dirname, '..', 'fixtures', 'start-daemon.js')]); setTimeout(function () { forever.tail(0, that.callback); }, 2000); }, "should respond with logs for the script": function (err, procs) { assert.isNull(err); assert.isArray(procs); procs.forEach(function (proc) { assert.isArray(proc.logs); assert.isTrue(!!proc.logs.length); assert.isTrue(proc.logs.length > 10); proc.logs = proc.logs.slice(1); proc.logs.forEach(function (line) { assert.match(line, /^Logging at/); }); }); } } } }).addBatch({ "When the tests are over": { "stop all forever processes": { topic: function () { forever.stopAll().on('stopAll', this.callback.bind(null, null)); }, "should stop the correct number of procs": function (err, procs) { assert.isArray(procs); assert.lengthOf(procs, 1); } } } }).export(module);
﻿ CKEDITOR.plugins.setLang( 'justify', 'fr-ca', { block: 'Texte justifié', center: 'Centrer', left: 'Aligner à gauche', right: 'Aligner à Droite' });
define(function(require, exports, module) { "use strict"; var oop = require("ace/lib/oop"); var EventEmitter = require("ace/lib/event_emitter").EventEmitter; var Editor = exports.Editor = function() { this._buffers = []; this._windows = []; }; (function() { oop.implement(this, EventEmitter); this.addBuffer = function(buffer) { this._buffers.push(buffer); return this._buffers.length-1; }; this.addWindow = function(win) { this._windows.push(win); return this._windows.length-1; }; this.openInWindow = function(bufferId, winId) { this._windows[winId || 0].setBuffer(this._buffers[bufferId]); }; }).call(Editor.prototype); });
'use strict'; angular.module('todoWebApp', ['ngAnimate']);
var assert = require("chai").assert; describe("Lodash string functions", function(){ it("should use the lodash helper to work on strings", function(done) { var site = require("../../index").builder({ config: { errorHandler: function (err) { console.log(err); } } }); site.compile({ key: "index.html", content: "{{$_ 'camelCase' 'Foo Bar'}}", cb: function (err, out) { if (err) { return done(err); } assert.equal(out.get("compiled"), "fooBar"); done(); } }); }); it("should give great errors when using lodash helper", function(done) { var site = require("../../index").builder({ config: { errorHandler: function (err) { var msg = "$_ (lodash) helper requires at least 2 params (method and value)"; assert.equal(err._type, "lodash:string:params"); assert.equal(err.message, msg); assert.equal(err._crossbow.file, "index.html"); assert.equal(err._crossbow.message, "$_ (lodash) helper requires at least 2 params (method and value)"); done(); } } }); site.compile({ key: "index.html", content: "{{$_ 'camelCase'}}", cb: function () { } }); }); it("should give great errors when using lodash helper and fn does not exist", function(done) { var site = require("../../index").builder({ config: { errorHandler: function (err) { var msg = "$_ (lodash) helper requires at least 2 params (method and value)"; console.log(err); assert.equal(err._type, "lodash:string:params"); assert.include(err.message, "Check the docs here https: assert.equal(err._crossbow.file, "index.html"); assert.include(err._crossbow.message, "Check the docs here https: done(); } } }); site.compile({ key: "index.html", content: "{{$_ 'startw' 'node js'}}", cb: function () { } }); }); });
jQuery(function($) { $.datepicker.regional['tr'] = { closeText: 'kapat', prevText: '&#x3c;geri', nextText: 'ileri&#x3e', currentText: 'bugün', monthNames: ['Ocak','Şubat','Mart','Nisan','Mayıs','Haziran', 'Temmuz','Ağustos','Eylül','Ekim','Kasım','Aralık'], monthNamesShort: ['Oca','Şub','Mar','Nis','May','Haz', 'Tem','Ağu','Eyl','Eki','Kas','Ara'], dayNames: ['Pazar','Pazartesi','Salı','Çarşamba','Perşembe','Cuma','Cumartesi'], dayNamesShort: ['Pz','Pt','Sa','Ça','Pe','Cu','Ct'], dayNamesMin: ['Pz','Pt','Sa','Ça','Pe','Cu','Ct'], weekHeader: 'Hf', dateFormat: 'dd.mm.yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['tr']); });
module.exports = { re: /^https:\/\/500px\.com\/photo.+/, mixins: [ "og-title", "oembed-author", "oembed-site", "description", "oembed-thumbnail", "canonical", "og-image-rel-image", "favicon" ], getMeta: function(meta) { var keywords = meta.five_hundred_pixels.tags; if (keywords instanceof Array) { keywords = meta.five_hundred_pixels.tags.join(', '); } return { latitude: meta.five_hundred_pixels.location.latitude, longitude: meta.five_hundred_pixels.location.longitude, category: meta.five_hundred_pixels.category, date: meta.five_hundred_pixels.uploaded, keywords: keywords }; }, tests: [{ pageWithFeed: "https: }, "http: ] };
var pluginUtils = require('./utils'); module.exports = { getData: function(meta, cb) { if (pluginUtils.checkRobots(meta.robots, cb)) { return; } else { cb(); } } };
var helper = require('./helpers/promise') , db = require('ezseed-database').db , logger = require('ezseed-logger')('useradd') , config = require('../lib/config.js') , async = require('async') , p = require('path') , i18n = require('i18n') , Promise = require('bluebird') , debug = require('debug')('ezseed:cli:useradd') module.exports = function(opts) { require('./inquirer/useradd.js')(opts) .then(function() { return new Promise(function(resolve, reject) { if(opts.client !== 'transmission') { return resolve(opts) } require('local-port').findOpen(9002, function(err, open_port) { if(err) { logger.error('We could not find any open port') return reject(err) } else { debug('Transmission port', open_port) opts.port = open_port return resolve(opts) } }) }) }) .catch(helper.exit(i18n.__('Creating system user'))) .then(function() { return new Promise(function(resolve, reject) { db.user.create(opts, function(err) { if(err) { return reject(err, opts) } debug('db user created', opts) return resolve(opts) }) }) }) .catch(helper.exit(i18n.__('Creating %s', opts.username))) .then(function() { return new Promise(function(resolve, reject) { db.paths.save( p.join(config.home, opts.username, 'downloads'), { username: opts.username, default: true }, function(err) { if(err) { logger.warn(err) } debug('Path saved', opts) return resolve(opts) }) }) }) .then(function() { return require('./commands/user') .create(opts.username, opts.password) }) .catch(helper.exit(i18n.__('Creating system user'))) .then(function() { return require('./commands/user') .client(opts.client)('useradd', opts.username, opts.password, opts.port) }) .catch(helper.exit(i18n.__('Creating %s client', opts.client))) .then(function() { return require('./commands/daemon').client(opts.client)({command: 'start', user: opts.username}) }) .then(helper.exit(i18n.__('Creating %s', opts.username))) .catch(helper.exit(i18n.__('Creating %s', opts.username))) }
var createKDT = require("../kdtree") module.exports = { name: "static-kdtree", url: "https: dynamic: false, pureJS: true, preprocess: function(points, repeat) { var start = Date.now() for(var i=0; i<repeat; ++i) { var tree = createKDT(points) tree.dispose() } return Date.now() - start }, range: function(points, queries, repeat) { var tree = createKDT(points) var count = 0 var m = queries.length var start = Date.now() for(var i=0; i<repeat; ++i) { for(var j=0; j<m; ++j) { tree.range(queries[j][0], queries[j][1], function() { count += 1 }) } } var end = Date.now() tree.dispose() return [end-start, count] }, rnn: function(points, queries, repeat) { var tree = createKDT(points) var count = 0 var m = queries.length var start = Date.now() for(var i=0; i<repeat; ++i) { var list = [] for(var j=0; j<m; ++j) { tree.rnn(queries[j][0], queries[j][1], function(idx) { list.push(idx) }) } count += list.length } var end = Date.now() tree.dispose() return [end-start, count] }, knn: function(points, queries, repeat) { var tree = createKDT(points) var count = 0 var m = queries.length var start = Date.now() for(var i=0; i<repeat; ++i) { for(var j=0; j<m; ++j) { var q = queries[j][0] var kc = queries[j][1] var result = tree.knn(q, kc) for(var k=0; k<kc; ++k) { count += result[k] } } } var end = Date.now() tree.dispose() return [end-start, count] }, nn: function(points, queries, repeat) { var tree = createKDT(points) var count = 0 var m = queries.length var start = Date.now() for(var i=0; i<repeat; ++i) { for(var j=0; j<m; ++j) { count += tree.nn(queries[j]) } } var end = Date.now() tree.dispose() return [end-start, count] } }
suite('Classy controller simple creation', function() { var app = angular.module('app', ['classy']); benchmark('Classy', function() { app.classy.controller({ name: 'BenchmarkClassyController', inject: ['$scope'] }); }); benchmark('Vanilla', function() { var benchmarkVanillaController = function($scope) {}; app.controller('BenchmarkVanillaContoller', ['$scope', benchmarkVanillaController]); }); });
module.exports = require('./lib/bson')
var assert = require('assert') var Block = require('../src/block') var fixtures = require('./fixtures/block') describe('Block', function () { describe('fromBuffer/fromHex', function () { fixtures.valid.forEach(function (f) { it('imports the block: ' + f.description + ' correctly', function () { var block = Block.fromHex(f.hex) assert.equal(block.version, f.version) assert.equal(block.prevHash.toString('hex'), f.prevHash) assert.equal(block.merkleRoot.toString('hex'), f.merkleRoot) assert.equal(block.timestamp, f.timestamp) assert.equal(block.bits, f.bits) assert.equal(block.nonce, f.nonce) }) }) fixtures.invalid.forEach(function (f) { it('throws on ' + f.exception, function () { assert.throws(function () { Block.fromHex(f.hex) }, new RegExp(f.exception)) }) }) }) describe('toBuffer/toHex', function () { fixtures.valid.forEach(function (f) { var block beforeEach(function () { block = Block.fromHex(f.hex) }) it('exports the block: ' + f.description + ' correctly', function () { assert.equal(block.toHex(), f.hex) }) }) }) describe('getHash', function () { fixtures.valid.forEach(function (f) { var block beforeEach(function () { block = Block.fromHex(f.hex) }) it('calculates ' + f.hash + ' for the block: ' + f.description, function () { assert.equal(block.getHash().toString('hex'), f.hash) }) }) }) describe('getId', function () { fixtures.valid.forEach(function (f) { var block beforeEach(function () { block = Block.fromHex(f.hex) }) it('calculates ' + f.id + ' for the block: ' + f.description, function () { assert.equal(block.getId(), f.id) }) }) }) describe('getUTCDate', function () { fixtures.valid.forEach(function (f) { var block beforeEach(function () { block = Block.fromHex(f.hex) }) it('returns UTC date of ' + f.id, function () { var utcDate = block.getUTCDate().getTime() assert.equal(utcDate, f.timestamp * 1e3) }) }) }) })
var URL = require("url"); var _ = require('underscore'); module.exports = { re: [ /^https?:\/\/magnatune\.com\/artists\/albums\/([-_a-z0-9]+)(?:\/(?:lofi_play)?)?(?:[\?#].*)?$/i ], mixins: [ "og-description", "og-image", "favicon" ], provides: 'magnatune_meta', getData: function(url, urlMatch, meta) { var image_url = URL.parse(meta.og.image); var image_path = image_url.path.split("/"); var sku = urlMatch[1]; var author = decodeURIComponent(image_path[2]); var title = decodeURIComponent(image_path[3]); return { magnatune_meta: { title: title, author: author, license: "All audio files at Magnatune are licensed under the Creative Commons Attribution-NonCommercial-ShareAlike license.", license_url: "http: embed_url: "http: sku + "/hifi.xspf&autoload=true&autoplay=&playlist_title="+encodeURIComponent(author + " : " + title) } }; }, getMeta: function(magnatune_meta) { var meta = _.extend({}, magnatune_meta); delete meta.embed_url; return meta; }, getLink: function(magnatune_meta) { var image_url = "http: var links = [{ href: magnatune_meta.embed_url, type: CONFIG.T.flash, rel: CONFIG.R.player, "min-width": 300, "max-width": 600, "min-height": 150, "max-height": 600 }, { href: image_url+".jpg", rel: CONFIG.R.thumbnail, type: CONFIG.T.image_jpeg }]; [30, 50, 100, 150, 200, 300, 600].forEach(function (size) { links.push({ href: image_url + "_" + size + ".jpg", rel: CONFIG.R.thumbnail, type: CONFIG.T.image_jpeg, width: size, height: size }); }); return links; }, tests: [{ page: "http: selector: "ol li a:first-child" }, "http: "http: ] };
var util = require('util'); var assert = require('assert'); var Schema = exports.Schema = function (schemaDef) { this.schemaDef = schemaDef; }; Schema.prototype.apply = function (obj) { for (var i in this.schemaDef) { var fieldDef = this.schemaDef[i]; if (fieldDef.required) { assert.notEqual(typeof obj[i], undefined, "Schema: Required field '"+i+"' is undefined"); assert.notEqual(obj[i], null, "Schema: Required field '"+i+"' is null"); } if (fieldDef.type) { if (fieldDef.type.name == "String") { obj[i] = "" + obj[i]; continue; } else { assert.ok(obj[i] instanceof fieldDef.type, "Schema: Field '"+i+"' is of incorrect type"); } } } return obj; };
Prototype._original_property = window.Sizzle; ;(function () { function fakeDefine(fn) { Prototype._actual_sizzle = fn(); } fakeDefine.amd = true; if (typeof define !== 'undefined' && define.amd) { Prototype._original_define = define; Prototype._actual_sizzle = null; window.define = fakeDefine; } })(); ;(function() { if (typeof Sizzle !== 'undefined') { return; } if (typeof define !== 'undefined' && define.amd) { window.Sizzle = Prototype._actual_sizzle; window.define = Prototype._original_define; delete Prototype._actual_sizzle; delete Prototype._original_define; } else if (typeof module !== 'undefined' && module.exports) { window.Sizzle = module.exports; module.exports = {}; } })(); ;(function(engine) { var extendElements = Prototype.Selector.extendElements; function select(selector, scope) { return extendElements(engine(selector, scope || document)); } function match(element, selector) { return engine.matches(selector, [element]).length == 1; } Prototype.Selector.engine = engine; Prototype.Selector.select = select; Prototype.Selector.match = match; })(Sizzle); window.Sizzle = Prototype._original_property; delete Prototype._original_property;
import delegate from 'delegates'; import Engine from './Engine'; class Trek extends Engine { static get env() { return this._env || (this._env = process.env.TREK_ENV || process.env.NODE_ENV || 'development'); } static get isProduction() { return this.env === 'production'; } static get isDevelopment() { return this.env === 'development'; } static get isTest() { return this.env === 'test'; } static get package() { return require('../package.json'); } static get version() { return this.package.version; } static get lib() { return require('./lib'); } } if (!global.Trek) { global.Trek = Trek; delegate(Trek, 'lib') .getter('logger') .getter('Mailer'); } export default Trek;
var assert = require('assert'); var R = require('..'); describe('trim', function() { var test = '\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFFHello, World!\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF'; it('trims a string', function() { assert.strictEqual(R.trim(' xyz '), 'xyz'); }); it('trims all ES5 whitespace', function() { assert.strictEqual(R.trim(test), 'Hello, World!'); assert.strictEqual(R.trim(test).length, 13); }); it('does not trim the zero-width space', function() { assert.strictEqual(R.trim('\u200b'), '\u200b'); assert.strictEqual(R.trim('\u200b').length, 1); }); if (typeof String.prototype.trim !== 'function') { it('falls back to a shim if String.prototype.trim is not present', function() { assert.strictEqual(R.trim(' xyz '), 'xyz'); assert.strictEqual(R.trim(test), 'Hello, World!'); assert.strictEqual(R.trim(test).length, 13); assert.strictEqual(R.trim('\u200b'), '\u200b'); assert.strictEqual(R.trim('\u200b').length, 1); }); } });
'use strict'; var authService = require('../controllers/authService') , userService = require('../controllers/userService') , env = process.env.NODE_ENV || 'development' , config = require('../config/config')[env] , path = require('path'); module.exports = function(app, passport) { app.all('*', authService.loginFromCookie); app.get('/api/user/current-user', authService.getCurrentUser); app.get('/auth/facebook', passport.authenticate('facebook', { scope: 'email, user_birthday' })); app.get('/auth/facebook/callback', passport.authenticate('facebook', { failureRedirect: '/login', successRedirect: '/' })); app.get('/auth/google', passport.authenticate('google', { scope: ['https: 'https: app.get('/auth/google/callback', passport.authenticate('google', { failureRedirect: '/login', successRedirect: '/' })); app.post('/api/user/register', authService.register); app.post('/api/user/activate', authService.activate, authService.loginUser); app.post('/api/user/resendActivation', authService.resendActivationLink); app.post('/api/user/forgotPassword', authService.sendPasswordLink); app.post('/api/user/validatePasswordReset', authService.validatePasswordReset, authService.respondValidated); app.post('/api/user/resetPassword', authService.validatePasswordReset, authService.changeForgottenPassword, authService.loginUser); app.post('/api/user/login', function(req, res, next) { passport.authenticate('local', function(err, user, info) { if(err) return res.json(400, err); if(!user && info) return res.json(412, info); req.newUser = user; return next(); })(req, res, next); }, authService.loginUser); app.post('/api/user/logout', authService.logout); app.all('/api/account app.get('*', function(req, res){ res.sendfile('index.html', { root: config.node.distFolder }); }); };
'use strict'; var _ = require('underscore'), getTemplatedStylesheet = require('./templatedStylesheet'), path = require('path'), generateSpriteSheet = getTemplatedStylesheet(path.join(__dirname + '/templates/prefixed-css.tpl')); module.exports = function(layout, filePath, spritePath, options, callback) { var localOptions = _.clone(options); localOptions.prefix = localOptions.prefix || 'sprite-'; localOptions.commonWidth = layout.images[0].width; localOptions.commonHeight = layout.images[0].height; layout.images.every(function(image) { if (image.width != localOptions.commonWidth || image.height != localOptions.commonHeight) { localOptions.commonWidth = localOptions.commonHeight = false; return false; } return true; }); generateSpriteSheet(layout, filePath, spritePath, localOptions, callback); };
﻿(function() { 'use strict'; var ctrlName = 'cartController'; var app = angular.module('app').controller(ctrlName, ['$scope', 'dataservice', 'pricing', controller]); function controller($scope, dataservice, pricing) { var cartOrder = dataservice.cartOrder; var draftOrder = dataservice.draftOrder; $scope.cartOrder = cartOrder; $scope.removeItem = removeItem; $scope.calc = calc; calc(); function calc() { var haveItems = $scope.haveItems = cartOrder.orderItems.length; if (haveItems){ pricing.calcOrderItemsTotal(cartOrder); $scope.someCostMore = pricing.orderHasExtraCostOptions(cartOrder); } } function removeItem(orderItem) { cartOrder.removeItem(orderItem); draftOrder.addItem(orderItem); calc(); } } app.routeResolve[ctrlName] = { dataServiceInit: true }; })();
var phpspecPlugin = ActiveBuild.UiPlugin.extend({ id: 'build-phpspec-errors', css: 'col-lg-12 col-md-12 col-sm-12 col-xs-12', title: Lang.get('phpspec'), lastData: null, displayOnUpdate: false, box: true, rendered: false, register: function() { var self = this; var query = ActiveBuild.registerQuery('phpspec', -1, {key: 'phpspec'}) $(window).on('phpspec', function(data) { self.onUpdate(data); }); $(window).on('build-updated', function() { if (!self.rendered) { self.displayOnUpdate = true; query(); } }); }, render: function() { return $('<table class="table table-striped" id="phpspec-data">' + '<thead>' + '<tr>' + ' <th>'+Lang.get('suite')+'</th>' + ' <th>'+Lang.get('test')+'</th>' + ' <th>'+Lang.get('result')+'</th>' + '</tr>' + '</thead><tbody></tbody></table>'); }, onUpdate: function(e) { if (!e.queryData) { $('#build-phpspec-errors').hide(); return; } this.rendered = true; this.lastData = e.queryData; var tests = this.lastData[0].meta_value; var tbody = $('#phpspec-data tbody'); tbody.empty(); for (var i in tests.suites) { var test_suite = tests.suites[i]; for(var k in test_suite.cases){ var test_case = test_suite.cases[k]; var row = $( '<tr>'+ '<td>'+test_suite.name+'</td>'+ '<td title="'+Lang.get('took_n_seconds', test_case['time'])+'">'+test_case.name+'</td>'+ '<td>'+(test_case.message ? test_case.message : Lang.get('ok'))+'</td>'+ '</tr>' ); if (test_case.status!='passed') { row.addClass('danger'); } else { row.addClass('success'); } tbody.append(row); } } $('#build-phpspec-errors').show(); } }); ActiveBuild.registerPlugin(new phpspecPlugin());
export default Ember.Route.extend({ setupController: function (controller) { controller.reset(); } });
﻿ CKEDITOR.plugins.setLang( 'quicktable', 'zh', { more: '更多' });
var test = require('tap').test; var todoSvc = require('./todo-service'); test('return all promist', function (t) { var db = mockPouch(); var svc = todoSvc(db); svc.$all('foo', function(lists) { t.equals(lists.length, 2); t.end(); }); }); test('insert todo list', function (t) { var db = mockPouch(); var svc = todoSvc(db); svc.$put('foo', { foo: 'bar'}).then(function(res) { t.ok(res.ok); t.end(); }); }); test('get todo list by id', function (t) { var db = mockPouch(); var svc = todoSvc(db); svc.$get('foo', 1).then(function(doc) { t.equals(doc.foo, 'bar'); t.end(); }); }); function mockPouch () { return function() { return { get: function (id) { return { then: function (fn) { fn({foo: 'bar'}); } } }, put: function (doc) { return { then: function (fn) { fn({ok: true}); } } }, query: function (view, cb) { cb([1,2]); } } }; }
module.exports = { "test": { options: { bare: true }, files: [{ expand: true, cwd: 'tests/', src: '** *.em', dest: 'tmp/javascript/app', ext: '.js' }] } };
exports.Registry = require('./lib/registry').Registry; exports.RedisDb = require('./lib/db/redis').RedisDb;
"use strict"; var WaveformDataArrayBufferAdapter = module.exports = function WaveformDataArrayBufferAdapter(response_data){ this.data = response_data; }; WaveformDataArrayBufferAdapter.isCompatible = function isCompatible(data){ return data && typeof data === "object" && "byteLength" in data; }; WaveformDataArrayBufferAdapter.fromResponseData = function fromArrayBufferResponseData(response_data){ return new WaveformDataArrayBufferAdapter(new DataView(response_data)); }; WaveformDataArrayBufferAdapter.prototype = { get version(){ return this.data.getInt32(0, true); }, get is_8_bit(){ return !!this.data.getUint32(4, true); }, get is_16_bit(){ return !this.is_8_bit; }, get sample_rate(){ return this.data.getInt32(8, true); }, get scale(){ return this.data.getInt32(12, true); }, get length(){ return this.data.getUint32(16, true); }, at: function at_sample(index){ return Math.round(this.data.getInt8(20 + index)); } };
$(function(){ Iframework.NativeNodes["util-gate"] = Iframework.NativeNodes["util"].extend({ info: { title: "gate", description: "stop the data flow and let one through" }, initializeModule: function(){ }, inputdata: function(data){ this._data = data; if (this._open) { this.send("data", data); } else if (this._one) { this.send("data", data); this._one = false; } }, _one: false, inputone: function(){ this._one = true; }, inputprev: function(){ if (this._data) { this.send("data", this._data); } }, _open: false, inputopen: function(b){ this._open = b; this.$(".info").text( b ? "open" : "closed" ); }, redraw: function(timestamp){ }, inputs: { data: { type: "all", description: "data to gate" }, open: { type: "boolean", description: "let all data through", "default": false }, one: { type: "bang", description: "let the next data through" }, prev: { type: "bang", description: "send the previous data" } }, outputs: { data: { type: "all" } } }); });
(function(window){ 'use strict'; function EventManager(){ this.handlers = {}; } EventManager.prototype.on = function(event, handler, context){ if (this.handlers[event] === undefined){ this.handlers[event] = []; } this.handlers[event].push({ "fn": handler, "context": context || this }); }; EventManager.prototype.off = function(event, fn){ var handlers = this.handlers[event]; if (!handlers || !handlers.length){ return; } if (fn && typeof fn === 'function'){ handlers.forEach(function(handler, index){ if (handler.fn === fn){ handlers.splice(index, 1); } }); return; } delete this.handlers[event]; }; EventManager.prototype.trigger = function(event, data){ var handlers = this.handlers[event]; if (!handlers || !handlers.length){ return; } handlers.forEach(function(handler){ handler.fn.call(handler.context, data); }); }; window.EventManager = EventManager; })(window);
define('localization/en', ['dojo/_base/lang'], function(lang) { return lang.setObject('Mobile.CultureInfo', { "name": "en", "englishName": "English (United States)", "nativeName": "English (United States)", "numberFormat": { "currencyDecimalDigits": 2, "currencyDecimalSeparator": ".", "isReadOnly": false, "currencyGroupSizes": [ 3 ], "numberGroupSizes": [ 3 ], "percentGroupSizes": [ 3 ], "currencyGroupSeparator": ",", "currencySymbol": "$", "naNSymbol": "NaN", "currencyNegativePattern": 0, "numberNegativePattern": 1, "percentPositivePattern": 0, "percentNegativePattern": 0, "negativeInfinitySymbol": "-Infinity", "negativeSign": "-", "numberDecimalDigits": 2, "numberDecimalSeparator": ".", "numberGroupSeparator": ",", "currencyPositivePattern": 0, "positiveInfinitySymbol": "Infinity", "positiveSign": "+", "percentDecimalDigits": 2, "percentDecimalSeparator": ".", "percentGroupSeparator": ",", "percentSymbol": "%", "perMilleSymbol": "‰", "nativeDigits": [ "0", "1", "2", "3", "4", "5", "6", "7", "8", "9" ], "digitSubstitution": 1 } }); });
define('crm/Views/_RightDrawerBaseMixin', [ 'dojo/_base/declare', 'dojo/_base/array', 'dojo/_base/lang' ], function( declare, array, lang ) { var __class = declare('crm.Views._RightDrawerBaseMixin', null, { drawerLoaded: false, disableRightDrawer: false, toolsAdded: false, setupRightDrawer: function() { }, loadRightDrawer: function() { if (this.drawerLoaded || this.disableRightDrawer) { return; } this.setupRightDrawer(); var drawer = App.getView('right_drawer'); if (drawer) { drawer.refresh(); this.drawerLoaded = true; } }, show: function(options) { this.ensureToolsCreated(options); this.inherited(arguments); }, ensureToolsCreated: function(options) { if (options && options.tools) { this._addTools(options.tools); } }, onToolLayoutCreated: function(tools) { tools = tools || { tbar: [] }; if (!this.toolsAdded) { this._addTools(tools); this.toolsAdded = true; } this.inherited(arguments); }, _addTools: function(tools) { if (this.disableRightDrawer) { return; } if (tools) { tools.tbar.unshift({ id: 'toggleRightDrawer', cls: 'fa fa-ellipsis-v fa-fw fa-lg', side: 'right', fn: this.toggleRightDrawer, scope: this }); } }, toggleRightDrawer: function() { this._toggleDrawer('right'); }, _toggleDrawer: function(state) { var snapperState = App.snapper.state(); if (snapperState.state === state) { App.snapper.close(); } else { App.snapper.open(state); } }, unloadRightDrawer: function() { }, onTransitionTo: function() { if (this.disableRightDrawer) { return; } this.loadRightDrawer(); }, onTransitionAway: function() { if (this.disableRightDrawer) { return; } var drawer = App.getView('right_drawer'); if (drawer) { this.unloadRightDrawer(); drawer.clear(); this.drawerLoaded = false; } } }); lang.setObject('Mobile.SalesLogix.Views._RightDrawerBaseMixin', __class); return __class; });
module.exports = function(grunt) { var path = require('path'); var srcDir = '../Scripts/IBlade/'; var destDir = '../Scripts/'; var baseFileNames = [ '_head.jsfrag', 'a??_*.js', '_tail.jsfrag']; var fileNames = [ '_head.jsfrag', 'a??_*.js', 'b??_*.js', '_tail.jsfrag']; grunt.initConfig({ pkg: grunt.file.readJSON('package.json'), concat: { options: { separator: ';', }, base: { src: mapPath(srcDir, baseFileNames), dest: destDir+'breeze.base.debug.js', }, def: { src: mapPath(srcDir, fileNames), dest: destDir+'breeze.debug.js', } }, uglify: { options: { report: 'min', }, base: { src: [destDir+'breeze.debug.js'], dest: destDir+'breeze.min.js' }, def: { src: [destDir+'breeze.base.debug.js'], dest: destDir+'breeze.base.min.js' }, }, yuidoc: { compile: { options: { paths: srcDir, themedir: '../ApiDocs-theme', outdir: '../ApiDocs' } } }, exec: { buildIntellisense: { cwd: '../Intellisense', cmd: 'node server.js' } }, }); grunt.loadNpmTasks('grunt-contrib-concat'); grunt.loadNpmTasks('grunt-contrib-uglify'); grunt.loadNpmTasks('grunt-contrib-yuidoc'); grunt.loadNpmTasks('grunt-exec'); grunt.registerTask('basic', ['concat', 'uglify', 'yuidoc']); grunt.registerTask('default', ['concat', 'uglify', 'yuidoc', 'exec']); function log(err, stdout, stderr, cb) { if (err) { grunt.log.write(err); grunt.log.write(stderr); throw new Error("Failed"); } grunt.log.write(stdout); cb(); } function mapPath(dir, fileNames) { return fileNames.map(function(fileName) { return dir + fileName; }); }; };
exports.name = function (req, res) { res.json({ name: 'Bob' }); };
var assert = require('assert'); var R = require('..'); describe('propEq', function() { var obj1 = {name: 'Abby', age: 7, hair: 'blond'}; var obj2 = {name: 'Fred', age: 12, hair: 'brown'}; var obj3 = {name: 'Rusty', age: 10, hair: 'brown'}; var obj4 = {name: 'Alois', age: 15, disposition: 'surly'}; it('determines whether a particular property matches a given value for a specific object', function() { assert.strictEqual(R.propEq('name', 'Abby', obj1), true); assert.strictEqual(R.propEq('hair', 'brown', obj2), true); assert.strictEqual(R.propEq('hair', 'blond', obj2), false); }); it('has Object.is semantics', function() { assert.strictEqual(R.propEq('value', -0, {value: 0}), false); assert.strictEqual(R.propEq('value', 0, {value: -0}), false); assert.strictEqual(R.propEq('value', NaN, {value: NaN}), true); }); it('is curried', function() { var kids = [obj1, obj2, obj3, obj4]; var hairMatch = R.propEq('hair'); assert.strictEqual(typeof hairMatch, 'function'); var brunette = hairMatch('brown'); assert.deepEqual(R.filter(brunette, kids), [obj2, obj3]); assert.deepEqual(R.filter(R.propEq('hair', 'brown'), kids), [obj2, obj3]); }); });
angular.module('myApp', [ 'ionic', 'myApp.config', 'myApp.jobs', 'myApp.startups', 'myApp.search' ]) .run(function($ionicPlatform) { $ionicPlatform.ready(function() { if(window.StatusBar) { StatusBar.styleDefault(); } }); }) .controller('AppCtrl', ['$scope', '$state', function($scope, $state) { }]) .config(function($stateProvider, $urlRouterProvider) { $stateProvider .state('app', { url: "/app", abstract: true, templateUrl: "js/components/menu.html", controller: 'AppCtrl' }) .state('app.about', { url: "/about", views: { 'menuContent' :{ templateUrl: "js/pages/about.html" } } }); $urlRouterProvider.otherwise('/app/search'); }) .directive('browseTo', function ($ionicGesture) { return { restrict: 'A', link: function ($scope, $element, $attrs) { var handleTap = function (e) { var inAppBrowser = window.open(encodeURI($attrs.browseTo), '_system'); }; var tapGesture = $ionicGesture.on('tap', handleTap, $element); $scope.$on('$destroy', function () { $ionicGesture.off(tapGesture, 'tap', handleTap); }); } } }) .factory('URLCache', function($cacheFactory) { var cache_time = 60; function getTime() { var time = parseInt((new Date).getTime() / 1000); return time; } function getPageNumberFromUrl(url) { var regexp = /page=(\d+)/i; var match = regexp.exec(url); var pageNo = match[1]; return pageNo; } return { getCache: function(url) { if (getPageNumberFromUrl(url) > 1) { return false; } var cache = $cacheFactory.get(url); if (cache && cache.get('time') > getTime() - cache_time) { var data = cache.get('data'); return data; } else { return false; } }, setCache: function(url, data) { if (getPageNumberFromUrl(url) > 1) { return false; } var cache = $cacheFactory.get(url); if (!cache) { cache = $cacheFactory(url); } var now = getTime(); cache.remove('data'); cache.put('data', data); cache.remove('time'); cache.put('time', now); } } });
var express = require('express'); var app = express(); app.get('/test', function(req, res) { return res.send('test: ' + require('./test')); }) module.exports = app;
var enemies = require('../enemies.js'); var spawn_list = [] function getSpawn() { var loc = spawn_list[Math.floor(Math.random() * spawn_list.length)]; console.log("Generating spawn location", loc); return loc; } exports.initializeWorld = function(gs) { for(var i=0; i<256; ++i) { for(var j=0; j<256; ++j) { var t = gs.level.get(i,j); if(t >= 38 && t <= 43) { console.log("Placing mob spawner", i, j); var power = (t - 38); var scale = [1, 1.5, 2, 2.5, 3, 5][this.power]; enemies.makeMOBSpawner(gs, { center: [16*i, 16*j], radius: 100, spawn_rate: 10 * 1000, max_mobs: [1, 1, 1, 1, 1, 1][power], mob_attribs: { hp: [4, 10, 50, 200, 500, 3500][power], max_hp: [4, 10, 50, 200, 500, 3500][power], level: [1, 3, 5, 7, 9, 100][power], xp: 0, attack_speed: [1500, 1400, 1300, 1200, 1100, 500][power], attack_power: [1, 6, 15, 30, 90, 200][power], defense_power: [0, 1, 5, 20, 40, 100][power], components: "Rat", } }); gs.level.set(i,j,gs.level.get(i,j-1)); } else if(t === 5) { spawn_list.push([i*16, j*16]); } } } } exports.makeDefaultAttribs = function() { var spoint = getSpawn(); return { x: spoint[0], y: spoint[1], hp: 10, max_hp: 10, level: 1, xp: 0, attack_power : 1, attack_speed : 500, defense_power: 0, components: "Player", }; } exports.handleRespawn = function(mob) { var spoint = getSpawn(); mob.attribs.x = spoint[0]; mob.attribs.y = spoint[1]; mob.attribs.hp = mob.attribs.max_hp; mob.attribs.target_path = []; mob.broadcastEvent("Respawn", mob.attribs); }
var get = Ember.get; DS.ClientTransaction = DS.Transaction.extend({ commit: function() { var store = get(this, 'store'); var commitDetails = this.copyCommitDetails(); var pendingUpSyncRecords = store.rememberModifiedRecords(commitDetails); store.alsoCommitToServer(pendingUpSyncRecords); this._super(); }, copyCommitDetails: function() { return { created: this.bucketForType('created').copy(), updated: this.bucketForType('updated').copy(), deleted: this.bucketForType('deleted').copy() }; } });
define(function () { var AbstractWallet = function (data) { if (!data) return; this.name = data.name || "Unnamed Wallet"; }; AbstractWallet.prototype.serialize = function () { var data = {}; data.name = this.name; return data; }; return AbstractWallet; });
(function(angular, undefined){ 'use strict'; function fakeNgModel(initValue){ return { $setViewValue: function(value){ this.$viewValue = value; }, $viewValue: initValue }; } angular.module('luegg.directives', []) .directive('scrollGlue', function(){ return { priority: 1, require: ['?ngModel'], restrict: 'A', link: function(scope, $el, attrs, ctrls){ var el = $el[0], ngModel = ctrls[0] || fakeNgModel(true); function scrollToBottom(){ el.scrollTop = el.scrollHeight; } function shouldActivateAutoScroll(){ return el.scrollTop + el.clientHeight == el.scrollHeight; } scope.$watch(function(){ if(ngModel.$viewValue){ scrollToBottom(); } }); $el.bind('scroll', function(){ scope.$apply(ngModel.$setViewValue.bind(ngModel, shouldActivateAutoScroll())); }); } }; }); }(angular));
var express = require('express'); var derby = require('derby'); var racerBrowserChannel = require('racer-browserchannel'); var liveDbMongo = require('livedb-mongo'); var MongoStore = require('connect-mongo')(express); var app = require('../app'); var error = require('./error'); var expressApp = module.exports = express(); if (process.env.REDIS_HOST) { var redis = require('redis').createClient(process.env.REDIS_PORT, process.env.REDIS_HOST); redis.auth(process.env.REDIS_PASSWORD); } else if (process.env.REDISCLOUD_URL) { var redisUrl = require('url').parse(process.env.REDISCLOUD_URL); var redis = require('redis').createClient(redisUrl.port, redisUrl.hostname); redis.auth(redisUrl.auth.split(":")[1]); } else { var redis = require('redis').createClient(); } redis.select(process.env.REDIS_DB || 1); var mongoUrl = process.env.MONGO_URL || process.env.MONGOHQ_URL || 'mongodb: var store = derby.createStore({ db: liveDbMongo(mongoUrl + '?auto_reconnect', {safe: true}), redis: redis }); function createUserId(req, res, next) { var model = req.getModel(); var userId = req.session.userId || (req.session.userId = model.id()); model.set('_session.userId', userId); next(); } expressApp .use(express.favicon()) .use(express.compress()) .use(app.scripts(store)) .use(express.static(__dirname + '/../../public')) .use(racerBrowserChannel(store)) .use(store.modelMiddleware()) .use(express.cookieParser()) .use(express.session({ secret: process.env.SESSION_SECRET || 'YOUR SECRET HERE', store: new MongoStore({url: mongoUrl, safe: true}) })) .use(createUserId) .use(app.router()) .use(expressApp.router) .use(error()) expressApp.all('*', function (req, res, next) { next('404: ' + req.url); });
{{projectName}}
define([ 'underscore', 'backbone', 'text!editionPageModule/templates/modals/ExportModalView.html', 'bootstrap', 'fuelux', 'i18n' ], function(_, Backbone, ExportModalViewTemplate) { var ExportJSONProtocolModalView = Backbone.View.extend({ events : { 'click button' : 'validateProtocolSave' }, initialize : function(options) { this.template = _.template(ExportModalViewTemplate); _.bindAll(this, 'render', 'getData'); this.response = false; }, render : function() { var renderedContent = this.template(); $(this.el).html(renderedContent); $(this.el).modal({ show: true }); $(this.el).i18n(); return this; }, validateProtocolSave : function (e){ var exportProtocolComment = $('#exportProtocolFileName').val() === ""; $('#exportProtocolFileName')[ exportProtocolComment === true ? 'addClass' : 'removeClass']("error"); if (!exportProtocolComment) { $('#exportModal').modal('hide').removeData(); this.response = true; } }, getData : function() { return { filename : $('#exportProtocolFileName').val(), response : this.response} } }); return ExportJSONProtocolModalView; });
suite('Selector engine', function () { this.name = 'selector_engine'; test('.engine', function () { assert(Prototype.Selector.engine); }); test('.select', function () { var elements = Prototype.Selector.select('.test_class'); assert(Object.isArray(elements)); assert.equal(2, elements.length); assert.equal('div_parent', elements[0].id); assert.equal('div_child', elements[1].id); }); test('.select (with context)', function () { var elements = Prototype.Selector.select('.test_class', $('div_parent')); assert(Object.isArray(elements)); assert.equal(1, elements.length); assert.equal('div_child', elements[0].id); }); test('.select (with empty result set)', function () { var elements = Prototype.Selector.select('.non_existent'); assert(Object.isArray(elements)); assert.equal(0, elements.length); }); test('.match', function () { var element = $('div_parent'); assert.equal(true, Prototype.Selector.match(element, '.test_class')); assert.equal(false, Prototype.Selector.match(element, '.non_existent')); }); test('.find', function () { var elements = document.getElementsByTagName('*'), expression = '.test_class'; assert.equal('div_parent', Prototype.Selector.find(elements, expression).id); assert.equal('div_child', Prototype.Selector.find(elements, expression, 1).id); }); });
module.exports = { provides: '__promoUri', getData: function(twitter) { var video_src = (twitter.player && twitter.player.value) || twitter.player; if (!video_src) { return; } var urlMatch = video_src.match(/^https?:\/\/www\.youtube\.com\/v\/([\-_a-zA-Z0-9]+)/i) || video_src.match(/^https?:\/\/www\.youtube-nocookie\.com\/v\/([\-_a-zA-Z0-9]+)/i) || video_src.match(/^https?:\/\/www\.youtube\.com\/embed\/([\-_a-zA-Z0-9]+)/i) || video_src.match(/^https?:\/\/youtube\.googleapis\.com\/v\/([\-_a-zA-Z0-9]+)/i) || video_src.match(/https?:\/\/www.youtube\.com\/watch\?v=([\-_a-zA-Z0-9]+)/i) || video_src.match(/https?:\/\/youtu\.be\/([\-_a-zA-Z0-9]+)/i); if (urlMatch) { return { __promoUri: "https: }; } urlMatch = video_src.match(/^https?:\/\/vimeo\.com\/(\d+)/i) || video_src.match(/^https?:\/\/player.vimeo\.com\/video\/(\d+)/i) || video_src.match(/https?:\/\/vimeo\.com\/moogaloop\.swf\?clip_id=(\d+)/i); if (urlMatch) { return { __promoUri: "https: }; } } };
export default Ember.Handlebars.makeBoundHelper(function(datetime, options) { if (!datetime) { return ""; } return moment(datetime).format(options.hash.format || 'LLLL'); });
﻿'use strict'; app.value('version', '0.1');
(function () { "use strict"; var dialog = angular.module('dialog', ['uuid', 'ngAnimate', 'ngMaterial']); dialog.factory('dialog', function ($mdDialog) { var newGroupDialog = function (event, parentGroup) { var controller = function ($scope, $mdDialog, uuid) { $scope.parent = parentGroup; $scope.group = { UUID: uuid.create() }; $scope.cancel = $mdDialog.cancel; $scope.save = function () { $mdDialog.hide($scope.group); }; }; return $mdDialog.show({ templateUrl: 'templates/create-group.html', targetEvent: event, controller: controller }); }; var newEntryDialog = function (event, parentGroup) { var controller = function ($scope, $mdDialog, uuid, entryTransformer) { $scope.parent = parentGroup; $scope.entry = { UUID: uuid.create() }; $scope.cancel = $mdDialog.cancel; $scope.save = function () { var kdbxEntry = entryTransformer.fromFlatEntry($scope.entry); $mdDialog.hide(kdbxEntry); }; }; return $mdDialog.show({ templateUrl: 'templates/create-entry.html', targetEvent: event, controller: controller }); }; return { newGroup: newGroupDialog, newEntry: newEntryDialog }; }); }());
var expect = require('chai').expect, sinon = require('sinon'), Backbone = require('backbone'), Bobun = require('../bobun'); describe('Bobun.Binding', function () { var modelA, modelB; beforeEach(function () { modelA = new Backbone.Model(); modelB = new Backbone.Model(); }); it('should be consistent', function () { var binding = Bobun.Binding(modelA); expect(binding).to.be.equal(Bobun.Binding(binding)); }); describe('#methods', function () { describe('#bindTo', function () { it('obj.bindTo(bindedObj, property)', function () { var spy = sinon.spy(); modelB.on('change:foo', spy); Bobun.Binding(modelA).bindTo(modelB, 'foo'); modelA.set('foo', 'bar'); expect(spy.called).to.be.true; expect(modelB.get('foo')).to.equal('bar'); }); it('obj.bindTo(bindedObj, Array attributes)', function () { var spy = sinon.spy(); modelB.on('change:foo', spy); modelB.on('change:bar', spy); Bobun.Binding(modelA).bindTo(modelB, ['foo', 'bar']); modelA.set('foo', 'bar'); modelA.set('bar', 'foo'); expect(spy.calledTwice).to.be.true; }); it('obj.bindTo(bindedObj, Object attributes)', function () { var spy = sinon.spy(); modelB.on('change:bar', spy); Bobun.Binding(modelA).bindTo(modelB, { 'foo': 'bar' }); modelA.set('foo', 'bar'); expect(spy.called).to.be.true; }); it('Bobun.Binding.bindTo(obj, bindedObj, Object attributes)', function () { var spy = sinon.spy(); modelB.on('change:bar', spy); Bobun.Binding.bindTo(modelA, modelB, { 'foo': 'bar' }); modelA.set('foo', 'bar'); expect(spy.called).to.be.true; }); }); describe('#bind', function () { it('obj.bind(bindedObj, property)', function () { var spy = sinon.spy(); modelA.on('change:foo', spy); modelB.on('change:foo', spy); Bobun.Binding(modelA).bind(modelB, 'foo'); modelA.set('foo', 'bar'); expect(spy.callCount).to.equal(2); expect(modelB.get('foo')).to.equal('bar'); modelB.set('foo', 'bar2'); expect(spy.callCount).to.equal(4); expect(modelA.get('foo')).to.equal('bar2'); }); }); }); });
require('angular/angular'); require('angular-route/angular-route'); angular.module('myapp', ['ngRoute']) .config(require('./routes'));
CKEDITOR.plugins.setLang( 'codemirror', 'nl', { toolbar: 'Broncode', searchCode: 'Zoek in broncode', autoFormat: 'Formatteer selectie', commentSelectedRange: 'Zet selectie in commentaar', uncommentSelectedRange: 'Haal selectie uit commentaar', autoCompleteToggle: 'Zet automatisch aanvullen van HTML tags aan/uit' });
(function() { var chai = require('chai'), should = chai.should(), expect = chai.expect, sinon = require('sinon'); var SmartyStreets = require('../../lib/geocoder/smartystreetsgeocoder.js'); var HttpAdapter = require('../../lib/httpadapter/httpadapter.js'); var mockedHttpAdapter = { get: function() {} }; describe('SmartyStreets', function() { describe('#constructor' , function() { it('an http adapter must be set', function() { expect(function() {new SmartyStreets();}).to.throw(Error, 'SmartyStreets need an httpAdapter'); }); it('an auth-id and auth-token must be set', function() { expect(function() {new SmartyStreets(mockedHttpAdapter);}).to.throw(Error, 'You must specify an auth-id and auth-token!'); }); it('Should be an instance of SmartyStreets', function() { var smartyStreetsAdapter = new SmartyStreets(mockedHttpAdapter, 'AUTH_ID', 'AUTH_TOKEN'); smartyStreetsAdapter.should.be.instanceof(SmartyStreets); }); }); describe('#geocode' , function() { it('Should call httpAdapter get method', function(){ var mock = sinon.mock(mockedHttpAdapter); mock.expects('get').withArgs('https: "street": "1 Infinite Loop, Cupertino, CA", "auth-id": "AUTH_ID", "auth-token": "AUTH_TOKEN", "format": "json" }).once().returns({then: function() {}}); var smartyStreetsAdapter = new SmartyStreets(mockedHttpAdapter, "AUTH_ID", "AUTH_TOKEN"); smartyStreetsAdapter.geocode("1 Infinite Loop, Cupertino, CA"); mock.verify(); }); }); describe('#reverse' , function() { it('Should throw expection', function() { var smartyStreetsAdapter = new SmartyStreets(mockedHttpAdapter, 'AUTH_ID', 'AUTH_TOKEN'); expect(function() { smartyStreetsAdapter.reverse(10.0235,-2.3662); }).to.throw(Error, 'SmartyStreets doesnt support reverse geocoding!'); }); }); }); })();
mySettings = { nameSpace: "dotclear", previewParserPath: '', onShiftEnter: {keepDefault:false, replaceWith:'%%%\n'}, onCtrlEnter: {keepDefault:false, replaceWith:'\n\n'}, markupSet: [ {name:'Heading 1', key:'1', openWith:'!!!!!', placeHolder:'Your title here...' }, {name:'Heading 2', key:'2', openWith:'!!!!', placeHolder:'Your title here...' }, {name:'Heading 3', key:'3', openWith:'!!!', placeHolder:'Your title here...' }, {name:'Heading 4', key:'4', openWith:'!!', placeHolder:'Your title here...' }, {name:'Heading 5', key:'5', openWith:'!', placeHolder:'Your title here...' }, {separator:'---------------' }, {name:'Bold', key:'B', openWith:'__', closeWith:'__'}, {name:'Italic', key:'I', openWith:"''", closeWith:"''"}, {name:'Stroke through', key:'S', openWith:'--', closeWith:'--'}, {separator:'---------------' }, {name:'Bulleted list', openWith:'(!(* |!|*)!)'}, {name:'Numeric list', openWith:'(!(# |!|#)!)'}, {separator:'---------------' }, {name:'Picture', key:"P", replaceWith:'(([![Url:!:http: {name:'Link', key:"L", openWith:"[", closeWith:'|[![Url:!:http: {separator:'---------------' }, {name:'Quotes', openWith:'{{', closeWith:'}}'}, {name:'Code', openWith:'@@', closeWith:'@@'}, {separator:'---------------' }, {name:'Preview', call:'preview', className:'preview'} ] }
jQuery(function($) { $.datepicker.regional['az'] = { closeText: 'Bağla', prevText: '&#x3c;Geri', nextText: 'İrəli&#x3e;', currentText: 'Bugün', monthNames: ['Yanvar','Fevral','Mart','Aprel','May','İyun', 'İyul','Avqust','Sentyabr','Oktyabr','Noyabr','Dekabr'], monthNamesShort: ['Yan','Fev','Mar','Apr','May','İyun', 'İyul','Avq','Sen','Okt','Noy','Dek'], dayNames: ['Bazar','Bazar ertəsi','Çərşənbə axşamı','Çərşənbə','Cümə axşamı','Cümə','Şənbə'], dayNamesShort: ['B','Be','Ça','Ç','Ca','C','Ş'], dayNamesMin: ['B','B','Ç','С','Ç','C','Ş'], weekHeader: 'Hf', dateFormat: 'dd.mm.yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['az']); });
(function($) { if ($.jQTouch) { $.jQTouch.addExtension(function Offline() { var cacheStatusValues = []; cacheStatusValues[0] = 'uncached'; cacheStatusValues[1] = 'idle'; cacheStatusValues[2] = 'checking'; cacheStatusValues[3] = 'downloading'; cacheStatusValues[4] = 'updateready'; cacheStatusValues[5] = 'obsolete'; var cache = window.applicationCache; cache.addEventListener('cached', logEvent, false); cache.addEventListener('checking', logEvent, false); cache.addEventListener('downloading', logEvent, false); cache.addEventListener('error', logEvent, false); cache.addEventListener('noupdate', logEvent, false); cache.addEventListener('obsolete', logEvent, false); cache.addEventListener('progress', logEvent, false); cache.addEventListener('updateready', logEvent, false); function logEvent(e) { var online, status, type, message; online = (isOnline()) ? 'yes' : 'no'; status = cacheStatusValues[cache.status]; type = e.type; message = 'online: ' + online; message += ', event: ' + type; message += ', status: ' + status; if (type == 'error' && navigator.onLine) { message += ' There was an unknown error, check your Cache Manifest.'; } console.log(message); } function isOnline() { return navigator.onLine; } if (!$('html').prop('manifest')) { console.log('No Cache Manifest listed on the <html> tag.') } cache.addEventListener('updateready', function(e) { if (cacheStatusValues[cache.status] != 'idle') { cache.swapCache(); console.log('Swapped/updated the Cache Manifest.'); } } , false); function checkForUpdates() { cache.update(); } function autoCheckForUpdates() { setInterval(function() { cache.update() }, 10000); } return { isOnline: isOnline, checkForUpdates: checkForUpdates, autoCheckForUpdates: autoCheckForUpdates } }); } })(jQuery);
CubicVR.RegisterModule("CollisionMap",function(base) { var undef = base.undef; var util = base.util; var vec3 = base.vec3; var enums = base.enums; enums.collision = { shape: { BOX: 0, SPHERE: 1, CYLINDER: 2, CONE: 3, CAPSULE: 4, MESH: 5, HEIGHTFIELD: 6, CONVEX_HULL: 7 } }; var CollisionMap = function(cmap_objs) { this.shapes = []; this.result = null; if (cmap_objs) { if (cmap_objs && !cmap_objs.length) { cmap_objs = [cmap_objs]; } for (var i = 0, iMax = cmap_objs.length; i<iMax; i++) { this.addShape(cmap_objs[i]); } } }; CollisionMap.prototype = { addShape: function(shape_in) { shape_in.type = base.parseEnum(enums.collision.shape,shape_in.type); shape_in.position = shape_in.position||[0,0,0]; shape_in.rotation = shape_in.rotation||[0,0,0]; shape_in.size = shape_in.size||[1,1,1]; shape_in.radius = shape_in.radius||1; shape_in.height = shape_in.height||1; shape_in.margin = shape_in.margin||0.0; shape_in.mesh = shape_in.mesh||null; this.shapes.push(shape_in); }, getShapes: function() { return this.shapes; }, setResult: function(shape) { this.result = shape; }, getResult: function() { return this.result; } }; var extend = { CollisionMap: CollisionMap }; return extend; });
var Client = new require('../../../../lib/pkgcloud/core/base/client').Client; var helpers = require('../../../helpers'); var client = helpers.createClient('azure', 'compute'); var options = {}; client.getImage('SUSE__SUSE-Linux-Enterprise-Server-11SP2-20120601-en-us-30GB.vhd', function(err, result) { if(err) { console.log(err); } else { console.dir(result); } });
var _curry2 = require('./internal/_curry2'); var _dispatchable = require('./internal/_dispatchable'); var _map = require('./internal/_map'); var _xmap = require('./internal/_xmap'); module.exports = _curry2(_dispatchable('map', _xmap, _map));
var _ = require('underscore'); describe('count', function() { var testName = 'count test'; var origUsers = []; _.each(_.range(10), function(i) { origUsers.push({ name: testName + '_user' + i, type: testName }); }); it ('prepares tests',function(cb) { User.createEach(origUsers, cb); }); it('normal usage should not break', function(cb) { User.count({ type: testName }, cb); }); it('dynamic finder usage should not break', function(cb) { User.countByType(testName, cb); }); it('it should effectively count the number of things', function(cb) { User.countByType(testName, function(err, count) { if(err) throw new Error(err); else if(!count) throw new Error('Unexpected result: ' + count); else if(count !== origUsers.length) throw new Error('Improper # of users returned (' + count + ')'); else cb(); }); }); });
var _concat = require('./internal/_concat'); var _curry2 = require('./internal/_curry2'); var compose = require('./compose'); var uniq = require('./uniq'); module.exports = _curry2(compose(uniq, _concat));
var utile = require('utile'), base = require('../../core/compute/image'); var Image = exports.Image = function Image(client, details) { base.Image.call(this, client, details); }; utile.inherits(Image, base.Image); Image.prototype._setProperties = function (details) { this.id = details.imageId; this.name = details.name || details.imageLocation.split('/')[1]; this.created = new Date(0); this.details = this.amazon = details; };
var TT = TT || {}; TT.Dialog = (function () { var pub = {}; pub.open = function (content, options) { pub.close(function () { $('body').addClass('has-modal-dialog'); var html = TT.View.render('modalDialog', { content: content }); var element = TT.View.attach(html, 'body'); if (options && options.fullscreen) { $('.modal-dialog').addClass('modal-dialog-fullscreen').find('.container').css({ width: $(window).width() - 100, minHeight: $(window).height() - 100 }); } }); }; pub.close = function (callback) { $('body').removeClass('has-modal-dialog'); $('.modal-dialog, .modal-dialog-overlay').remove(); if (TT.Utils.isFunction(callback)) { callback(); } return false; }; return pub; }());
describe("common/args", function() { var common = {args: require('common/args')}, argParser = new common.args.ArgParser(), ourOptions; function trueFalse(v) { var r = false; if (v) { if (v === 'true') { r = true; } else if (v === 'false') { r = false; } else { v = !!r; } } return r; } argParser.addOption('s', 'strict', true, 'Throw error on invalid input.', false, trueFalse); argParser.addOption('n', 'name', true, 'The name of the project.', false); ourOptions = argParser.parse(['-s', 'true', '-n', 'true']); it('should corece a true value if a coercer is provided', function() { expect(ourOptions.strict).toBeDefined(); expect(ourOptions.strict).toEqual(true); }); it('should corece a string value if a no coercer is provided', function() { expect(ourOptions.name).toBeDefined(); expect(ourOptions.name).toEqual('true'); }); });
(function( $ ) { $.extend( $.fn.vise.fn, { _center: function( e, vise ) { var difference = vise.element.height() - vise.height; difference = difference > 0 ? difference : 0; vise.clamp.css( 'marginTop', difference / 2 ); }, center: function() { this.on( 'resize', this._center ); this.trigger('resize'); }, uncenter: function() { this.clamp.css( 'marginTop', 0 ); this.off( 'resize', this._center ); } }); }( jQuery ));
(function($, undefined) { $.widget("mobile.widget", { _getCreateOptions: function() { var elem = this.element, options = {}; $.each(this.options, function(option) { var value = elem.jqmData(option.replace(/[A-Z]/g, function(c) { return "-" + c.toLowerCase(); }) ); if (value !== undefined) { options[ option ] = value; } }); return options; } }); })(jQuery);
var express = require('express'), bodyParser = require('body-parser'), session = require('express-session'), reload = require('./modules/reload'), path = require('path'), app = express(), environment = app.get('env'), serverConfig = require('./system/config.js')(environment), routeConfig = require('./cfg/routes.json'), mvc = require('./system'); serverConfig.session.resave = serverConfig.session.resave || false; serverConfig.session.saveUninitialized = serverConfig.session.saveUninitialized || false; app.use(session(serverConfig.session)); app.use(bodyParser.urlencoded({ extended: false })); app.use(bodyParser.json()); app.use(express.static(path.join(__dirname, '/public'))); app.use(function(err, req, res, next){ console.error(err.stack); res.status(500).send('Something broke!'); }); mvc(app, { routeConfig: routeConfig, throwUnmappedActions: true, verbose: true }); var server = app.listen(serverConfig.port, function () { var info = server.address(), address = info.address; if(address == "::") { address = "localhost"; } console.log(''); console.log('Miso is listening at http: console.log(''); if(environment !== 'production') { reload(server, app); } });
var assert = require("chai").assert; var crossbow = require("../../index"); describe("Workign with Types", function() { it("Can determine a `post type` using the filepath & base", function(done) { var type = crossbow.builder({ config: { base: "src" } }).getType("src/_posts/test.md"); assert.equal(type, "post"); done(); }); it("Can determine a `post type` using the filepath & base", function(done) { var type = crossbow.builder({ config: { base: "src", dirs: { "type:post": "_blog" } } }).getType("src/_blog/test.md"); assert.equal(type, "post"); done(); }); it("Can determine a `partial type` when type:type syntax not being used", function(done) { var type = crossbow.builder().getType("_layouts/test.hbs"); assert.equal(type, "partial"); done(); }); it("Can determine a `page type` file has MD extension", function(done) { var type = crossbow.builder({config: {base: "src"}}).getType("src/docs/test.md"); assert.equal(type, "page"); done(); }); });
﻿ CKEDITOR.plugins.setLang( 'quicktable', 'cy', { more: 'Mwy...' } );
var packageTemplate = function(...overrides) { return JSON.stringify(Object.assign({ name: 'pui-react-COMPONENT', version: '0.0.1', description: '', main: 'COMPONENT.js', repository: { type: 'git', url: 'https: }, keywords: [ 'bootstrap', 'react', 'pivotal ui', 'pivotal ui modularized' ], author: 'Pivotal Software, Inc', license: 'MIT', bugs: { url: "https: }, homepage: "https: }, ...overrides), null, 2); }; module.exports = packageTemplate;
module.exports = angular.module('splash', []) .config(function($stateProvider) { $stateProvider .state('splash', { url: '/', controller: ['$scope', function ($scope) { }], template: require('./index.html') }) });
$(function(){ Iframework.NativeNodes["util-stats"] = Iframework.NativeNodes["util"].extend({ info: { title: "stats", description: "fps and memory stats from mr.doob" }, initializeModule: function(){ var self = this; if (window.Stats) { if (!this._stats) { this._stats = new Stats(); this.$el.append(this._stats.domElement); this._interval = window.setInterval(function(){ self._stats.update(); }, 1000/60); } } else { yepnope({ load: "libs/Stats.js", complete: function () { self.initializeModule(); } }); } } }); });
module.exports = { 'debug': ['tmp'], 'dist': ['tmp', 'dist'], 'tmp' : ['.tmp'] };
angular.module('SampleWizardApp', ['rcWizard', 'rcForm', 'rcDisabledBootstrap']);
module.exports = { getMeta: function(meta) { if (!meta.music) { return; } return { duration: meta.music.duration }; } };
'use strict'; module.exports = function(data, plugins) { plugins.forEach(function(group) { switch(group[0].type) { case 'perItem': data = perItem(data, group); break; case 'perItemReverse': data = perItem(data, group, true); break; case 'full': data = full(data, group); break; } }); return data; }; function perItem(data, plugins, reverse) { function monkeys(items) { items.content = items.content.filter(function(item) { if (reverse && item.content && item.elem != 'foreignObject') { monkeys(item); } var filter = true; for (var i = 0; filter && i < plugins.length; i++) { var plugin = plugins[i]; if (plugin.active && plugin.fn(item, plugin.params) === false) { filter = false; } } if (!reverse && item.content && item.elem != 'foreignObject') { monkeys(item); } return filter; }); return items; } return monkeys(data); } function full(data, plugins) { plugins.forEach(function(plugin) { if (plugin.active) { data = plugin.fn(data, plugin.params); } }); return data; }
export default Ember.View.extend({ affixNav: function () { Ember.run.later(function () { this.$('[data-spy=affix]').affix(); }.bind(this), 10); }, didInsertElement: function () { this.get('controller').addObserver('isEditing', this, this.affixNav); this.affixNav(); }, willDestroyElement: function () { this.get('controller').removeObserver('isEditing', this, this.affixNav); } });
angular.module('ngForce').factory('encodeUriQuery', function () { function sortedKeys(obj) { var keys = []; for (var key in obj) { if (obj.hasOwnProperty(key)) { keys.push(key); } } return keys.sort(); } function forEachSorted(obj, iterator, context) { var keys = sortedKeys(obj); for (var i = 0; i < keys.length; i++) { iterator.call(context, obj[keys[i]], keys[i]); } return keys; } function encodeUriQuery(val, pctEncodeSpaces) { return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, pctEncodeSpaces ? '%20' : '+'); } return encodeUriQuery; });
function WalkontableCornerOverlay(instance) { this.instance = instance; this.type = 'corner'; this.init(); this.clone = this.makeClone('corner'); } WalkontableCornerOverlay.prototype = new WalkontableOverlay(); WalkontableCornerOverlay.prototype.resetFixedPosition = function () { if (!this.instance.wtTable.holder.parentNode) { return; } var elem = this.clone.wtTable.holder.parentNode, finalLeft, finalTop; if (this.trimmingContainer === window) { var box = this.instance.wtTable.hider.getBoundingClientRect(); var top = Math.ceil(box.top); var left = Math.ceil(box.left); var bottom = Math.ceil(box.bottom); var right = Math.ceil(box.right); if (left < 0 && (right - elem.offsetWidth) > 0) { finalLeft = -left + 'px'; } else { finalLeft = '0'; } if (top < 0 && (bottom - elem.offsetHeight) > 0) { finalTop = -top + "px"; } else { finalTop = "0"; } Handsontable.Dom.setOverlayPosition(elem, finalLeft, finalTop); } var tableHeight = Handsontable.Dom.outerHeight(this.clone.wtTable.TABLE); var tableWidth = Handsontable.Dom.outerWidth(this.clone.wtTable.TABLE); elem.style.height = (tableHeight === 0 ? tableHeight : tableHeight + 4) + 'px'; elem.style.width = (tableWidth === 0 ? tableWidth : tableWidth + 4) + 'px'; };
"use strict"; var WaveformData = require("../../../waveform-data.js"); var constructor = WaveformData.adapters.object; var getJSONFakeData = require("../../fixtures").json; var expect = require("chai").expect; describe("WaveformData Object Adapter", function(){ var instance; it("should have the `fromResponseData` static property.", function(){ expect(constructor.fromResponseData).to.be.a('function'); }); it("should return a WaveformDataAdapter instance from `fromResponseData` factory.", function(){ var fakeData = getJSONFakeData(); expect(constructor.fromResponseData(fakeData)).to.be.an('object'); expect(constructor.fromResponseData(JSON.stringify(fakeData))).to.be.an('object'); }); beforeEach(function(){ instance = constructor.fromResponseData(getJSONFakeData()); }); it("should return a supported version number (1 so far).", function(){ expect(instance.version).to.equal(1); }); it("should contain 8 bits data only (16 is not properly handled yet).", function(){ expect(instance.is_8_bit).to.be.true; expect(instance.is_16_bit).to.be.false; }); it("should provide the expected sample rate.", function(){ expect(instance.sample_rate).to.equal(48000); }); it("should provide the expected scale (samples per pixel).", function(){ expect(instance.scale).to.equal(512); }); it("should return the expected samples length (not the length of the data object)", function(){ expect(instance.length).to.equal(10); expect(instance.data.data).to.have.length.of(20); }); it("should return the proper data index value.", function(){ expect(instance.at(0)).to.equal(0); expect(instance.at(8)).to.equal(-5); expect(instance.at(9)).to.equal(7); expect(instance.at(10)).to.equal(0); expect(instance.at(19)).to.equal(2); expect(isNaN(instance.at(20))).to.be.true; }); });
$(function(){ var template = '<div class="slider" style="position:absolute; top:15px;right:15px;left:15px;"></div>'+ '<div class="info" style="position:absolute; top:45px;left:15px" />'; Iframework.NativeNodes["ui-hslider"] = Iframework.NativeNodes["ui"].extend({ template: _.template(template), info: { title: "hslider", description: "horizontal slider" }, events: { "slide .slider": "slide" }, initializeModule: function(){ if (this._value === undefined) { this._value = 0; } if (this._min === undefined) { this._min = 0; } if (this._max === undefined) { this._max = 1; } if (this._step === undefined) { this._step = 0; } this.$(".slider") .slider({ value: this._value, min: this._min, max: this._max, step: this._step === 0 ? 0.001 : this._step }); this.$el.css({ overflow: "hidden" }); }, slide: function (event, ui) { this.setValue(ui.value); this.inputsend(); }, inputvalue: function(val){ this.setValue(val); this.$(".slider").slider({ value: val }); this.inputsend(); }, setValue: function(val){ this._value = val; this.$(".info").text(this._value); }, inputsend: function(){ this.send("value", this._value); }, redraw: function(){ this.initializeModule(); }, inputs: { value: { type: "float", description: "manual input value; sets default", "default": 0 }, min: { type: "float", description: "slider jumps values", "default": 0 }, max: { type: "float", "default": 1 }, step: { type: "float", description: "slider jumps by this amount", "default": 0 }, send: { type: "bang", description: "send current value" } }, outputs: { value: { type: "float" } } }); });
define(['backbone', 'model/file'], function (Backbone, FileModel) { return Backbone.Collection.extend({ model : FileModel, url : 'files', initialize : function () { 'use strict'; this.on('remove', function (element) { element.destroy(); }); } }); });
buster.spec.expose(); describe("IAS", function () { before(function() { this.timeout = 10000; window.scrollTo(0, 0); jQuery.ias({ container : '.listing', item: '.post', pagination: '.navigation', next: '.next-posts a' }); }); after(function() { jQuery.ias('destroy'); }); it("should call initialize on extension when loading extension", function() { var deferred = when.defer(); var spy1 = this.spy(); var anExtension = function() {}; anExtension.prototype.bind = function(ias) { }; anExtension.prototype.initialize = function(ias) { spy1.call(); }; jQuery.ias().extension(new anExtension()); expect(spy1).toHaveBeenCalledOnce(); deferred.resolve(); return deferred.promise; }); it("should call bind on extension when initializing", function() { var deferred = when.defer(); var spy1 = this.spy(); var anExtension = function() {}; anExtension.prototype.bind = function(ias) { spy1.call(); }; jQuery.ias().extension(new anExtension()); expect(spy1).toHaveBeenCalledOnce(); deferred.resolve(); return deferred.promise; }); it("extension can add listeners", function() { var anExtension = function() { this.listeners = { test: new IASCallbacks() }; }; anExtension.prototype.bind = function(ias) { }; anExtension.prototype.initialize = function(ias) { jQuery.extend(ias.listeners, this.listeners); }; expect( function () { jQuery.ias().on('test', function () { }); } ).toThrow('Error', 'There is no event called "test"'); jQuery.ias().extension(new anExtension()); jQuery.ias().on('test', function() {}); jQuery.ias().on('scroll', function() {}); }); });
{bad: toTheBone}
$(function () { $('[data-toggle="offcanvas"]').click(function () { $('.row-offcanvas').toggleClass('active') }); });
'use strict'; function Gravity(acceleration, terminate) { this._acceleration = acceleration; this._terminate = terminate; this._x = 0; this._v = 0; this._a = acceleration; this._startTime = 0; } Gravity.prototype.set = function(x, v) { this._x = x; this._v = v; this._startTime = (new Date()).getTime(); } Gravity.prototype.x = function(dt) { var t = (new Date()).getTime(); if (dt == undefined) dt = (t - this._startTime) / 1000.0; return this._x + this._v * dt + 0.5 * this._a * dt * dt; } Gravity.prototype.dx = function() { var t = (new Date()).getTime(); var dt = (t - this._startTime) / 1000.0; return this._v + dt * this._a; } Gravity.prototype.done = function() { return Math.abs(this.x()) > this._terminate; } Gravity.prototype.reconfigure = function(a) { this.set(this.x(), this.dx()); this._a = a; } Gravity.prototype.configuration = function() { var self = this; return [ { label: 'Acceleration', read: function() { return self._a; }, write: this.reconfigure.bind(this), min: -3000, max: 3000 } ]; } module.exports = Gravity;
export default Ember.Component.extend({ elementId: 'disqus_thread', didInsertElement: function () { window.disqus_shortname = this.get('shortname'); window.disqus_identifier = this.get('identifier'); var src = 'http: if (!Ember.$('script[src="' + src + '"]').length) { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = src; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); } else { window.DISQUS.reset({ reload: true }); } } });
var nogl_state = false; exports.init = function(engine) { if(nogl_state) { document.getElementById('noGLPane').style.display = 'block'; } else { document.getElementById('errorPane').style.display = 'block'; } } exports.deinit = function(engine) { document.getElementById('errorPane').style.display = 'none'; document.getElementById('noGLPane').style.display = 'none'; } exports.postError = function(msg) { if(typeof(msg) != "string") { try { if(msg instanceof Error) { msg = "Error: " + msg.message + " at " + msg.stack; } else { msg = JSON.stringify(msg); } } catch(err) { msg = '' + msg; } } if(msg.search(/webgl/i) >= 0) { nogl_state = true; document.getElementById('errorPane').style.display = 'none'; document.getElementById('noGLPane').style.display = 'block'; document.getElementById('videoItem').innerHTML = '<iframe width="560" height="345" src="http: } else { msg = msg.replace(/\&/g, '&amp;') .replace(/\</g, '&lt;') .replace(/\>/g, '&gt;') .replace(/\n/g, '<br/>') .replace(/\s/g, '&nbsp;'); document.getElementById('errorReason').innerHTML += '<p>' + msg + '</p>'; } }
(function($){})(window.jQuery); $(document).ready(function (){ });
describe('Trigger feature', function(){ var scope, element; beforeEach(module('fx.animations.assist')); it('should return a new animation instance', function(){ inject(function($rootScope, $compile, Assist){ element = $compile('<div class="fx-trigger">trigger</div>')($rootScope); $rootScope.$digest(); spyOn($rootScope, '$broadcast'); Assist.emit(element, 'fade-normal', 'enter'); check($rootScope.$broadcast).toHaveBeenCalledWith('fade-normal:enter'); }); }); });
var assert = require('assert'); var R = require('..'); describe('evolve', function() { it('creates a new object by evolving the `object` according to the `transformation` functions', function() { var transf = {elapsed: R.add(1), remaining: R.add(-1)}; var object = {name: 'Tomato', elapsed: 100, remaining: 1400}; var expected = {name: 'Tomato', elapsed: 101, remaining: 1399}; assert.deepEqual(R.evolve(transf, object), expected); }); it('invokes function with undefined if object does not contain the key', function() { var transf = {wow: String}; var object = {}; var expected = {wow: 'undefined'}; assert.deepEqual(R.evolve(transf, object), expected); }); it('is not destructive', function() { var transf = {elapsed: R.add(1), remaining: R.add(-1)}; var object = {name: 'Tomato', elapsed: 100, remaining: 1400}; R.evolve(transf, object); assert.deepEqual(object, {name: 'Tomato', elapsed: 100, remaining: 1400}); }); it('is curried', function() { var tick = R.evolve({elapsed: R.add(1), remaining: R.add(-1)}); var object = {name: 'Tomato', elapsed: 100, remaining: 1400}; var expected = {name: 'Tomato', elapsed: 101, remaining: 1399}; assert.deepEqual(tick(object), expected); }); });
'use strict'; describe('login-form', function() { });
﻿ var NamingConvention = (function () { var ctor = function(config) { assertConfig(config || {}) .whereParam("name").isOptional().isString() .whereParam("serverPropertyNameToClient").isFunction() .whereParam("clientPropertyNameToServer").isFunction() .applyAll(this); if (!this.name) { this.name = __getUuid(); } __config._storeObject(this, proto._$typeName, this.name); }; var proto = ctor.prototype; proto._$typeName = "NamingConvention"; ctor.none = new ctor({ name: "noChange", serverPropertyNameToClient: function(serverPropertyName) { return serverPropertyName; }, clientPropertyNameToServer: function(clientPropertyName) { return clientPropertyName; } }); ctor.camelCase = new ctor({ name: "camelCase", serverPropertyNameToClient: function (serverPropertyName) { return serverPropertyName.substr(0, 1).toLowerCase() + serverPropertyName.substr(1); }, clientPropertyNameToServer: function (clientPropertyName) { return clientPropertyName.substr(0, 1).toUpperCase() + clientPropertyName.substr(1); } }); ctor.defaultInstance = new ctor(ctor.none); proto.setAsDefault = function () { return __setAsDefault(this, ctor); }; return ctor; })(); breeze.NamingConvention = NamingConvention;
define('crm/Fields/MultiCurrencyField', [ 'dojo/_base/declare', 'dojo/_base/lang', 'argos/Fields/DecimalField', 'argos/FieldManager' ], function( declare, lang, DecimalField, FieldManager ) { var control = declare('crm.Fields.MultiCurrencyField', [DecimalField], { attributeMap: { inputValue: { node: 'inputNode', type: 'attribute', attribute: 'value' }, currencyCode: { node: 'currencyCodeNode', type: 'innerHTML' } }, widgetTemplate: new Simplate([ '<label for="{%= $.name %}">{%: $.label %}</label>', '{% if ($.enableClearButton && !$.readonly) { %}', '<button class="clear-button" data-dojo-attach-point="clearNode" data-dojo-attach-event="onclick:_onClearClick"></button>', '{% } %}', '<span data-dojo-attach-point="currencyCodeNode" class="currency-code-editlabel">{%: $.currencyCode %}</span>', '<input data-dojo-attach-point="inputNode" data-dojo-attach-event="onkeyup: _onKeyUp, onblur: _onBlur, onfocus: _onFocus" class="text-input" type="{%: $.inputType %}" name="{%= $.name %}" {% if ($.readonly) { %} readonly {% } %}>' ]), currencyCode: '', setCurrencyCode: function(code) { this.set('currencyCode', code); } }); lang.setObject('Mobile.SalesLogix.Fields.MultiCurrencyField', control); return FieldManager.register('multiCurrency', control); });
describe('At least one validation', function () { var elem1, elem2, elem3; beforeEach(function () { browser.get('demo/index.html'); elem1 = element(by.model('demo.atleastone1')); elem2 = element(by.model('demo.atleastone2')); elem3 = element(by.model('demo.atleastone3')); }); it('should allow first field to be filled in', function () { elem1.sendKeys('something'); expect(elem1.getAttribute('class')).not.toMatch('ng-invalid'); expect(elem2.getAttribute('class')).not.toMatch('ng-invalid'); expect(elem3.getAttribute('class')).not.toMatch('ng-invalid'); }); it('should allow second field to be filled in', function () { elem2.sendKeys('something'); expect(elem1.getAttribute('class')).not.toMatch('ng-invalid'); expect(elem2.getAttribute('class')).not.toMatch('ng-invalid'); expect(elem3.getAttribute('class')).not.toMatch('ng-invalid'); }); it('should allow third field to be filled in', function () { elem3.sendKeys('something'); expect(elem1.getAttribute('class')).not.toMatch('ng-invalid'); expect(elem2.getAttribute('class')).not.toMatch('ng-invalid'); expect(elem3.getAttribute('class')).not.toMatch('ng-invalid'); }); it('should set invalid when none of the fields are filled in', function () { expect(elem1.getAttribute('class')).toMatch('ng-invalid'); expect(elem2.getAttribute('class')).toMatch('ng-invalid'); expect(elem3.getAttribute('class')).toMatch('ng-invalid'); }); });
var assert = require('assert'), fs = require('fs'), path = require('path'), request = require('request'), resourceful = require('ecstatic'), vows = require('vows'); var appDir = path.join(__dirname, '..', '..', 'examples', 'ecstatic-app'), app = require(path.join(appDir, 'app')); vows.describe('flatiron/plugins/ecstatic').addBatch({ "A flatiron app using `flatiron.plugins.ecstatic": { topic: app, "should extend the app correctly": function (app) { assert.isString(app._ecstaticDir); assert.isFunction(app.static); assert.isFunction(app.http.before[0]); assert.equal(app.http.before[0].length, 3); }, "when the application is running": { topic: function () { app.start(8080, this.callback) }, "a GET to /": { topic: function () { request('http: }, "should respond with JSON headers": function (err, res, body) { assert.isNull(err); assert.equal(res.statusCode, 200); assert.isObject(JSON.parse(body)); } }, "a GET to /style.css": { topic: function () { request('http: }, "should respond with JSON headers": function (err, res, body) { assert.isNull(err); assert.equal(res.statusCode, 200); assert.equal( fs.readFileSync(path.join(appDir, 'app', 'assets', 'style.css'), 'utf8'), body ); } } } } }).export(module);
var APPROVED_API_KEY = process.env.APPROVED_API_KEY || ''; if (!APPROVED_API_KEY) { sails.log.warn('APPROVED_API_KEY env variable not found, api key will not be required.'); } else { sails.log('APPROVED_API_KEY env variable found, api key will be required for create, update, delete.'); } function checkAuthorizationKey(req, cb) { if (!APPROVED_API_KEY) { return cb(true, 'skipping checkAuthorizationKey.'); } var keyRequired = isKeyRequired(req); m = req.url.match(new RegExp('/(\\w{'+ APPROVED_API_KEY.length +'})\\b', 'g')); if (!m) { if (keyRequired) { return cb(false, 'Need key, none found.'); } else { return cb(true, 'Valid key not required, none found'); } } for (var ii=0; ii<m.length; ii++) { if (m[ii] === '/'+ APPROVED_API_KEY) { req.url = req.url.replace(m[ii],''); return cb(true, 'Found and removed valid key: '+ m[ii]); } } if (keyRequired) { return cb(false, 'No valid keys found.'); } else { return cb(true, 'Valid key not required, none found'); } } function isKeyRequired(req) { var doNotRequireKey = [ '', 'user' ]; var m = req.path.match(/^\/([^\/]*)\/?$/i); if (req.method === 'GET' && m) { if (doNotRequireKey.indexOf(m[1]) > -1) { return false; } } return true } function expressMiddleware(req, res, next) { sails.log.verbose('expressMiddleware before checkAuthorizationKey, req.url: '+ req.url); checkAuthorizationKey(req, function(isAuthorized, msg){ if (!isAuthorized) { sails.log('checkAuthorizationKey returning 401: isAuthorized='+ isAuthorized +': '+ msg); return res.json({msg:msg}, 401); } sails.log.verbose('expressMiddleware after checkAuthorizationKey, req.url: '+ req.url); next(); }); }; module.exports.checkAuthorizationKey = checkAuthorizationKey; module.exports.expressMiddleware = expressMiddleware;
'use strict'; exports.assign = function (tokenizer) { var tokenizerProto = Object.getPrototypeOf(tokenizer); tokenizer.tokenStartLoc = -1; tokenizer._attachLocationInfo = function (token) { token.location = { start: this.tokenStartLoc, end: -1 }; }; tokenizer._createStartTagToken = function (tagNameFirstCh) { tokenizerProto._createStartTagToken.call(this, tagNameFirstCh); this._attachLocationInfo(this.currentToken); }; tokenizer._createEndTagToken = function (tagNameFirstCh) { tokenizerProto._createEndTagToken.call(this, tagNameFirstCh); this._attachLocationInfo(this.currentToken); }; tokenizer._createCommentToken = function () { tokenizerProto._createCommentToken.call(this); this._attachLocationInfo(this.currentToken); }; tokenizer._createDoctypeToken = function (doctypeNameFirstCh) { tokenizerProto._createDoctypeToken.call(this, doctypeNameFirstCh); this._attachLocationInfo(this.currentToken); }; tokenizer._createCharacterToken = function (type, ch) { tokenizerProto._createCharacterToken.call(this, type, ch); this._attachLocationInfo(this.currentCharacterToken); }; tokenizer._emitCurrentToken = function () { if (this.currentCharacterToken) this.currentCharacterToken.location.end = this.currentToken.location.start; this.currentToken.location.end = this.preprocessor.pos + 1; tokenizerProto._emitCurrentToken.call(this); }; tokenizer._emitCurrentCharacterToken = function () { if (this.currentCharacterToken && this.currentCharacterToken.location.end === -1) { this.currentCharacterToken.location.end = this.preprocessor.pos; } tokenizerProto._emitCurrentCharacterToken.call(this); }; Object.keys(tokenizerProto.MODE) .map(function (modeName) { return tokenizerProto.MODE[modeName]; }) .forEach(function (state) { tokenizer[state] = function (cp) { this.tokenStartLoc = this.preprocessor.pos; tokenizerProto[state].call(this, cp); }; }); };
define([ 'dojo/_base/declare', 'dijit/_WidgetBase', 'dijit/_TemplatedMixin', 'dijit/_Contained', './_Control', './../plugins/legendUtil' ], function ( declare, _WidgetBase, _TemplatedMixin, _Contained, _Control, legendUtil ) { var ImageControl = declare([_WidgetBase, _TemplatedMixin, _Contained, _Control], { _layerType: 'overlay', _esriLayerType: 'image', _layerTypeInit: function () { if (legendUtil.isLegend(this.controlOptions.noLegend, this.controller.noLegend)) { this._expandClick(); legendUtil.layerLegend(this.layer, this.expandNode); } else { this._expandRemove(); } } }); return ImageControl; });
'use strict'; var generator = require('./generator.model'); exports.register = function(socket) { generator.schema.post('save', function (doc) { onSave(socket, doc); }); generator.schema.post('remove', function (doc) { onRemove(socket, doc); }); } function onSave(socket, doc, cb) { socket.emit('generators:save', doc); } function onRemove(socket, doc, cb) { socket.emit('generators:remove', doc); }
var MAX_DUMP_DEPTH = 1; function dump_obj_r (obj, name, indent, depth) { if (depth > MAX_DUMP_DEPTH) { return indent + name + ": <Maximum Depth Reached>\n"; } if (typeof obj == "object") { var child = null; var output = indent + name + "\n"; indent += "\t"; for (var item in obj) { try { child = obj[item]; } catch (e) { child = "<Unable to Evaluate>"; } if (typeof child == "object") { output += dump_obj_r(child, item, indent, depth + 1); } else { output += indent + item + ": " + child + "\n"; } } return output; } else { return obj; } } function dump_obj (obj, name) { if (typeof obj == "object") { var child = null; var output = name + "\n"; for (var item in obj) { try { child = obj[item]; } catch (e) { child = "<Unable to Evaluate>"; } output += item + ": " + child + "\n"; } return output; } else { return obj; } } function get_interface_info (o) { var output = ""; for (let x in Ci) { try { o.QueryInterface(Ci[x]); output += x + "\n"; } catch (e) { try { o.QueryInterface(Ci.nsIInterfaceRequestor).getInterface(Ci[x]); output += x + " (getInterface)\n"; } catch (e2) { } } } return output; } const DEBUG_HERE = "function (__DEBUG_HERE) { return eval(__DEBUG_HERE); }"; let (console = Cc["@mozilla.org/consoleservice;1"] .getService(Ci.nsIConsoleService)) { console.registerListener({ observe: function (msg) { if (msg instanceof Ci.nsIScriptError) { switch (msg.category) { case "CSS Parser": case "content javascript": return; } msg.QueryInterface(Ci.nsIScriptError); dumpln("Console error: " + msg.message); dumpln(" Category: " + msg.category); } }}); } provide("debug");
'use strict'; todomvc.factory('todoStorage', function () { var STORAGE_ID = 'todos-angularjs'; return { get: function () { var deferred = $.Deferred(); hoodie.store.findOrAdd('todo', STORAGE_ID, {values: [] }) .then(function(loaded) { deferred.resolve(loaded.values); }) return deferred.promise(); }, put: function (todos) { hoodie.store.update('todo', STORAGE_ID, {values: todos }) } }; });
var canvas = document.getElementById('canvas'); var context = canvas.getContext('2d'); var plane = new Plane(100,20,'#333399',1); plane.x = 40; plane.y = 160; plane.draw(context,true);
require('longjohn'); if ( ! process.env.RABBITMQ_URL) throw new Error('Tests require a RABBITMQ_URL environment variable to be set, pointing to the RabbiqMQ instance you wish to use. Example url: "amqp: var busUrl = process.env.RABBITMQ_URL; var bus = require('../').bus({ url: busUrl }); bus.use(bus.messageDomain()); bus.use(bus.package()); bus.use(bus.correlate()); bus.use(bus.logger()); bus.use(bus.retry()); module.exports.bus = bus;
(function(exports) { 'use strict'; var settings = { Model: JSONMediaModel, PlayerView: PlayerView, PlaylistView: PlaylistPlayerView, dataURL: "./assets/genericLiveData.json", showSearch: true, displayButtons: false }; exports.app = new App(settings); }(window));
var assert = require('assert'); var path = require('path'); var fs = require('fs'); var npmcss = require('../'); var kGenerate = process.env.TEST_GENERATE; var exp_dir = path.join(__dirname, 'expected'); var fix_dir = path.join(__dirname, 'fixtures'); var files = fs.readdirSync(fix_dir).filter(function(file) { return /[.]css$/.test(file); }); files.forEach(function(file) { var actual_file = path.join(fix_dir, file); var expected_file = path.join(exp_dir, file); test(file, function() { var actual = npmcss(actual_file); if (kGenerate) { fs.writeFileSync(expected_file, actual, 'utf8'); return; } var expected = fs.readFileSync(expected_file, 'utf8'); assert.equal(actual, expected); }); });
var util = require('util'); module.exports = function() { return function() { var entry = this; for (var i = 0; i<arguments.length ; ++i) { var arg = arguments[i]; if (typeof arg === 'string') { if (i + 1 >= arguments.length) { return entry.message = arg; } entry.message = util.format.apply(util, Array.prototype.slice.call(arguments, i)); return; } else if (arg instanceof Error) { entry.message = arg.message; continue; } } }; };
'use strict'; import template from './account-details.html!text'; function employeesAccountDetailsRoute($stateProvider) { 'ngInject'; return $stateProvider .state('employees.add.account-details', { url: '/account-details', views: { 'modal@': { template: template } } }); } export default employeesAccountDetailsRoute;
var assert = require('assert'); var R = require('..'); describe('concat', function() { it('adds combines the elements of the two lists', function() { assert.deepEqual(R.concat(['a', 'b'], ['c', 'd']), ['a', 'b', 'c', 'd']); assert.deepEqual(R.concat([], ['c', 'd']), ['c', 'd']); }); var z1 = { x: 'z1', concat: function(that) { return this.x + ' ' + that.x; } }; var z2 = { x: 'z2' }; it('adds combines the elements of the two lists', function() { assert.deepEqual(R.concat(['a', 'b'], ['c', 'd']), ['a', 'b', 'c', 'd']); assert.deepEqual(R.concat([], ['c', 'd']), ['c', 'd']); }); it('works on strings', function() { assert.strictEqual(R.concat('foo', 'bar'), 'foobar'); assert.strictEqual(R.concat('x', ''), 'x'); assert.strictEqual(R.concat('', 'x'), 'x'); assert.strictEqual(R.concat('', ''), ''); }); it('delegates to non-String object with a concat method, as second param', function() { assert.strictEqual(R.concat(z1, z2), 'z1 z2'); }); it('is curried', function() { var conc123 = R.concat([1, 2, 3]); assert.deepEqual(conc123([4, 5, 6]), [1, 2, 3, 4, 5, 6]); assert.deepEqual(conc123(['a', 'b', 'c']), [1, 2, 3, 'a', 'b', 'c']); }); it('is curried like a binary operator, that accepts an inital placeholder', function() { var appendBar = R.concat(R.__, 'bar'); assert.strictEqual(typeof appendBar, 'function'); assert.strictEqual(appendBar('foo'), 'foobar'); }); it('throws if not an array, String, or object with a concat method', function() { assert.throws(function() { return R.concat({}, {}); }, TypeError); }); });
jQuery(function($) { $.datepicker.regional['el'] = { closeText: 'Κλείσιμο', prevText: 'Προηγούμενος', nextText: 'Επόμενος', currentText: 'Τρέχων Μήνας', monthNames: ['Ιανουάριος','Φεβρουάριος','Μάρτιος','Απρίλιος','Μάιος','Ιούνιος', 'Ιούλιος','Αύγουστος','Σεπτέμβριος','Οκτώβριος','Νοέμβριος','Δεκέμβριος'], monthNamesShort: ['Ιαν','Φεβ','Μαρ','Απρ','Μαι','Ιουν', 'Ιουλ','Αυγ','Σεπ','Οκτ','Νοε','Δεκ'], dayNames: ['Κυριακή','Δευτέρα','Τρίτη','Τετάρτη','Πέμπτη','Παρασκευή','Σάββατο'], dayNamesShort: ['Κυρ','Δευ','Τρι','Τετ','Πεμ','Παρ','Σαβ'], dayNamesMin: ['Κυ','Δε','Τρ','Τε','Πε','Πα','Σα'], weekHeader: 'Εβδ', dateFormat: 'dd/mm/yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['el']); });
var express = require('express'), util = require('util'), fs = require('fs'), https = require("https"), querystring = require('querystring'); var app = express.createServer(), io = require('socket.io').listen(app), port = (process.env.PORT || 3000); io.set('log level', 1); app.use(express.bodyParser()); app.get('/style.css', function(request, response){ response.writeHead(200, {'Content-Type': 'text/css'}); response.write(fs.readFileSync(__dirname + '/public/stylesheets/style.css', 'utf8')); response.end(); }); app.get('/', function(request, response){ response.writeHead(200, {'Content-Type': 'text/html'}); response.write(fs.readFileSync('./index.html', 'utf8')); response.end(); }); app.get('/callback', function(request, response){ if(request.param("hub.challenge") != null){ response.send(request.param("hub.challenge")); } else { console.log("ERROR on suscription request: %s", util.inspect(request)); } }); app.post('/callback', function(request, response){ request.body.forEach(function(notificationOjb){ https.get({ host: 'api.instagram.com', path: '/v1/geographies/' + notificationOjb.object_id + '/media/recent' + '?' + querystring.stringify({client_id: process.env.instagram_client_id,count: 1}), }, function(res){ var raw = ""; res.on('data', function(chunk) { raw += chunk; }); res.on('end', function() { var response = JSON.parse(raw); if(response['data'].length > 0 && response['data'][0]['location'] != null) { io.sockets.emit('photo', raw); } else { console.log("ERROR: %s", util.inspect(response['meta'])); } }); }); }); response.writeHead(200); }); app.listen(port, function(){ console.log("Listening in port %d", port); });
function output(msg) { var html = '<span>'; html += SLFSRV.esc4html(msg).replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\n/g,"<br/>"); html += '</span>'; $('#output').append(html); window.scrollTo(0,document.body.scrollHeight); } function error(msg) { var html = '<p style="color:red;">'; html += SLFSRV.esc4html(msg).replace(/\n/g,"<br/>"); html += '</p>'; $('#output').append(html); } function change_to_self_serving_root_dir() { return new Promise(function(resolve,reject){ var original_cwd; SLFSRV.dir.getcwd({}).then(function(cwd){ original_cwd = cwd; return SLFSRV.dir.setcwd({dirname:SLFSRV.ROOTPATH}); }).then(function(){ return SLFSRV.dir.setcwd({dirname:".."}); }).then(function(){ return SLFSRV.dir.setcwd({dirname:".."}); }).then(function(){ resolve(original_cwd); }); }); } function restore_original_cwd(original_cwd) { return new Promise(function(resolve,reject){ SLFSRV.dir.setcwd({dirname:original_cwd}).then(resolve); }); } function list_all() { return new Promise(function(resolve,reject){ function list_current_dir(indent) { return new Promise(function(resolve,reject){ SLFSRV.dir.list({}).then(function(list){ function display_next_list_item() { if ( list.length === 0 ) { resolve(); } else { var li; li = list.shift(); output(indent + li.name + '\n'); if ( li.dir ) { SLFSRV.dir.setcwd({dirname:li.name}).then(function(){ return list_current_dir(indent+"\t"); }).then(function(){ return SLFSRV.dir.setcwd({dirname:".."}); }).then( display_next_list_item ); } else { setTimeout(display_next_list_item,0); } } } display_next_list_item(); }); }); } output("Directory listing for " + SLFSRV.ROOTPATH + ':\n\n'); list_current_dir("").then(resolve); }); } $( document ).ready(function() { var original_cwd; change_to_self_serving_root_dir().then(function(cwd) { original_cwd = cwd; return list_all(); }).then(function(){ return restore_original_cwd(original_cwd); }).then(function(){ output("\nALL DONE!"); }); });
var _curry2 = require('./internal/_curry2'); var _extend = require('./internal/_extend'); module.exports = _curry2(function merge(a, b) { return _extend(_extend({}, a), b); });
define(function() { var PdfWindowView = Backbone.View.extend({ initialize : function(options) { this.pdfUrl = encodeURI(options.pdfUrl); var self = this; $(window).on("resize", function() { self.resize() }); }, render : function() { var template = _.template( $("#pdf-tabs-template").text(), { pdfSrc : this.pdfUrl }); this.$el.html(template); this.resize(); return this; }, resize : function() { this.$el.find("embed").height( $(window).innerHeight() - $(".full-page-pdf-tabs").outerHeight() ); }, updatePdf : function(pdfUrl) { this.$el.find("embed").attr({ src : pdfUrl }).hide().show(); } }); return PdfWindowView; });
pref("browser.dom.window.dump.enabled", true); pref("javascript.options.showInConsole", true); pref("javascript.options.strict", true); pref("nglayout.debug.disable_xul_fastload", true);
var TT = TT || {}; TT.Ajax = (function () { var TIMEOUT = 60 * 1000; var pub = {}; var serverRequests = 0; var serverResponses = 0; var timeouts = []; pub.start = function () { serverRequests++; $('body').addClass('ajaxRunning'); timeouts[serverRequests] = setTimeout(pub.timeout, TIMEOUT); }; pub.end = function () { serverResponses++; if (serverRequests === serverResponses) { $('body').removeClass('ajaxRunning'); } clearTimeout(timeouts[serverResponses]); }; pub.timeout = function () { TT.View.message('Server is taking a while to respond.', { type: 'wait' }); pub.end(); }; pub.ajax = function (type, url, options) { pub.start(); $.ajax({ url: url, type: type, data: options.data, success: function (response) { if (options.callback) { options.callback(response); } }, error: function () { if (options.error) { options.error(); } }, complete: pub.end }); }; pub.get = function (url, options) { pub.ajax('GET', url, options); }; pub.post = function (url, options) { pub.ajax('POST', url, options); }; return pub; }());
function S4() { return (((1+Math.random())*0x10000)|0).toString(16).substring(1); }; function guid() { return (S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4()); }; var Store = function(name) { this.name = name; var store = localStorage.getItem(this.name); this.data = (store && JSON.parse(store)) || {}; }; _.extend(Store.prototype, { save: function() { localStorage.setItem(this.name, JSON.stringify(this.data)); }, create: function(model) { if (!model.id) model.id = model.attributes.id = guid(); this.data[model.id] = model; this.save(); return model; }, update: function(model) { this.data[model.id] = model; this.save(); return model; }, find: function(model) { return this.data[model.id]; }, findAll: function() { return _.values(this.data); }, destroy: function(model) { delete this.data[model.id]; this.save(); return model; } }); Backbone.sync = function(method, model, success, error) { var resp; var store = model.localStorage || model.collection.localStorage; switch (method) { case "read": resp = model.id ? store.find(model) : store.findAll(); break; case "create": resp = store.create(model); break; case "update": resp = store.update(model); break; case "delete": resp = store.destroy(model); break; } if (resp) { success(resp); } else { error("Record not found"); } };
﻿function Rocket(width,height,color,mass){ if(typeof(width)==='undefined') width = 20; if(typeof(height)==='undefined') height = 40; if(typeof(color)==='undefined') color = '#0000ff'; if(typeof(mass)==='undefined') mass = 1; this.width = width; this.height = height; this.color = color; this.mass = mass; this.x = 0; this.y = 0; this.vx = 0; this.vy = 0; } Rocket.prototype = { get pos2D (){ return new Vector2D(this.x,this.y); }, set pos2D (pos){ this.x = pos.x; this.y = pos.y; }, get velo2D (){ return new Vector2D(this.vx,this.vy); }, set velo2D (velo){ this.vx = velo.x; this.vy = velo.y; }, draw: function (context,firing) { if (firing){ var exhaust = new Triangle(this.x,this.y+0.5*this.height,this.width,this.height,'#ffff00',0.8); exhaust.draw(context); } var capsule = new Triangle(this.x,this.y,this.width,this.height,this.color); capsule.draw(context); } };
var fs = require('fs'); var azureCert = require('../../../lib/pkgcloud/azure/utils/cert.js'); var config = JSON.parse(fs.readFileSync("../configs/azure.json",'utf8')); azureCert.getAzureCert('../../fixtures/azure/cert/management/management.pem', function(err, result) { if(err) { console.dir(err); } else { console.dir(result); } });
var __ = require('./__'); var substring = require('./substring'); module.exports = substring(__, Infinity);
var gulp = require('gulp') , jade = require('gulp-jade') , prettify = require('gulp-prettify') , sass = require('gulp-ruby-sass') , minifycss = require('gulp-minify-css') , rename = require('gulp-rename') , connect = require('gulp-connect'); gulp.task('init', function() { gulp.src('bower/bootstrap-sass-official/vendor/assets/stylesheets/**') .pipe(gulp.dest('src/css')) .pipe(gulp.src('bower/bootstrap-sass-official/vendor/assets/fonts/**')) .pipe(gulp.dest('dist/css')) .pipe(gulp.src('bower/bootstrap-accessibility-plugin/plugins/css/**')) .pipe(gulp.dest('dist/css')) .pipe(rename({suffix: '.min'})) .pipe(minifycss()) .pipe(gulp.dest('dist/css')) .pipe(gulp.src('bower/bootstrap-accessibility-plugin/plugins/js/bootstrap-accessibility.min.js')) .pipe(gulp.dest('dist/js')) .pipe(gulp.src('bower/jquery/dist/jquery.min.js')) .pipe(gulp.dest('dist/js')); }); gulp.task('connect', connect.server({ root: ['dist'], port: 1337, livereload: true, open: {} }) ); gulp.task('jade', function() { gulp.src('src/templates/*.jade') .pipe(jade()) .pipe(gulp.dest('dist')) .pipe(connect.reload()); }); gulp.task('styles', function() { gulp.src('src/css/*.scss') .pipe(sass({ style: 'expanded' })) .pipe(gulp.dest('dist/css')) .pipe(rename({suffix: '.min'})) .pipe(minifycss()) .pipe(gulp.dest('dist/css')) .pipe(connect.reload()); }); gulp.task('watch', function() { gulp.watch(['src/css/**'], ['styles']); gulp.watch(['src/templates/**'], ['jade']); }); gulp.task('default', ['connect', 'styles', 'jade', 'watch']);
'use strict'; var express = require('express'), app = express(), server = require('http').createServer(app), io = require('socket.io').listen(server), config = require('./config/config.js'); require('./config/express')(app, config); require('./config/routes')(app); require('./config/twitter')(io, config); server.listen(process.env.PORT || config.get("express:port"), function() { if(config.get("env") === 'development') { var open = require('open'); open('http: } console.info(config.get("app:name") + ' app started on port: ' + (process.env.PORT || config.get("express:port")) + ' - with environment: ' + config.get("env")); }); exports = module.exports = app;
;(function(){ 'use strict'; module.exports = prompts; function prompts () { var pendingPrompts = { module : { type: 'list', name: 'module', default: 'core', message: 'Which module does this view belongs to?' } } return pendingPrompts; } }).call(this);
d3.transpose = function(matrix) { return d3.zip.apply(d3, matrix); };
var arity = require('../arity'); module.exports = function _createComposer(composeFunction) { return function() { var idx = arguments.length - 1; var fn = arguments[idx]; var length = fn.length; while (--idx >= 0) { fn = composeFunction(arguments[idx], fn); } return arity(length, fn); }; };
(function($) { '$:nomunge'; var cache = {}, doTimeout = 'doTimeout', aps = Array.prototype.slice; $[doTimeout] = function() { return p_doTimeout.apply(window, [ 0 ].concat(aps.call(arguments))); }; $.fn[doTimeout] = function() { var args = aps.call(arguments), result = p_doTimeout.apply(this, [ doTimeout + args[0] ].concat(args)); return typeof args[0] === 'number' || typeof args[1] === 'number' ? this : result; }; function p_doTimeout(jquery_data_key) { var that = this, elem, data = {}, method_base = jquery_data_key ? $.fn : $, args = arguments, slice_args = 4, id = args[1], delay = args[2], callback = args[3]; if (typeof id !== 'string') { slice_args--; id = jquery_data_key = 0; delay = args[1]; callback = args[2]; } if (jquery_data_key) { elem = that.eq(0); elem.data(jquery_data_key, data = elem.data(jquery_data_key) || {}); } else if (id) { data = cache[ id ] || ( cache[ id ] = {} ); } data.id && clearTimeout(data.id); delete data.id; function cleanup() { if (jquery_data_key) { elem.removeData(jquery_data_key); } else if (id) { delete cache[ id ]; } } ; function actually_setTimeout() { data.id = setTimeout(function() { data.fn(); }, delay); } ; if (callback) { data.fn = function(no_polling_loop) { if (typeof callback === 'string') { callback = method_base[ callback ]; } callback.apply(that, aps.call(args, slice_args)) === true && !no_polling_loop ? actually_setTimeout() : cleanup(); }; actually_setTimeout(); } else if (data.fn) { delay === undefined ? cleanup() : data.fn(delay === false); return true; } else { cleanup(); } } ; })(jQuery);
module.declare( function(require, exports, module) { exports.foo = function() { }; } );
if (!window.swank_server) window.swank_server = document.location.protocol + " function load(url, requirement) { if (requirement) { var fulfilled = requirement.call(window); if (!fulfilled) { window.setTimeout(function() { load(url, requirement); }, 100); return; } } var script = document.createElement('script'); script.setAttribute('type', 'text/javascript'); script.setAttribute('src', swank_server + url); document.head = document.head || document.getElementsByTagName('head')[0]; document.head.appendChild(script); } function loadTests() { var query = document.location.toString().split("?")[1]; return query && query.match(/swank-js-tests/); } load("swank-js/json2.js"); load("socket.io/socket.io.js"); load("swank-js/stacktrace.js"); load("swank-js/swank-js.js", function () { return !!window.io; }); load("swank-js/completion.js"); load("swank-js/load.js", function () { return !!window.SwankJS && !!window.Completion && document.body; }); if (loadTests()) { load("swank-js/browser-tests.js", function() { return window.SwankJS && window.Completion; }); }
var _ = require('lodash'); var R = require('../..'); var maxBy = R.maxBy; var vals = _.chain(_.range(50, 500, 5)) .shuffle() .map(function(val) { return {key: val, val: String.fromCharCode(val)}; }) .value(); var computer = R.prop('val'); var maxVal = maxBy(computer); module.exports = { name: 'maxBy', tests: { '_.max': function() { _.max(vals, computer); }, 'maxBy(computer, nums)': function() { maxBy(computer, vals); }, 'maxBy(computer)(vals)': function() { maxBy(computer)(vals); }, 'maxVal(vals)': function() { maxVal(vals); } } };
var util = require('util'), colors = require('colors'), http = require('http'), httpProxy = require('../../lib/node-http-proxy'); httpProxy.createServer(9000, 'localhost', { forward: { port: 9001, host: 'localhost' } }).listen(8003); http.createServer(function (req, res) { res.writeHead(200, { 'Content-Type': 'text/plain' }); res.write('request successfully proxied to: ' + req.url + '\n' + JSON.stringify(req.headers, true, 2)); res.end(); }).listen(9000); http.createServer(function (req, res) { util.puts('Receiving forward for: ' + req.url); res.writeHead(200, { 'Content-Type': 'text/plain' }); res.write('request successfully forwarded to: ' + req.url + '\n' + JSON.stringify(req.headers, true, 2)); res.end(); }).listen(9001); util.puts('http proxy server '.blue + 'started '.green.bold + 'on port '.blue + '8003 '.yellow + 'with forward proxy'.magenta.underline); util.puts('http server '.blue + 'started '.green.bold + 'on port '.blue + '9000 '.yellow); util.puts('http forward server '.blue + 'started '.green.bold + 'on port '.blue + '9001 '.yellow);
it('should check ng-bind', function() { var nameInput = element(by.model('name')); expect(element(by.binding('name')).getText()).toBe('Whirled'); nameInput.clear(); nameInput.sendKeys('world'); expect(element(by.binding('name')).getText()).toBe('world'); });
var mediaPlugin = require('../media'); module.exports = { prepareLink: function(link, options) { mediaPlugin.prepareLink(link, options); } };
describe('NavigationInfo', function() { });
module.exports = { re: [ /^https?:\/\/ow\.ly\/i\ ], mixins: [ "html-title", "canonical", "keywords", "og-image-rel-image", "favicon" ], tests: [{ page: "http: selector: ".mediaItem a" }, "http: "http: ] };
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example106/index-jquery.html"); }); it('should interpolate binding with custom symbols', function() { expect(element(by.binding('demo.label')).getText()).toBe('This binding is brought you by }); });
it('should interpolate binding with custom symbols', function() { expect(element(by.binding('demo.label')).getText()).toBe('This binding is brought you by });
module.exports = { getMeta: function(meta) { return { copyright: meta.copyright }; } };
var _ = require('lodash'); var Minimatch = require('minimatch').Minimatch; module.exports = function (name, pattern, options) { options = _.defaults(options || {}, { groupBy: false, sortGroups: function(){return 0;}, sortPages: function(){return 0;}, sortPagesAscending: true, groupSlug: function(key){ return key.replace(/\s/g, '-').toLowerCase(); } }); pattern = new Minimatch(pattern); return function(acetate, callback) { acetate.log.verbose('extension', 'creating collection %s from pages matching %s', name, pattern); var pageWasDirty; var groups = _.chain(acetate.pages) .filter(function(page){ var matches = pattern.match(page.src); pageWasDirty = pageWasDirty || (page.__dirty && matches); return matches; }) .groupBy(options.groupBy) .transform(function(result, pages, key){ var groupSlug = options.groupSlug(key); if(options.sortPages){ pages = _.sortBy(pages, options.sortPages); if(!options.sortPagesAscending){ pages.reverse(); } } result[groupSlug] = { pages: pages, slug: groupSlug, name: key }; }).sortBy(options.sortGroups).value(); _.each(groups,function(group){ _.each(group.pages, function(page){ page.__dirty = true; }); }); function bindSequence(group, pos){ group.pages[pos][name].previous = group.pages[pos - 1]; group.pages[pos][name].next = group.pages[pos + 1]; } _.each(groups,function(group){ for (var i = 0; i < group.pages.length; i++) { group.pages[i][name] = { groups: groups, pages: group.pages, slug: group.slug, name: group.name }; bindSequence(group, i); } }); acetate.use(function(acetate, done){ _.each(acetate.pages, function(page){ _.forIn(page.groups, function(value, key){ if(name === value){ page[key] = { groups: groups }; if(pageWasDirty){ page.__dirty = true; } } }); }); done(undefined, acetate); }); callback(null, acetate); }; };
Login.Toolbar = SC.View.extend({ classNames: ['toolbar'], title: "default title", state: null, logState: NO, logoutTarget: null, logoutAction: null, loginTarget: null, loginAction: null, init: function() { sc_super(); this.goLoggedOut(); }, logout: function() { this.goLoggedOut(); }, beginLogin: function() { this.goLoginIn(); }, endLogin: function() { this.goLoggedIn(); }, goLoggedOut: function() { this.state = 'loggedOut'; if (this.logState) console.log(this.state); this.displayDidChange(); }, goLoginIn: function() { this.state = 'loginIn'; if (this.logState) console.log(this.state); this.displayDidChange(); }, goLoggedIn: function() { this.state = 'loggedIn'; if (this.logState) console.log(this.state); this.displayDidChange(); }, render: function(context, firstTime) { if (firstTime) { context.push('<div id="loggedIn-status"><span id="login">Log in</span></div>').push('<h2>' , this.title , '</h2>'); } var state = this.state; if (state === 'loggedOut') { SC.CoreQuery('span#login').html("Log in"); SC.CoreQuery('span#login').removeClass('notclickable'); } else if (state === 'loginIn') { SC.CoreQuery('span#login').html(""); SC.CoreQuery('span#login').addClass('notclickable'); } else if (state === 'loggedIn') { SC.CoreQuery('span#login').html("Log out"); SC.CoreQuery('span#login').removeClass('notclickable'); } }, mouseDown: function(evt) { var target = SC.CoreQuery(evt.target); var state = this.state; var rootResponder = this.getPath('pane.rootResponder'); if (target.attr('id') === 'login') { if (state === 'loggedOut') { this.target = this.get('loginTarget') || null; this.action = this.get('loginAction'); } else if (state === 'loggedIn') { this.target = this.get('logoutTarget') || null; this.action = this.get('logoutAction'); } if(rootResponder) { rootResponder.sendAction(this.action, this.target, this, this.get('pane')); } } } });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example56/index-jquery.html"); }); it('should select Greetings!', function() { expect(element(by.id('greet')).getAttribute('selected')).toBeFalsy(); element(by.model('selected')).click(); expect(element(by.id('greet')).getAttribute('selected')).toBeTruthy(); }); });
suite('PeriodicalExecuter', function () { this.name = 'periodical_executer'; test('#stop', function (done) { var peEventCount = 0; function peEventFired(pe) { if (++peEventCount > 2) pe.stop(); } new PeriodicalExecuter(peEventFired, 0.05); wait(600, done, function() { assert.equal(3, peEventCount); done(); }); }); test('#onTimerEvent', function () { var pe = { onTimerEvent: PeriodicalExecuter.prototype.onTimerEvent, execute: function() { assert(pe.currentlyExecuting); } }; pe.onTimerEvent(); assert(!pe.currentlyExecuting); pe.execute = function() { assert(pe.currentlyExecuting); throw new Error(); }; assert.raise('Error', pe.onTimerEvent.bind(pe)); assert(!pe.currentlyExecuting); }); });
(function () { "use strict"; var keepassBackend = angular.module('keepass-backend', ['jwt']); keepassBackend.service('kdbxBackendService', function ($http, $q, jwtStore) { var self = this; this.getDatabases = function () { return $http({ "method": "get", "url": '/databases' }); }; this.getDatabaseAuthToken = function (filename, password) { return $http({ "method": "post", "url": '/databases/' + encodeURIComponent(filename) + '/auth', data: {password: password} }); }; this.authenticate = function (filename, password) { return self.getDatabaseAuthToken(filename, password) .then(function (result) { jwtStore.saveJwt(result.data.jwt); return result; }, function (reason) { jwtStore.removeJwt(); return $q.reject(reason); }); }; this.getGroups = function (filename) { return $http({ "method": "get", "url": '/' + encodeURIComponent(filename) + '/groups' }); }; this.getEntries = function (filename, group) { return $http({ "method": "get", "url": '/' + encodeURIComponent(filename) + '/' + encodeURIComponent(group) }); }; this.addGroup = function (filename, parentGroup, group) { return $http({ "method": "put", "url": '/' + encodeURIComponent(filename) + '/' + encodeURIComponent(parentGroup) + '/group/' + encodeURIComponent(group.UUID), "data": {group: group} }); }; this.addEntry = function (filename, parentGroup, entry) { return $http({ "method": "put", "url": '/' + encodeURIComponent(filename) + '/' + encodeURIComponent(parentGroup) + '/entry/' + encodeURIComponent(entry.UUID), "data": {entry: entry} }); }; }); }());
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example52/index.html"); }); it('should execute ng-click but not reload when href without value', function() { element(by.id('link-1')).click(); expect(element(by.model('value')).getAttribute('value')).toEqual('1'); expect(element(by.id('link-1')).getAttribute('href')).toBe(''); }); it('should execute ng-click but not reload when href empty string', function() { element(by.id('link-2')).click(); expect(element(by.model('value')).getAttribute('value')).toEqual('2'); expect(element(by.id('link-2')).getAttribute('href')).toBe(''); }); it('should execute ng-click and change url when ng-href specified', function() { expect(element(by.id('link-3')).getAttribute('href')).toMatch(/\/123$/); element(by.id('link-3')).click(); browser.wait(function() { return browser.driver.getCurrentUrl().then(function(url) { return url.match(/\/123$/); }); }, 5000, 'page should navigate to /123'); }); xit('should execute ng-click but not reload when href empty string and name specified', function() { element(by.id('link-4')).click(); expect(element(by.model('value')).getAttribute('value')).toEqual('4'); expect(element(by.id('link-4')).getAttribute('href')).toBe(''); }); it('should execute ng-click but not reload when no href but name specified', function() { element(by.id('link-5')).click(); expect(element(by.model('value')).getAttribute('value')).toEqual('5'); expect(element(by.id('link-5')).getAttribute('href')).toBe(null); }); it('should only change url when only ng-href', function() { element(by.model('value')).clear(); element(by.model('value')).sendKeys('6'); expect(element(by.id('link-6')).getAttribute('href')).toMatch(/\/6$/); element(by.id('link-6')).click(); browser.wait(function() { return browser.driver.getCurrentUrl().then(function(url) { return url.match(/\/6$/); }); }, 5000, 'page should navigate to /6'); }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example62/index.html"); }); it('should check ng-bind-html', function() { expect(element(by.binding('myHTML')).getText()).toBe( 'I am an HTMLstring with links! and other stuff'); }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example84/index.html"); }); var templateSelect = element(by.model('template')); var includeElem = element(by.css('[ng-include]')); it('should load template1.html', function() { expect(includeElem.getText()).toMatch(/Content of template1.html/); }); it('should load template2.html', function() { if (browser.params.browser == 'firefox') { return; } templateSelect.click(); templateSelect.all(by.css('option')).get(2).click(); expect(includeElem.getText()).toMatch(/Content of template2.html/); }); it('should change to blank', function() { if (browser.params.browser == 'firefox') { return; } templateSelect.click(); templateSelect.all(by.css('option')).get(0).click(); expect(includeElem.isPresent()).toBe(false); }); });
(function (factory) { if (typeof define === 'function' && define.amd) { define(['moment'], factory); } else if (typeof exports === 'object') { module.exports = factory(require('../moment')); } else { factory((typeof global !== 'undefined' ? global : this).moment); } }(function (moment) { return moment.defineLocale('ko', { months : '1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월'.split('_'), monthsShort : '1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월'.split('_'), weekdays : '일요일_월요일_화요일_수요일_목요일_금요일_토요일'.split('_'), weekdaysShort : '일_월_화_수_목_금_토'.split('_'), weekdaysMin : '일_월_화_수_목_금_토'.split('_'), longDateFormat : { LT : 'A h시 m분', LTS : 'A h시 m분 s초', L : 'YYYY.MM.DD', LL : 'YYYY년 MMMM D일', LLL : 'YYYY년 MMMM D일 LT', LLLL : 'YYYY년 MMMM D일 dddd LT' }, calendar : { sameDay : '오늘 LT', nextDay : '내일 LT', nextWeek : 'dddd LT', lastDay : '어제 LT', lastWeek : '지난주 dddd LT', sameElse : 'L' }, relativeTime : { future : '%s 후', past : '%s 전', s : '몇초', ss : '%d초', m : '일분', mm : '%d분', h : '한시간', hh : '%d시간', d : '하루', dd : '%d일', M : '한달', MM : '%d달', y : '일년', yy : '%d년' }, ordinalParse : /\d{1,2}일/, ordinal : '%d일', meridiemParse : /오전|오후/, isPM : function (token) { return token === '오후'; }, meridiem : function (hour, minute, isUpper) { return hour < 12 ? '오전' : '오후'; } }); }));
angular.module('filterExample', []) .controller('MainCtrl', function($scope, $filter) { $scope.originalText = 'hello'; $scope.filteredText = $filter('uppercase')($scope.originalText); });
var q = require('q'); var test = require('tap').test; var appSession = require('./app-session'); var origin = 'http: test('create session successfully', function (t) { var session = appSession(db, {}, origin, q, setTimeout); session.create({ name: 'foo' }).then(function(res) { t.equals(res.name, 'foo'); t.ok(res.db); t.end(); }); }); test('destroy session', function (t) { var http = { post: httpPostSuccess }; var session = appSession(db, http, origin, q, setTimeout); session.destroy().then(function (res) { t.ok(res.data.ok); t.end(); }); }); test('get session successfully', function (t) { var http = { get: httpGetSuccess }; var session = appSession(db, http, origin, q, setTimeout); session.get().then(function (user) { t.equals(user.name, 'foo'); t.end(); }); }); test('get no session ', function (t) { var http = { get: httpGetError }; var session = appSession(db, http, origin, q, setTimeout); session.get().then(null, function (data) { t.equals(data.error, 'foo'); t.end(); }); }); var db = function (name) { return { sync: function() {} } }; function httpPostSuccess (url) { return { then: function (success) { setTimeout( function () { success({ data: { ok: true}}); }, 100); } }; } function httpGetSuccess (url) { return { then: function (success, error) { setTimeout( function () { success({ data: { userCtx: { name: 'foo'}}}); }, 100); } }; } function httpGetError (url) { return { then: function (res) { setTimeout( function () { res({ data: { error: 'foo' }}); }, 100); } }; }
module.exports = { re: [ /^https?:\/\/d\.pr\/i\/([a-z0-9]+)/i ], mixins: [ "oembed-thumbnail", "oembed-site", "oembed-title" ], getLinks: function(oembed) { return { href: oembed.url, type: CONFIG.T.image, rel: CONFIG.R.image, width: oembed.width, height: oembed.height }; }, tests: [ "http: ] };
angular.module('invoice2', ['finance2']) .controller('InvoiceController', ['currencyConverter', function(currencyConverter) { this.qty = 1; this.cost = 2; this.inCurr = 'EUR'; this.currencies = currencyConverter.currencies; this.total = function total(outCurr) { return currencyConverter.convert(this.qty * this.cost, this.inCurr, outCurr); }; this.pay = function pay() { window.alert("Thanks!"); }; }]);
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example66/index.html"); }); it('should check ng-class-odd and ng-class-even', function() { expect(element(by.repeater('name in names').row(0).column('name')).getAttribute('class')). toMatch(/odd/); expect(element(by.repeater('name in names').row(1).column('name')).getAttribute('class')). toMatch(/even/); }); });
module.exports = { re: [ /^https?:\/\/video\.mit\.edu\/watch\/[a-zA-Z\-]+\-(\d+)/i ], mixins: [ "og-image", "favicon", "canonical", "og-description", "keywords", "og-site", "og-title" ], getLink: function(urlMatch) { return { href: "http: type: CONFIG.T.text_html, rel: [CONFIG.R.player, CONFIG.R.html5], "aspect-ratio": 640 / 360 }; }, tests: [ "http: ] };
module.exports = { re: /^https:\/\/gumroad\.com\/l\/(\w+)/i, mixins: [ "og-image", "favicon", "twitter-author", "canonical", "twitter-description", "og-site", "twitter-title" ], getLink: function(urlMatch) { return { template_context: { id: urlMatch[1] }, type: CONFIG.T.text_html, rel: [CONFIG.R.app, CONFIG.R.ssl], 'max-width': 676 }; }, tests: [ "https: ] };
goog.provide('ng.material.components.button'); goog.require('ng.material.core'); (function() { 'use strict'; angular.module('material.components.button', [ 'material.core' ]) .directive('mdButton', MdButtonDirective); function MdButtonDirective($mdInkRipple, $mdTheming, $mdAria) { return { restrict: 'E', replace: true, transclude: true, template: getTemplate, link: postLink }; function isAnchor(attr) { return angular.isDefined(attr.href) || angular.isDefined(attr.ngHref); } function getTemplate(element, attr) { if (isAnchor(attr)) { return '<a class="md-button" ng-transclude></a>'; } else { return '<button class="md-button" ng-transclude></button>'; } } function postLink(scope, element, attr) { var node = element[0]; $mdTheming(element); $mdInkRipple.attachButtonBehavior(scope, element); var elementHasText = node.textContent.trim(); if (!elementHasText) { $mdAria.expect(element, 'aria-label'); } if (isAnchor(attr)) { scope.$watch(attr.ngDisabled, function(isDisabled) { element.attr('tabindex', isDisabled ? -1 : 0); }); } } } MdButtonDirective.$inject = ["$mdInkRipple", "$mdTheming", "$mdAria"]; })();
describe('user', function(){ it('should be unauthorized', function(cb) { request .get('/api/-') .end(function(error, res) { expect(res.status).to.equal(401) cb() }) }) it('should login', function(cb) { request .post('/api/login') .send(user) .set('Accept', 'application/json') .end(function(error, res) { expect(error).to.be.null expect(res.body).to.have.property('token') token = res.body.token cb() }) }) it('should been logged in', function(cb) { request .get('/api/-') .set({'Authorization': 'Bearer '+token}) .end(function(error, res) { expect(res.status).to.equal(200) expect(res.body.paths).to.have.length.of(1) cb() }) }) it('should be unauthorized because user is not admin', function(cb) { request .get('/admin/users') .set({'Authorization': 'Bearer '+token}) .end(function(error, res) { expect(res.status).to.equal(401) updateUser(cb) }) }) it('should login as admin', function(cb) { request .post('/api/login') .send(user) .set('Accept', 'application/json') .end(function(error, res) { expect(error).to.be.null expect(res.body).to.have.property('token') token = res.body.token cb() }) }) it('should be admin authorized', function(cb) { request .get('/admin/users') .set({'Authorization': 'Bearer '+token}) .end(function(error, res) { expect(res.status).to.equal(200) cb() }) }) it('should get files', function(cb) { request .get('/api/-/files') .set({'Authorization': 'Bearer '+token}) .end(function(error, res) { expect(res.status).to.equal(200) expect(error).to.be.null cb() }) }) it('should get sizes', function(cb) { request .get('/api/-/size') .set({'Authorization': 'Bearer '+token}) .end(function(error, res) { expect(error).to.be.null expect(res.body).to.have.property('movies') expect(res.body).to.have.property('albums') expect(res.body).to.have.property('others') expect(res.body).to.have.property('total') cb() }) }) })
require(['../sdk/f2.min.js'], function () { F2.Apps[TEST_APP_ID] = (function() { var App_Class = function (appConfig, appContent, root) { this.appConfig = appConfig; this.appContent = appContent; this.ui = appConfig.ui; this.$root = $(root); this.doNotCallAgain = false; }; App_Class.prototype.init = function () { F2.PreloadAppInitializedCounter++; var context = this; F2.Events.on('PreloadAppCommuncation', function(){ if(!context.doNotCallAgain) { context._handleEmit(); } }); F2.PreloadAppInitialized = true; }; App_Class.prototype._handleEmit = function (bArg) { F2.PreloadRetrievedEmit = true; F2.PreloadRetrievedEmitCounter++; F2.PreloadTestCompleteCounter++; F2.PreloadTestComplete = true; this.doNotCallAgain = true; }; return App_Class; })(); });
var assert = require('assert'); var R = require('..'); describe('tap', function() { it('returns a function that always returns its argument', function() { var f = R.tap(R.identity); assert.strictEqual(typeof f, 'function'); assert.strictEqual(f(100), 100); }); it("may take a function as the first argument that executes with tap's argument", function() { var sideEffect = 0; assert.strictEqual(sideEffect, 0); var rv = R.tap(function(x) { sideEffect = 'string ' + x; }, 200); assert.strictEqual(rv, 200); assert.strictEqual(sideEffect, 'string 200'); }); });
var gulp = require('gulp'); var config = require('../config').watch; gulp.task('watch', ['build'], function() { gulp.watch(config.src, config.tasks); });
describe('bail', function(){ it('should only display this error', function(done){ throw new Error('this should be displayed'); }) it('should not display this error', function(done){ throw new Error('this should not be displayed'); }) }) describe('bail-2', function(){ before(function(done){ throw new Error('this hook should not be displayed'); }) it('should not display this error', function(done){ throw new Error('this should not be displayed'); }) })
var _filter = require('./_filter'); module.exports = function _functionsWith(fn) { return function(obj) { return _filter(function(key) { return typeof obj[key] === 'function'; }, fn(obj)); }; };
'use strict'; var assert = require('assert'); var fs = require('fs'); var rework = require('rework'); var suit = require('../index'); describe('suit()', function () { var expected = fs.readFileSync('test/fixtures/expected.css', 'utf-8').toString().trim(); var original = fs.readFileSync('test/fixtures/original.css', 'utf-8').toString().trim(); var options = {}; it('generates the expected output', function () { var actual = rework(original, { source: 'test/fixtures/expected.css' }) .use(suit(options)) .toString() .trim(); assert.equal(actual, expected); }); });
var w = 960, h = 50, n = 240, x = d3.scale.linear().domain([0, n]).range([h, w - h]), a = d3.scale.linear().domain([0, n - 1]).range([90 + 60, 270 - 60]), data = shuffle(d3.range(n)), duration = 250; var vis = d3.select("#chart").append("svg") .attr("width", w) .attr("height", h); var line = vis.selectAll("line") .data(data) .enter().append("line") .attr("x1", 0) .attr("y1", 0) .attr("x2", 0) .attr("y2", h) .attr("transform", transform); start(); function start() { var passes = mergesort(data).reverse(); update(); function update() { var pass = passes.pop(); line.data(pass, Number) .transition() .duration(duration) .attr("transform", transform); if (passes.length) { setTimeout(update, duration); } else { shuffle(data); setTimeout(start, duration + 4000); } } } function transform(d, i) { return "translate(" + x(i) + "," + h + ")rotate(" + a(d) + ")"; } function shuffle(array) { var i = array.length, j, t; while (--i > 0) { j = ~~(Math.random() * (i + 1)); t = array[j]; array[j] = array[i]; array[i] = t; } return array; } function mergesort(array) { var passes = [], i, j, n = array.length, m = 1; while (m < array.length) { i = j = 0; while (i < array.length) j += merge(i, i += m, i += m); if (j) passes.push(array.slice()); else m <<= 1; } function merge(start, middle, end) { middle = Math.min(array.length, middle); end = Math.min(array.length, end); for (; start < middle; start++) { if (array[start] > array[middle]) { var v = array[start]; array[start] = array[middle]; insert(middle, end, v); return true; } } return false; } function insert(start, end, v) { while (start + 1 < end && array[start + 1] < v) { var tmp = array[start]; array[start] = array[start + 1]; array[start + 1] = tmp; start++; } array[start] = v; } return passes; }
require('../common'); var assert = require('assert'); var dirty = require('dirty')(''); var isLoaded = false; dirty.on('load', function() { isLoaded = true; }); setTimeout(function() { assert.equal(isLoaded, true); }, 500);
function doFormData(form, callback) { var formData = new window.FormData(form); var request = new window.XMLHttpRequest(); request.onload = function() { if (request.status >= 200 && request.status < 400) { callback(undefined, request); } else { callback(new Error('AjaxForm: StatusError'), request); } }; request.onerror = function() { callback(new Error('AjaxForm: Network Error'), request); }; request.open('POST', form.action, true); request.send(formData); } module.exports = { emptyFn: function() {}, handleForm: function(form, callback) { if (window.FormData) { doFormData(form, callback); } else { form.submit(); } } };
var _curry2 = require('./internal/_curry2'); var _reduce = require('./internal/_reduce'); module.exports = _curry2(function partition(pred, list) { return _reduce(function(acc, elt) { var xs = acc[pred(elt) ? 0 : 1]; xs[xs.length] = elt; return acc; }, [[], []], list); });
var pkgcloud = require('../../../../../lib/pkgcloud'), base = require('../../../core/compute'), compute = pkgcloud.providers.openstack.compute; exports.getFlavors = function getFlavors(callback) { var self = this; return this.request('flavors/detail', callback, function (body, res) { callback(null, body.flavors.map(function (result) { return new compute.Flavor(self, result); }), res); }); }; exports.getFlavor = function getFlavor(flavor, callback) { var self = this, flavorId = flavor instanceof base.Flavor ? flavor.id : flavor; return this.request('flavors/' + flavorId, callback, function (body, res) { callback(null, new compute.Flavor(self, body.flavor), res); }); };
$(function(){ $('table').visualize({type: 'pie', height: '400px', width: '400px', appendTitle:false, appendKey:false}); });
var canvas = document.getElementById('canvas'); var context = canvas.getContext('2d'); context.strokeStyle = '#0000ff'; context.lineWidth = 2; context.beginPath() ; context.moveTo(50, 50); context.lineTo(150, 50); context.lineTo(150, 200); context.lineTo(50, 200); context.lineTo(50, 50); context.stroke(); context.fillStyle = '#00ff00'; context.fill(); context.fillRect(250,50,150,100);
OAuth2.adapter('sample', { authorizationCodeURL: function(config) { return ''; }, redirectURL: function(config) { return ''; }, parseAuthorizationCode: function(url) { return ''; }, accessTokenURL: function() { return ''; }, accessTokenMethod: function() { return 'POST'; }, accessTokenParams: function(authorizationCode, config) { return {}; }, parseAccessToken: function(response) { return { accessToken: '', refreshToken: '', expiresIn: Number.MAX_VALUE }; } });
define(function (require){ return { Login: require('hbs!./templates/login'), AppModels: require('hbs!./templates/app_models'), ModelInstance: require('hbs!./templates/model_instance'), ModelInstances: require('hbs!./templates/model_instances'), Form: { Errors: require('hbs!./templates/form/errors'), Base: require('hbs!./templates/form/base'), Messages: require('hbs!./templates/form/messages'), Fields: { Button: require('hbs!./templates/form/fields/button'), CheckboxInput: require('hbs!./templates/form/fields/checkbox_input'), DateInput: require('hbs!./templates/form/fields/date_input'), DateTimeInput: require('hbs!./templates/form/fields/date_time_input'), FileInput: require('hbs!./templates/form/fields/file_input'), HiddenInput: require('hbs!./templates/form/fields/hidden_input'), ImageInput: require('hbs!./templates/form/fields/image_input'), PasswordInput: require('hbs!./templates/form/fields/password_input'), RadioSelect: require('hbs!./templates/form/fields/radio_select'), Select: require('hbs!./templates/form/fields/select'), SelectMultiple: require('hbs!./templates/form/fields/select_multiple'), TextInput: require('hbs!./templates/form/fields/text_input'), Textarea: require('hbs!./templates/form/fields/textarea') } } }; });
'use strict'; var path = require('path'); exports.testWrapMiddleware = function (test) { test.expect(13); var angularServer = require('../lib/main.js'); var server = angularServer.Server( { serverScripts: [ path.join(__dirname, '../res/fakeangular.js') ] } ); test.ok(server, 'server is truthy'); test.ok(server.wrapMiddlewareWithAngular, 'server.wrapMiddlewareWithAngular is truthy'); var expectedReq = {}; var expectedRes = {}; var expectedNext = {}; expectedReq.get = function () { return 'baz'; }; expectedReq.protocol = 'http'; expectedReq.url = '/foo'; var mw = server.wrapMiddlewareWithAngular( function (gotReq, gotRes, gotNext, gotInjector) { test.ok(gotReq === expectedReq, 'request passed through'); test.ok(gotRes === expectedRes, 'response passed through'); test.ok(gotNext === expectedNext, 'next passed through'); test.ok(gotInjector, 'injector is truthy'); var angular = gotInjector.angular; test.ok(angular, 'angular is truthy'); test.ok(angular.fake, 'angular is fake'); test.ok( angular.modulesRegistered.indexOf('angularjs-server') !== -1, 'angularjs-server module registered' ); test.ok( angular.modulesRegistered.indexOf('ngRoute') !== -1, 'fake ngRoute module registered' ); test.ok( angular.modulesRegistered.indexOf('ngAnimate') !== -1, 'fake ngAnimate module registered' ); test.ok( angular.requestsRegistered.length === 1, 'nodejs request was registered exactly once' ); test.ok( angular.requestsRegistered[0] === expectedReq, 'the registered request is what we expected' ); test.done(); } ); mw(expectedReq, expectedRes, expectedNext); };
var https = require('https'), util = require('util'), EventEmitter = require('events').EventEmitter; exports.createClient = function(host, port) { var client = new OAuthClient(host, port); return client; }; function OAuthClient(host, port) { this._host = host; this._port = port; EventEmitter.call(this); } util.inherits(OAuthClient, EventEmitter); OAuthClient.prototype.verifyToken = function(token) { var self = this; var options = { host: this._host, port: this._port, path: '/oauth2/v1/tokeninfo?access_token=' + token, method: 'GET' }; var req = https.request(options); req.on('response', function(res) { if (res.statusCode !== 200) { self.emit('error', res.statusCode, 'Invalid response from OAuth server!'); } else { res.setEncoding('utf8'); var resBody = ''; res.on('data', function (chunk) { resBody += chunk; }); res.on('end', function () { self.emit('data', resBody); }); } }); req.on('error', function(err) { self.emit('error', 500, 'Error while sending verifying OAuth token!'); }); req.end(); };
var _curry3 = require('./internal/_curry3'); var _eq = require('./internal/_eq'); module.exports = _curry3(function propEq(name, val, obj) { return _eq(obj[name], val); });
var assert = require("chai").assert; var crossbow = require("../../../index"); describe("Fetching/parsing data files", function() { it("JSON: should return the content + parsed data", function(done) { var site = crossbow.builder({config: {base: "test/fixtures"}}); var out = site.file.getFile({path: "_config.json"}); assert.equal(out.data.css, "/css/main.css"); assert.include(out.content, '"css": "/css/main.css"'); done(); }); it("JSON: should give good errors when parsing not possible", function(done) { var site = crossbow.builder({ config: { base: "test/fixtures", errorHandler: function (err) { assert.equal(err._crossbow.file, "test/fixtures/_config-corrupt.json"); assert.equal(err._crossbow.line, 0); done(); } } }); var out = site.file.getFile({path: "_config-corrupt.json"}); assert.isUndefined(out.data.css); assert.include(out.content, '"css": "/css/main.css'); }); it("YAML: should return the content + parsed data", function(done) { var site = crossbow.builder({config: {base: "test/fixtures"}}); var out = site.file.getFile({path: "_config.yml"}); assert.equal(out.data.css, "/css/main.css"); assert.include(out.content, 'css: "/css/main.css"'); done(); }); it("YAML: should give good errors when parsing not possible", function(done) { var site = crossbow.builder({ config: { base: "test/fixtures", errorHandler: function (err) { assert.equal(err._crossbow.file, "test/fixtures/_config-corrupt.yml"); assert.equal(err._crossbow.line, 3); done(); } } }); var out = site.file.getFile({path: "_config-corrupt.yml"}); assert.isUndefined(out.data.css); assert.include(out.content, 'css "/css/main.css"'); }); it("YAML: pickup site data when a string given for site: option", function(done) { var site = crossbow.builder({ config: { base: "test/fixtures" } }); site.compile({ key: "docs.html", content: "{{site.css}}", data: { site: "file:_config.yml" }, cb: function (err, out) { assert.equal(out.get("compiled"), "/css/main.css"); done(); } }); }); });
var _curry1 = require('./internal/_curry1'); var curryN = require('./curryN'); module.exports = _curry1(function curry(fn) { return curryN(fn.length, fn); });
var browserify = require('../'); var vm = require('vm'); var test = require('tap').test; var setTimeout_ = function (cb, t) { if (!t) { process.nextTick(cb); } else { setTimeout(cb, t); } }; test('entry', function (t) { t.plan(2); var src = browserify({ exports : [ 'require' ] }) .addEntry(__dirname + '/entry/main.js') .bundle() ; var c = { setTimeout : process.nextTick, done : function (one, two) { t.equal(one, 1); t.equal(two, 2); t.end(); } }; vm.runInNewContext(src, c); t.deepEqual( Object.keys(c.require.modules).sort(), [ 'path', '__browserify_process', '/one.js', '/two.js', '/main.js' ].sort() ); });
jQuery(function($) { $.datepicker.regional['tj'] = { closeText: 'Идома', prevText: '&#x3c;Қафо', nextText: 'Пеш&#x3e;', currentText: 'Имрӯз', monthNames: ['Январ','Феврал','Март','Апрел','Май','Июн', 'Июл','Август','Сентябр','Октябр','Ноябр','Декабр'], monthNamesShort: ['Янв','Фев','Мар','Апр','Май','Июн', 'Июл','Авг','Сен','Окт','Ноя','Дек'], dayNames: ['якшанбе','душанбе','сешанбе','чоршанбе','панҷшанбе','ҷумъа','шанбе'], dayNamesShort: ['якш','душ','сеш','чор','пан','ҷум','шан'], dayNamesMin: ['Як','Дш','Сш','Чш','Пш','Ҷм','Шн'], weekHeader: 'Хф', dateFormat: 'dd.mm.yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['tj']); });
define([ './../../base/Class', './../../base/ObservableProperty', './ButtonBase', './Toggle' ], function(Class, Observable, ButtonBase, Toggle) { function ToggleButton(config) { Toggle.installer(this); ButtonBase.call(this, config); Toggle.call(this); this.selectedProperty.subscribe(function(event) { if(event.value) { this.classList.add('jide-state-selected'); } else { this.classList.remove('jide-state-selected'); } }); if(this.selected) this.classList.add('jide-state-selected'); this.on('action', function() { this.selected = !this.selected; }); this.classList.add('jide-togglebutton'); } Class(ToggleButton).extends(ButtonBase).mixin(Toggle).def({ }); ToggleButton.Skin = ButtonBase.Skin; return ToggleButton; });
module.exports = { mixins: [ "oembed-title", "oembed-thumbnail", "oembed-author", "oembed-duration", "oembed-site", "oembed-description" ], getMeta: function(oembed) { return { canonical: "https: }; }, getLink: function(oembed) { var params = (CONFIG.providerOptions.vimeo && CONFIG.providerOptions.vimeo.get_params) ? CONFIG.providerOptions.vimeo.get_params : ""; var autoplay = params + (params.indexOf ('?') > -1 ? "&": "?") + "autoplay=1"; return [{ href: " type: CONFIG.T.text_html, rel: [CONFIG.R.player, CONFIG.R.html5], "aspect-ratio": oembed.width / oembed.height }, { href: " type: CONFIG.T.text_html, rel: [CONFIG.R.player, CONFIG.R.html5, CONFIG.R.autoplay], "aspect-ratio": oembed.width / oembed.height }, { href: "http: type: CONFIG.T.image, rel: CONFIG.R.icon, width: 72, height: 72 }]; }, tests: [{ feed: "http: }, "http: { skipMixins: [ "oembed-description" ] } ] };
var assert = require('assert'); var R = require('..'); describe('filterIndexed', function() { var even = function(x) {return x % 2 === 0;}; var everyOther = function(val, idx) {return idx % 2 === 0;}; var lastTwo = function(val, idx, list) {return list.length - idx < 3;}; it('works just like a normal filter', function() { assert.deepEqual(R.filterIndexed(even, [1, 2, 3, 4, 5]), [2, 4]); }); it('passes the index as a second parameter to the predicate', function() { assert.deepEqual(R.filterIndexed(everyOther, [8, 6, 7, 5, 3, 0, 9]), [8, 7, 3, 9]); }); it('passes the entire list as a third parameter to the predicate', function() { assert.deepEqual(R.filterIndexed(lastTwo, [8, 6, 7, 5, 3, 0, 9]), [0, 9]); }); it('returns an empty array if no element matches', function() { assert.deepEqual(R.filterIndexed(function(x) { return x > 100; }, [1, 9, 99]), []); }); it('returns an empty array if asked to filter an empty array', function() { assert.deepEqual(R.filterIndexed(function(x) { return x > 100; }, []), []); }); it('is curried', function() { var everyOtherPosition = R.filterIndexed(everyOther); assert.deepEqual(everyOtherPosition([8, 6, 7, 5, 3, 0, 9]), [8, 7, 3, 9]); }); });
'use strict'; class UnsavedFormsService { constructor() { this.forms = []; } add(form) { this.forms.push(form); } remove(form) { var index = this.forms.indexOf(form); this.forms.splice(index, 1); } areFormsClean() { let areAllFormsClean = true; for(let form of this.forms) { if (form.$dirty) { areAllFormsClean = false; } else { this.remove(form); } } return areAllFormsClean; } } function mmUnsavedFormWarningModal($modal, $state, UnsavedFormsService) { 'ngInject'; let directive = { require: '^form', restrict: 'A', scope:{ resetForm: '&mmUnsavedFormWarningModal' }, link: link }; return directive; function link(scope, element, attrs, formCtrl) { UnsavedFormsService.add(formCtrl); var onRouteChangeOff = scope.$on('$stateChangeStart', function(event, toState) { if (!UnsavedFormsService.areFormsClean()) { $modal.open({ templateUrl: 'unsavedWarningModal.html', controller: ['$modalInstance', '$state', function($modalInstance, $state) { var vm = this; vm.ok = function() { $modalInstance.close(); onRouteChangeOff(); $state.go(toState.name); UnsavedFormsService.remove(formCtrl); scope.resetForm(); }; vm.cancel = function() { $modalInstance.dismiss('cancel'); }; }], controllerAs: 'vm' }); event.preventDefault(); } }); } } export default angular.module('mm.unsavedFormWarningModal', []) .directive('mmUnsavedFormWarningModal', mmUnsavedFormWarningModal) .service('UnsavedFormsService', UnsavedFormsService);
function jqGridInclude() { var pathtojsfiles = "js/"; var modules = [ { include: true, incfile:'i18n/grid.locale-en.js'}, { include: true, incfile:'grid.base.js'}, { include: true, incfile:'grid.common.js'}, { include: true, incfile:'grid.formedit.js'}, { include: true, incfile:'grid.inlinedit.js'}, { include: true, incfile:'grid.celledit.js'}, { include: true, incfile:'grid.subgrid.js'}, { include: true, incfile:'grid.treegrid.js'}, { include: true, incfile:'grid.grouping.js'}, { include: true, incfile:'grid.custom.js'}, { include: true, incfile:'grid.tbltogrid.js'}, { include: true, incfile:'grid.import.js'}, { include: true, incfile:'jquery.fmatter.js'}, { include: true, incfile:'JsonXml.js'}, { include: true, incfile:'grid.jqueryui.js'}, { include: true, incfile:'grid.filter.js'} ]; var filename; for (var i = 0; i < modules.length; i++) { if (modules[i].include === true) { filename = pathtojsfiles + modules[i].incfile; if (jQuery.browser.safari) { jQuery.ajax({url:filename,dataType:'script', async:false, cache: true}); } else { if (jQuery.browser.msie) { document.write('<script charset="utf-8" type="text/javascript" src="' + filename + '"></script>'); } else { IncludeJavaScript(filename); } } } } function IncludeJavaScript(jsFile) { var oHead = document.getElementsByTagName('head')[0]; var oScript = document.createElement('script'); oScript.setAttribute('type', 'text/javascript'); oScript.setAttribute('language', 'javascript'); oScript.setAttribute('src', jsFile); oHead.appendChild(oScript); } } jqGridInclude();
var app = app || {}; app.TrackList = app.GenericCol.extend({ model: app.Track, url: function() { if(this.query) { return '/tracks?' + this.query; } return '/tracks'; }, initialize: function(options) { this.query = ''; if (options.query) { this.query = options.query; } }, comparator: function(track) { if(track.get('track')) { return track.get('track'); } }, search: function(letters){ if(letters === '') return this; var pattern = new RegExp(letters, 'gi'); return _(this.filter(function(data) { return pattern.test(data.get('title')) || pattern.test(data.get('path')); })); } });
'use strict'; angular.module('todoWebApp') .directive('ngEscape', function() { return function (scope, element, attrs) { element.bind('keydown keypress', function (event) { if(event.which === 27) { scope.$apply(function() { scope.$eval(attrs['ngEscape']); }); event.preventDefault(); } }); }; });
var lB = { el: '', t: '', getById: function(id) { this.el = document.getElementById(id); return this; }, dispatchFakeEvent: function (eventName) { this.el[eventName]++; }, bind: function (eventName, fct) { if (this.el.addEventListener) { this.el.addEventListener(eventName, fct, false); } else if (this.el.attachEvent) { if (!this.el[eventName]) { this.el[eventName] = 0; } this.el.attachEvent("onpropertychange", function(event){ if (event.propertyName == eventName) { fct(fct); } }); } }, trigger: function (eventName) { if (document.createEvent) { var ev = document.createEvent("Event"); ev.initEvent(eventName, true, true); this.el.dispatchEvent(ev); } else if (document.createEventObject) { this.dispatchFakeEvent(eventName); } }, swap: function (fireEvent) { var s = document.getElementById(this.t+"-source"); var t = document.getElementById(this.t+"-target"); if (t.style.display == "none") { if (t.getAttribute("data-moved") == undefined) { t.innerHTML = s.innerHTML; t.setAttribute("data-moved","true"); } t.style.display = "block"; if (fireEvent) { this.trigger("onLBShow"); } } else { t.style.display = "none"; if (fireEvent) { this.trigger("onLBHide"); } } }, toggle: function (others) { this.trigger("onLBStart"); this.t = this.el.id.substr(0,(this.el.id.length-5)); this.swap(true); if (typeof(others) === "object") { for (var i = 0, k = others.length; i < k; i++) { this.t = others[i]; this.swap(false); } } this.trigger("onLBComplete"); } };
{ init: function(elevators, floors) { function smartpush(floorNum) { if (elevator.destinationQueue.indexOf(floorNum) == -1) { elevator.destinationQueue.push(floorNum); } elevator.checkDestinationQueue(); }; var elevator = elevators[0]; elevator.on("idle", function() { console.log("idle " + elevator.destinationQueue); elevator.checkDestinationQueue(); }); elevator.on("floor_button_pressed", function(floorNum) { smartpush(floorNum); elevator.checkDestinationQueue(); }); floors.forEach(function(floor, floorNum) { floor.on("up_button_pressed", function() { console.log("up " + floor.floorNum()); smartpush(floor.floorNum()); elevator.checkDestinationQueue(); }) floor.on("down_button_pressed", function() { console.log("down " + floor.floorNum()); smartpush(floor.floorNum()); elevator.checkDestinationQueue(); }) }); elevator.on("passing_floor", function(floorNum, direction) { console.log("passing floor " + floorNum); if (elevator.getPressedFloors().indexOf(floorNum) > -1 || elevator.destinationQueue.indexOf(floorNum) > -1 ) { console.log("WOOT " + floorNum + " of " + elevator.getPressedFloors()); elevator.goToFloor(floorNum, true); } elevator.destinationQueue = elevator.destinationQueue.filter( function (value) { return (value != floorNum); } ); elevator.checkDestinationQueue(); }); elevator.on("stopped_at_floor", function(floorNum, direction) { if (elevator.getPressedFloors().indexOf(floorNum) > -1) { console.log("WOOT " + floorNum + " of " + elevator.getPressedFloors()); elevator.goToFloor(floorNum, true); } elevator.destinationQueue = elevator.destinationQueue.filter( function (value) { return (value != floorNum); } ); elevator.checkDestinationQueue(); }); }, update: function(dt, elevators, floors) { console.log("... dest queue is now " + elevators[0].destinationQueue); elevators[0].checkDestinationQueue(); } }
var LineBuffer = function(source) { var lines, line, s; if (typeof source === 'string') { var splits = source.split(/(\r\n|\r|\n|\f)/), len = splits.length; lines = []; for (var i = 0; i < len; i += 2) { lines.push(splits[i] + (splits[i+1]||"")); } } else { lines = source; } this.__defineGetter__("lineNum", function() { return line; }); this.__defineSetter__("lineNum", function(val) { line = val; s = lines[line-1]; }); this.__defineGetter__("line", function() { return s; }); this.__defineGetter__("length", function() { return lines.length; }); this.get = function(lineNum) { return lines[lineNum]; }; this.nextLine = function() { if (line >= lines.length) { return false; } s = lines[line]; line++; return true; }; this.reset = function() { line = 0; s = ""; }; this.reset(); };
define(function(require, exports, module) { "use strict"; var oop = require("../lib/oop"); var CssHighlightRules = require("./css_highlight_rules").CssHighlightRules; var JavaScriptHighlightRules = require("./javascript_highlight_rules").JavaScriptHighlightRules; var xmlUtil = require("./xml_util"); var TextHighlightRules = require("./text_highlight_rules").TextHighlightRules; var HtmlHighlightRules = function() { this.$rules = { start : [{ token : "text", merge : true, regex : "<\\!\\[CDATA\\[", next : "cdata" }, { token : "xml_pe", regex : "<\\?.*?\\?>" }, { token : "comment", merge : true, regex : "<\\!--", next : "comment" }, { token : "xml_pe", regex : "<\\!.*?>" }, { token : "meta.tag", regex : "<(?=\s*script\\b)", next : "script" }, { token : "meta.tag", regex : "<(?=\s*style\\b)", next : "style" }, { token : "meta.tag", regex : "<\\/?", next : "tag" }, { token : "text", regex : "\\s+" }, { token : "constant.character.entity", regex : "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)" }, { token : "text", regex : "[^<]+" } ], cdata : [ { token : "text", regex : "\\]\\]>", next : "start" }, { token : "text", merge : true, regex : "\\s+" }, { token : "text", merge : true, regex : ".+" } ], comment : [ { token : "comment", regex : ".*?-->", next : "start" }, { token : "comment", merge : true, regex : ".+" } ] }; xmlUtil.tag(this.$rules, "tag", "start"); xmlUtil.tag(this.$rules, "style", "css-start"); xmlUtil.tag(this.$rules, "script", "js-start"); this.embedRules(JavaScriptHighlightRules, "js-", [{ token: "comment", regex: "\\/\\/.*(?=<\\/script>)", next: "tag" }, { token: "meta.tag", regex: "<\\/(?=script)", next: "tag" }]); this.embedRules(CssHighlightRules, "css-", [{ token: "meta.tag", regex: "<\\/(?=style)", next: "tag" }]); }; oop.inherits(HtmlHighlightRules, TextHighlightRules); exports.HtmlHighlightRules = HtmlHighlightRules; });
﻿ CKEDITOR.plugins.setLang( 'colorbutton', 'el', { auto: 'Αυτόματα', bgColorTitle: 'Χρώμα Φόντου', colors: { '000': 'Μαύρο', '800000': 'Maroon', '8B4513': 'Saddle Brown', '2F4F4F': 'Dark Slate Gray', '008080': 'Teal', '000080': 'Navy', '4B0082': 'Indigo', '696969': 'Dark Gray', B22222: 'Fire Brick', A52A2A: 'Brown', DAA520: 'Golden Rod', '006400': 'Dark Green', '40E0D0': 'Turquoise', '0000CD': 'Medium Blue', '800080': 'Μώβ', '808080': 'Γκρί', F00: 'Red', FF8C00: 'Dark Orange', FFD700: 'Gold', '008000': 'Green', '0FF': 'Cyan', '00F': 'Blue', EE82EE: 'Violet', A9A9A9: 'Dim Gray', FFA07A: 'Light Salmon', FFA500: 'Orange', FFFF00: 'Yellow', '00FF00': 'Lime', AFEEEE: 'Pale Turquoise', ADD8E6: 'Light Blue', DDA0DD: 'Plum', D3D3D3: 'Light Grey', FFF0F5: 'Lavender Blush', FAEBD7: 'Antique White', FFFFE0: 'Light Yellow', F0FFF0: 'Honeydew', F0FFFF: 'Azure', F0F8FF: 'Alice Blue', E6E6FA: 'Lavender', FFF: 'White' }, more: 'Περισσότερα χρώματα...', panelTitle: 'Χρώματα', textColorTitle: 'Χρώμα Κειμένου' });
require("mode.js"); define_variable("daemon_quit_exits", true, "This variable controls whether the `quit' command will exit "+ "the program or only close windows when daemon-mode is enabled. "+ "The default is true, meaning that the `quit' command will exit "+ "the program."); function daemon_quit_hook_fn () { if (daemon_quit_exits) daemon_mode(-1); } define_global_mode("daemon_mode", function () { Cc["@mozilla.org/toolkit/app-startup;1"] .getService(Ci.nsIAppStartup) .enterLastWindowClosingSurvivalArea(); add_hook("quit_hook", daemon_quit_hook_fn); }, function () { Cc["@mozilla.org/toolkit/app-startup;1"] .getService(Ci.nsIAppStartup) .exitLastWindowClosingSurvivalArea(); remove_hook("quit_hook", daemon_quit_hook_fn); }); require_later("command-line.js"); call_after_load("command-line", function () { command_line_handler("daemon", true, function () { daemon_mode(true); var window = make_chrome_window(conkeror_chrome_uri); window.setTimeout(function () { window.close(); }, 0); }); }); provide("daemon");
;(function(){ 'use strict'; window.Application.register('administration'); }).call(this);
var Trigger = React.createClass({displayName: "Trigger", render: function() { if (!this.props.showTrigger) { return null; } return ( React.createElement("button", { className: this.props.className, onClick: this.props.onClick, type: "button"}, this.props.triggerText ) ); } }); module.exports = Trigger;
ControllerDrag = function(selector, start, end){ this.object = $(selector); this.start = start; this.end = end; this.container = ""; this.width = 0; this.startX = 0; this.startY = 0; }; ControllerDrag.prototype = new JarallaxController(); ControllerDrag.prototype.activate = function(jarallax){ JarallaxController.prototype.activate.call(this, jarallax); this.container = "#scrollbar"; this.object.draggable({containment:this.container, axis: 'x'}); this.object.bind("drag", {scope: this}, this.onDrag); this.container = $(this.container); this.width = $(this.container).innerWidth() - this.object.outerWidth(); }; ControllerDrag.prototype.onDrag = function(event){ var controller = event.data.scope; if (controller.isActive) { var x = parseInt($(this).css('left'), 10); var position = (x / event.data.scope.width); event.data.scope.jarallax.setProgress(position); } }; ControllerDrag.prototype.deactivate = function(jarallax){ JarallaxController.prototype.deactivate.call(this, jarallax); this.object.unbind('drag'); this.object.draggable('destroy'); }; ControllerDrag.prototype.update = function(progress){ this.object.css('left', progress * this.width); };
var config = require("config3"); function setup(app) { if (!config.errorPages) { return; } app.get(/error(\d+)/, function(req, res) { var code = parseInt(req.params[0], 10); res.status(code); if (code > 499) { res.render("errors/error500"); } else { res.render("errors/error404"); } }); } module.exports = setup;
(function (window, $, Handsontable) { $.fn.handsontable = function (action) { var i , ilen , args , output , userSettings , $this = this.first() , instance = $this.data('handsontable'); if (typeof action !== 'string') { userSettings = action || {}; if (instance) { instance.updateSettings(userSettings); } else { instance = new Handsontable.Core($this[0], userSettings); $this.data('handsontable', instance); instance.init(); } return $this; } else { args = []; if (arguments.length > 1) { for (i = 1, ilen = arguments.length; i < ilen; i++) { args.push(arguments[i]); } } if (instance) { if (typeof instance[action] !== 'undefined') { output = instance[action].apply(instance, args); if (action === 'destroy'){ $this.removeData(); } } else { throw new Error('Handsontable do not provide action: ' + action); } } return output; } }; })(window, $, Handsontable);
require("walnut"); walnut_run({ suite_setup: function () { this.completer = new all_word_completer( $completions = ["the quick brown fox", "jumped over", "the lazy dog's tail"]); }, test_all_word_completer_1: function () { var completions = this.completer.complete("he", 2, false); assert_equals(completions.count, 2); assert_equals(completions.get_value(0), "the quick brown fox"); assert_equals(completions.get_value(1), "the lazy dog's tail"); }, test_all_word_completer_2: function () { var completions = this.completer.complete("ic he", 2, false); assert_equals(completions.count, 1); assert_equals(completions.get_value(0), "the quick brown fox"); } }); walnut_run({ suite_setup: function () { this.completer = new prefix_completer( $completions = ["the quick brown fox", "jumped over", "the lazy dog's tail"]); }, test_prefix_completer_1: function () { var completions = this.completer.complete("the", 2, false); assert_equals(completions.count, 2); assert_equals(completions.get_value(0), "the lazy dog's tail"); assert_equals(completions.get_value(1), "the quick brown fox"); } }); walnut_run({ suite_setup: function () { var scope = { a: 1, b: 2, c: 3, foo: 4, bar: 5, baz: 6, quux: 7 }; this.completer = new javascript_completer(scope); }, test_javascript_completer_1: function () { var completions = this.completer.complete("a", 1, false); assert_equals(completions.count, 1); }, test_javascript_completer_2: function () { var completions = this.completer.complete("b", 1, false); assert_equals(completions.count, 3); }, test_javascript_completer_3: function () { var completions = this.completer.complete("ba", 2, false); assert_equals(completions.count, 2); } });
jQuery(function($) { $.datepicker.regional['en-NZ'] = { closeText: 'Done', prevText: 'Prev', nextText: 'Next', currentText: 'Today', monthNames: ['January','February','March','April','May','June', 'July','August','September','October','November','December'], monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'], dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'], dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'], dayNamesMin: ['Su','Mo','Tu','We','Th','Fr','Sa'], weekHeader: 'Wk', dateFormat: 'dd/mm/yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['en-NZ']); });
require("../env"); require("../../d3"); require("../../d3.layout"); var vows = require("vows"), assert = require("assert"); var suite = vows.describe("d3.layout.hierarchy"); suite.addBatch({ "hierarchy": { topic: function() { return d3.layout.treemap(); }, "doesn't overwrite the value of a node that has an empty children array": function(hierarchy) { var nodes = hierarchy.sticky(true).nodes({value: 1, children: []}); assert.equal(nodes[0].value, 1); hierarchy.nodes(nodes[0]); assert.equal(nodes[0].value, 1); }, "a valueless node that has an empty children array gets a value of 0": function(hierarchy) { var nodes = hierarchy.sticky(true).nodes({children: []}); assert.equal(nodes[0].value, 0); hierarchy.nodes(nodes[0]); assert.equal(nodes[0].value, 0); } } }); suite.export(module);
module.exports = process.platform === "linux" ? require("./watch-tree-unix") : require("./watch-tree-generic");
$( document ).on("pagecreate", "#registrationPage", function() { $( "form" ).submit(function () { $.mobile.loading( 'show' ); $.ajax({ url: "http: type: "POST", dataType: "jsonp", jsonp: "jsoncallback", data: $("form#register").serialize(), success: function( response ) { $( "body" ).pagecontainer( "change", "register-thanks.html", { data: {"email": response.email} }); }, error: function( jqXHR, textStatus, errorThrown ) { $.mobile.loading( 'hide' ); console.log('Status: ' + textStatus + "\nError: " + errorThrown); } }); return false; }); }); $( document ).on("pagebeforecreate", "#thanksPage", function() { var email = getParameterByName( "email", $( this ).jqmData( "url" )); $( ".email" ).append(email); }); function getParameterByName(param, url) { var match = RegExp('[?&]' + param + '=([^&]*)').exec(url); return match && decodeURIComponent(match[1].replace(/\+/g, ' ')); }
var _containsWith = require('./internal/_containsWith'); var _curry2 = require('./internal/_curry2'); module.exports = _curry2(function uniqWith(pred, list) { var idx = -1, len = list.length; var result = [], item; while (++idx < len) { item = list[idx]; if (!_containsWith(pred, item, result)) { result[result.length] = item; } } return result; });
var Client = new require('../../../../lib/pkgcloud/core/base/client').Client; var helpers = require('../../../helpers'); var client = helpers.createClient('azure', 'compute'); var options = {}; client.getServers(function(err, result) { if(err) { console.log(err); } else { console.dir(result); } });
define([ 'jquery', 'angular', 'angular-mocks', 'jasmine-jquery', 'modules/myPage2/app' ], function() { "use strict"; var $scope, $controller, $window, myPage2Controller; describe('myPage controller:', function(){ function createController(){ myPage2Controller = $controller('myPage2Controller', { $scope: $scope }); $scope.$digest(); } beforeEach(module('myPage2', function($provide){ $provide.value('$window', { location: { search: '?queryValue=something' }, document: window.document }); })); beforeEach(inject(function($injector) { $scope = $injector.get('$rootScope'); $controller = $injector.get('$controller'); $window = $injector.get('$window'); })); it("should properly set the queryValue based on the query string", function(){ createController(); expect($scope.queryValue).toBe("something"); }); }); });
var _ = require('underscore'); var parley = require('parley'); var assert = require("assert"); var bootstrap = { init: initialize, teardown: teardown, initWithAdapter: function (adapter) { _.map(bootstrap.collections,function (collection) { collection.adapter = adapter; }); return initialize; } }; before(bootstrap.init); after(bootstrap.teardown); function initialize (done) { bootstrap.waterline = require("../../lib/waterline/waterline.js"); var collections = require('../../lib/loader.js').required({ dirname : __dirname + '/collections', filter : /(.+)\.js$/ }); bootstrap.waterline({ collections: collections, appPath: __dirname + "/../../", log: blackhole }, function (err, waterlineData){ bootstrap.adapters = waterlineData.adapters; bootstrap.collections = waterlineData.collections; done(err); }); } function teardown (done) { bootstrap.waterline.teardown(done); } var blackhole = _.extend(function () {},{ verbose: function (){}, info: function (){}, debug: function (){}, warn: function (){}, error: function (){} });
d3.geo.mercator = function() { var scale = 500, translate = [480, 250]; function mercator(coordinates) { var x = coordinates[0] / 360, y = -(Math.log(Math.tan(Math.PI / 4 + coordinates[1] * d3_geo_radians / 2)) / d3_geo_radians) / 360; return [ scale * x + translate[0], scale * Math.max(-.5, Math.min(.5, y)) + translate[1] ]; } mercator.invert = function(coordinates) { var x = (coordinates[0] - translate[0]) / scale, y = (coordinates[1] - translate[1]) / scale; return [ 360 * x, 2 * Math.atan(Math.exp(-360 * y * d3_geo_radians)) / d3_geo_radians - 90 ]; }; mercator.scale = function(x) { if (!arguments.length) return scale; scale = +x; return mercator; }; mercator.translate = function(x) { if (!arguments.length) return translate; translate = [+x[0], +x[1]]; return mercator; }; return mercator; };
module.exports = function handleGlobalError (err) { var compiler = this; return compiler.config.get("errorHandler")(err, compiler); };
;(function(){ 'use strict'; var inflect = require('inflection'); var _str = require('underscore.string'); var Stringify = module.exports Stringify.str = str; function str(){ return { simple: simple, multi:multi } function simple(name){ var names = {}; names.slug = _str.slugify(name); names.classed = _str.classify(names.slug); names.humanized = _str.humanize(names.slug); names.camelized = _str.camelize(names.slug); return names; } function multi(name){ var names = {}; names.single = {}; names.plural = {}; names.slug = _str.slugify(name); names.single.slug = inflect.singularize(names.slug); names.single.camel = _str.camelize(names.single.slug); names.single.classed = _str.classify(names.single.slug); names.single.humanized = _str.humanize(names.single.slug) names.plural.slug = inflect.pluralize(names.single.slug); names.plural.camel = _str.camelize(names.plural.slug); names.plural.classed = _str.classify(names.plural.slug); names.plural.humanized = _str.humanize(names.plural.slug); return names; } } }).call(this);
"use strict"; require("amd-loader"); var test = require("asyncjs").test; test.walkTestCases(__dirname + "/..").exec();
var JSJaCBuilder = { buildNode: function(doc, elementName) { var element, ns = arguments[4]; if(arguments[2]) if(JSJaCBuilder._isStringOrNumber(arguments[2]) || (arguments[2] instanceof Array)) { element = this._createElement(doc, elementName, ns); JSJaCBuilder._children(doc, element, arguments[2]); } else { ns = arguments[2]['xmlns'] || ns; element = this._createElement(doc, elementName, ns); for(var attr in arguments[2]) { if (arguments[2].hasOwnProperty(attr) && attr != 'xmlns') element.setAttribute(attr, arguments[2][attr]); } } else element = this._createElement(doc, elementName, ns); if(arguments[3]) JSJaCBuilder._children(doc, element, arguments[3], ns); return element; }, _createElement: function(doc, elementName, ns) { try { if (ns) return doc.createElementNS(ns, elementName); } catch (ex) { } var el = doc.createElement(elementName); if (ns) el.setAttribute("xmlns", ns); return el; }, _text: function(doc, text) { return doc.createTextNode(text); }, _children: function(doc, element, children, ns) { if(typeof children=='object') { for (var i in children) { if (children.hasOwnProperty(i)) { var e = children[i]; if (typeof e=='object') { if (e instanceof Array) { var node = JSJaCBuilder.buildNode(doc, e[0], e[1], e[2], ns); element.appendChild(node); } else { element.appendChild(e); } } else { if(JSJaCBuilder._isStringOrNumber(e)) { element.appendChild(JSJaCBuilder._text(doc, e)); } } } } } else { if(JSJaCBuilder._isStringOrNumber(children)) { element.appendChild(JSJaCBuilder._text(doc, children)); } } }, _attributes: function(attributes) { var attrs = []; for(var attribute in attributes) if (attributes.hasOwnProperty(attribute)) attrs.push(attribute + '="' + attributes[attribute].toString().htmlEnc() + '"'); return attrs.join(" "); }, _isStringOrNumber: function(param) { return(typeof param=='string' || typeof param=='number'); } };
'use strict'; var ps = require('../main'); if (typeof define === 'function' && define.amd) { define(ps); } else { window.PerfectScrollbar = ps; if (typeof window.Ps === 'undefined') { window.Ps = ps; } }
function RapidSoundsSample(context) { var ctx = this; var loader = new BufferLoader(context, ['sounds/m4a1.mp3', 'sounds/m1-garand.mp3'], onLoaded); function onLoaded(buffers) { ctx.buffers = buffers; }; loader.load(); this.isCompressed = true; } RapidSoundsSample.prototype.shootRound = function(type, rounds, interval, random, random2) { if (typeof random == 'undefined') { random = 0; } var time = context.currentTime; for (var i = 0; i < rounds; i++) { var source = this.makeSource(this.buffers[type]); if (random2) source.playbackRate.value = 1 + Math.random() * random2; source[source.start ? 'start' : 'noteOn'](time + i * interval + Math.random() * random); } } RapidSoundsSample.prototype.makeSource = function(buffer) { var source = context.createBufferSource(); var gain = context.createGain(); gain.gain.value = 0.2; source.buffer = buffer; source.connect(gain); if (this.isCompressed) { var compressor = context.createDynamicsCompressor(); compressor.threshold.value = 10; compressor.ratio.value = 20; compressor.reduction.value = -20; gain.connect(compressor); compressor.connect(context.destination); } else { gain.connect(context.destination); } return source; }; RapidSoundsSample.prototype.toggleCompressor = function() { this.isCompressed = !this.isCompressed; }
var Stomp = require('stompjs'); exports.init = function (url, topic, onMessage) { var client; var RECONNECT_DELAY = 1000 * 30; var timeoutID; function onConnect() { console.log('Subscribing to ' + topic); client.subscribe(topic, topicHandler); } function onError(error) { console.log('Error:', error.code); clearTimeout(timeoutID); setTimeout(connect, RECONNECT_DELAY); } function topicHandler(data) { if (data.command === 'MESSAGE') { onMessage(data.body); clearTimeout(timeoutID); timeoutID = setTimeout(connect, RECONNECT_DELAY); } } function connect() { client = Stomp.overWS(url); client.debug = function (message) { }; console.log('Connecting to ' + url); client.connect(null, null, onConnect, onError); clearTimeout(timeoutID); timeoutID = setTimeout(connect, RECONNECT_DELAY); } connect(); };
﻿var canvas = document.getElementById('canvas'); var context = canvas.getContext('2d'); var canvas_bg = document.getElementById('canvas_bg'); var context_bg = canvas_bg.getContext('2d'); var ball; var t; var t0; var dt; var animId; var graphDisp; var graphVelo; var force; var acc; var y0 = 20; var m = 1; var g = 10; var k = 0.5; var animTime = 25; window.onload = init; function init() { ball = new Ball(15,'#000000',m,0,true); ball.pos2D = new Vector2D(75,y0); ball.velo2D=new Vector2D(0,0); ball.draw(context); setupGraphs(); t0 = new Date().getTime(); t = 0; animFrame(); }; function setupGraphs(){ graphDisp= new Graph(context_bg,0,30,0,500,150,300,600,250); graphDisp.drawgrid(5,1,100,20); graphDisp.drawaxes('time (s)','displacement (px)'); graphVelo = new Graph(context_bg,0,30,0,25,150,550,600,200); graphVelo.drawgrid(5,1,5,1); graphVelo.drawaxes('time (s)','velocity (px/s)'); } function animFrame(){ animId = requestAnimationFrame(animFrame,canvas); onTimer(); } function onTimer(){ var t1 = new Date().getTime(); dt = 0.001*(t1-t0); t0 = t1; if (dt>0.2) {dt=0;}; t += dt; if (t < animTime){ move(); }else{ stop(); } } function move(){ moveObject(); calcForce(); updateAccel(); updateVelo(); plotGraphs(); } function moveObject(){ ball.pos2D = ball.pos2D.addScaled(ball.velo2D,dt); context.clearRect(0, 0, canvas.width, canvas.height); ball.draw(context); } function calcForce(){ var gravity = Forces.constantGravity(m,g); var drag = Forces.linearDrag(k,ball.velo2D); force = Forces.add([gravity, drag]); } function updateAccel(){ acc = force.multiply(1/m); } function updateVelo(){ ball.velo2D = ball.velo2D.addScaled(acc,dt); } function plotGraphs(){ graphDisp.plot([t], [ball.y-y0], '#ff0000'); graphDisp.plot([t], [m*g/k*(t+m/k*Math.exp(-k/m*t)-m/k)], '#0000ff'); graphVelo.plot([t], [ball.vy], '#ff0000'); graphVelo.plot([t], [m*g/k*(1-Math.exp(-k/m*t))], '#0000ff'); } function stop(){ cancelAnimationFrame(animId); }
;(function(){ 'use strict'; var mongoose = require('mongoose'), Schema = mongoose.Schema; var <%= names.single.classed %>Schema = new Schema({ }); module.exports = mongoose.model('<%= names.single.classed %>', <%= names.single.classed %>Schema); }).call(this);
(function($) { if ($.jQTouch) { function bindGesture(options) { var end_scale, end_rotation, settings, end_scale, rotation = 0; settings = { element: $('#gesture_test'), onGestureStart: null, onGestureChange: null, onGestureEnd: null, }; settings = $.extend({}, settings, options); settings.element .bind('gesturestart', function(e) { e.originalEvent.preventDefault(); if (settings.onGestureStart) settings.onGestureStart(getScale(e, end_scale), getRotation(e, rotation), e, settings.element); }) .bind('gesturechange', function(e) { if (settings.onGestureChange) settings.onGestureChange(getScale(e, end_scale), getRotation(e, rotation), e, settings.element); }) .bind('gestureend', function(e) { end_scale = e.originalEvent.scale; rotation = (e.originalEvent.rotation + rotation) % 360; if (settings.onGestureEnd) settings.onGestureEnd(getScale(e, end_scale), getRotation(e, rotation), e, settings.element); }); } function getRotation(event, current_rotation) { return event.originalEvent.rotation + current_rotation; } function getScale(event, current_scale) { return event.originalEvent.scale + current_scale; } $.fn.bindGestures = function(obj) { obj.element = this; bindGesture(obj); }; } })(jQuery);
var _ = require('lodash'); var reduce = require('../..').reduce; var nums = [8, 2, 85, 2, 34, 3, 23, 247, 57, 8, 0, 6, 5, 46, 54, 643]; function add(acc, x) { return acc + x; } var reduceAdd = reduce(add, 0); module.exports = { name: 'reduce', tests: { '_.reduce(nums, add, 0)': function() { _.reduce(nums, add, 0); }, 'reduce(add, 0, nums)': function() { reduce(add, 0, nums); }, 'reduce(add, 0)(nums)': function() { reduce(add, 0)(nums); }, 'reduceAdd(nums)': function() { reduceAdd(nums); } } };
$(document).ready(function() { var pagerOptions = { container: $('.pager'), output: '{startRow} - {endRow} / {filteredRows} ({totalRows})', fixedHeight: true, removeRows: false, cssGoto: '.gotoPage' }; $('.tablesorter-bootstrap').tablesorter({ debug: false, theme: 'bootstrap', widthFixed: true, widgets: ['filter'] }).tablesorterPager(pagerOptions); if (jQuery().bootstrapSwitch){ $('.bootstrapswitch').bootstrapSwitch(); } else { console.error("The bootstrap-switch plugin has not been added."); } if (jQuery().select2){ $('.select2').select2(); } else { console.error("The select2 plugin has not been added."); } if (jQuery().formValidation){ $('form').formValidation({ live: 'enabled', message: 'This value is not valid', button: { selector: '[type="submit"]' } }); } });
mySettings = { nameSpace: "txt2tags", previewParserPath: '', onShiftEnter: {keepDefault:false, replaceWith:'\n\n'}, markupSet: [ {name:'Heading 1', key:'1', openWith:'= ', closeWith:' =', placeHolder:'Your title here...' }, {name:'Heading 2', key:'2', openWith:'== ', closeWith:' ==', placeHolder:'Your title here...' }, {name:'Heading 3', key:'3', openWith:'=== ', closeWith:' ===', placeHolder:'Your title here...' }, {name:'Heading 4', key:'4', openWith:'==== ', closeWith:' ====', placeHolder:'Your title here...' }, {name:'Heading 5', key:'5', openWith:'===== ', closeWith:' =====', placeHolder:'Your title here...' }, {separator:'---------------' }, {name:'Bold', key:'B', openWith:'**', closeWith:'**'}, {name:'Italic', key:'I', openWith:' {name:'Underline', key:'U', openWith:'__', closeWith:'__'}, {name:'Strike', key:'S', openWith:'--', closeWith:'--'}, {separator:'---------------' }, {name:'Bulleted list', openWith:'- '}, {name:'Numeric list', openWith:'+ '}, {separator:'---------------' }, {name:'Picture', key:'P', openWith:'[', closeWith:']', placeHolder:'Your picture here...'}, {name:'Link', key:'L', openWith:'[', closeWith:' [![Link:!:http: {separator:'---------------'}, {name:'Quote', openWith:'\t'}, {name:'Code', openWith:'``', closeWith:'``'}, {name:'Raw', key:'R', openWith:'""', closeWith:'""', placeHolder:'No txt2tags in here!'}, {separator:'---------------' }, {name:'Preview', call:'preview', className:'preview'} ] }
(function() { var chai = require('chai'), should = chai.should(), expect = chai.expect, sinon = require('sinon'); var MapQuestGeocoder = require('../../lib/geocoder/openmapquestgeocoder.js'); var HttpAdapter = require('../../lib/httpadapter/httpadapter.js'); var mockedHttpAdapter = { get: function() {} }; describe('MapQuestGeocoder', function() { describe('#constructor' , function() { it('an http adapter must be set', function() { expect(function() {new MapQuestGeocoder();}).to.throw(Error, 'OpenMapQuestGeocoder need an httpAdapter'); }); it('an apiKey must be set', function() { expect(function() {new MapQuestGeocoder(mockedHttpAdapter);}).to.throw(Error, 'OpenMapQuestGeocoder needs an apiKey'); }); it('Should be an instance of MapQuestGeocoder', function() { var mapquestAdapter = new MapQuestGeocoder(mockedHttpAdapter, 'API_KEY'); mapquestAdapter.should.be.instanceof(MapQuestGeocoder); }); }); describe('#geocode' , function() { it('Should not accept IPv4', function() { var mapquestAdapter = new MapQuestGeocoder(mockedHttpAdapter, 'API_KEY'); expect(function() { mapquestAdapter.geocode('127.0.0.1'); }).to.throw(Error, 'OpenMapQuestGeocoder does not support geocoding IPv4'); }); it('Should not accept IPv6', function() { var mapquestAdapter = new MapQuestGeocoder(mockedHttpAdapter, 'API_KEY'); expect(function() { mapquestAdapter.geocode('2001:0db8:0000:85a3:0000:0000:ac1f:8001'); }).to.throw(Error, 'OpenMapQuestGeocoder does not support geocoding IPv6'); }); }); describe('#reverse' , function() { it('Should call httpAdapter get method', function() { var mock = sinon.mock(mockedHttpAdapter); mock.expects('get').once().returns({then: function() {}}); var mapquestAdapter = new MapQuestGeocoder(mockedHttpAdapter, 'API_KEY'); mapquestAdapter.reverse({lat:10.0235,lon:-2.3662}); mock.verify(); }); }); }); })();
var _eq = require('./_eq'); module.exports = function _lastIndexOf(list, item, from) { var idx = list.length; if (typeof from == 'number') { idx = from < 0 ? idx + from + 1 : Math.min(idx, from + 1); } while (--idx >= 0) { if (_eq(list[idx], item)) { return idx; } } return -1; };
var http = require('http'); var fs = require('fs'); var assert = require('assert'); var snippetsServer = "snippets.c9.io"; function checkScript(ghFile) { var options = { host: snippetsServer, path: ghFile, method: 'GET' }; function checkStatus(response) { assert.notEqual(response.statusCode, 404, "Couldn't find " + options.path + "!"); } http.request(options, checkStatus).end(); } var walk = function(dir, done) { var results = []; fs.readdir(dir, function(err, list) { if (err) return done(err); var pending = list.length; if (!pending) return done(null, results); list.forEach(function(file) { file = dir + '/' + file; fs.stat(file, function(err, stat) { if (stat && stat.isDirectory()) { walk(file, function(err, res) { results = results.concat(res); if (!--pending) done(null, results); }); } else { var readStream = fs.ReadStream(file); readStream.setEncoding('ascii'); readStream.on('data', function(textData) { var snippetsLoc = textData.indexOf("<script src='http: if (snippetsLoc >= 0) { var snippetsHTMLArray = textData.match(/<script src=['"]+[http: if (snippetsHTMLArray !== null) { snippetsHTMLArray.forEach(function (element, index, array) { var ghFile = element.split(snippetsServer)[1]; ghFile = ghFile.substr(0, ghFile.length-1); checkScript(ghFile); }); } } }); } }); }); }); }; walk("../src/");
var GoogleSpreadsheet = require("../index.js"); var testsheet = new GoogleSpreadsheet( "0Araic6gTol6SdGtyUVAzQmVLM0lxUWlBMkNraWVubUE"); testsheet.getInfo( function(err, ss_info){ if (err) console.log( err ); console.log( ss_info.title + ' is loaded' ); ss_info.worksheets[0].getRows( function(err, rows){ console.log( ss_info.worksheets[0].title + ' has '+rows.length + 'rows' ); }); }); testsheet.setAuth( 'youremail@gmail.com', '*PASSWORD*', function(err){ if (err) console.log(err); console.log(' GOOGLE AUTH SUCCESS!' ); testsheet.addRow( 1, { testdate: ( new Date() ).toString('yyyy-MM-dd'), testnum: 0 }) testsheet.getRows( 2, function(err, rows){ if (err) console.log( err ); rows[0].testnum++; rows[0].save(); }); })
jQuery(function($) { $.datepicker.regional['id'] = { closeText: 'Tutup', prevText: '&#x3c;mundur', nextText: 'maju&#x3e;', currentText: 'hari ini', monthNames: ['Januari','Februari','Maret','April','Mei','Juni', 'Juli','Agustus','September','Oktober','Nopember','Desember'], monthNamesShort: ['Jan','Feb','Mar','Apr','Mei','Jun', 'Jul','Agus','Sep','Okt','Nop','Des'], dayNames: ['Minggu','Senin','Selasa','Rabu','Kamis','Jumat','Sabtu'], dayNamesShort: ['Min','Sen','Sel','Rab','kam','Jum','Sab'], dayNamesMin: ['Mg','Sn','Sl','Rb','Km','jm','Sb'], weekHeader: 'Mg', dateFormat: 'dd/mm/yy', firstDay: 0, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['id']); });
var assert = require("lib/assert"); exports['test module transitive'] = function() { assert.equal(require("a").foo(), 1); };
﻿ jQuery(function($){ $.datepicker.regional['fr'] = { closeText: 'Fermer', prevText: '&#x3c;Préc', nextText: 'Suiv&#x3e;', currentText: 'Courant', monthNames: ['Janvier','Février','Mars','Avril','Mai','Juin', 'Juillet','Août','Septembre','Octobre','Novembre','Décembre'], monthNamesShort: ['Jan','Fév','Mar','Avr','Mai','Jun', 'Jul','Aoû','Sep','Oct','Nov','Déc'], dayNames: ['Dimanche','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi'], dayNamesShort: ['Dim','Lun','Mar','Mer','Jeu','Ven','Sam'], dayNamesMin: ['Di','Lu','Ma','Me','Je','Ve','Sa'], weekHeader: 'Sm', dateFormat: 'dd/mm/yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['fr']); });
define_fallthrough(content_buffer_embed_keymap, match_not_escape_key); define_key(content_buffer_embed_keymap, match_not_escape_key, null, $fallthrough);
(function(){ 'use strict'; var path = require('path'), root = path.join(__dirname+'', '../../../'), fs = require('fs'); var indexer = module.exports; indexer.all = all; function all( dir, passed){ dir = path.join( root, dir ); var dirs = fs.readdirSync(dir); dirs.forEach(function ( item, index ){ var req = path.join( dir, item ); dirs[index] = { path:req, name:item }; }) return dirs } })()
var spawn = require('child_process').spawn; var http = require('http'); var copy = require('shallow-copy'); var parse_cmd = require('shell-quote').parse; var debug = require('debug')('zuul:user-server'); module.exports = function(server, callback) { debug('user server: %s', server); var cmd; var cwd; var wait = 0; if (server !== null && server.cmd) { cmd = server.cmd; cwd = server.cwd; wait = server.wait; } else { cmd = server; } if (!cwd) { cwd = process.cwd(); } var env = copy(process.env); get_open_port(function(port) { if (!Array.isArray(cmd)) { cmd = parse_cmd(cmd, { ZUUL_PORT: port }); } if (/\.js$/.test(cmd[0])) { cmd.unshift(process.execPath); } env.ZUUL_PORT = port; debug('user server port %d', port); var ps = spawn(cmd[0], cmd.slice(1), { cwd: cwd, env: env }); ps.stdout.pipe(process.stdout); ps.stderr.pipe(process.stderr); function exit() { ps.kill('SIGTERM'); } ps.once('exit', function (code) { debug('user server exited with status: %d', code); process.removeListener('exit', exit); }); process.on('exit', exit); return setTimeout(function(){ callback({ port: port, process: ps }); }, wait); }); }; function get_open_port(callback) { var server = http.createServer(); server.listen(0); server.on('listening', function() { var port = server.address().port; server.close(function() { callback(port); }); }); }
window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || (function () { var requests = {}, TARGET_FPS = 60, raf_handle = 1, timeout_handle = -1; function isVisible(element) { return element.offsetWidth > 0 && element.offsetHeight > 0; } window.requestAnimationFrame = function requestAnimationFrame(callback, element) { var cb_handle = raf_handle; raf_handle = raf_handle + 1; requests[cb_handle] = {callback: callback, element: element}; if (timeout_handle === -1) { timeout_handle = setTimeout(function () { var cur_requests = requests, time = +new Date(), keys = Object.keys(cur_requests), len = keys.length, i, request; requests = {}; timeout_handle = -1; for (i = 0; i < len; i += 1) { request = cur_requests[keys[i]]; if (!request.element || isVisible(request.element)) { request.callback(time); } } }, 1000 / TARGET_FPS); } return cb_handle; }; window.cancelRequestAnimationFrame = function cancelRequestAnimationFrame(handle) { delete requests[handle]; if (Object.keys(requests).length === 0) { clearTimeout(timeout_handle); timeout_handle = -1; } }; return window.requestAnimationFrame; }()); window.cancelRequestAnimationFrame = window.cancelRequestAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame;
var assert = require('assert'), path = require('path'), vows = require('vows'), macros = require('./helpers/macros'), utile = require('../'); var fixture = path.join(__dirname, 'fixtures', 'read-json-file', 'config.json'); vows.describe('utile/file').addBatch({ 'When using utile': { 'the `.file.readJson()` function': { topic: function () { utile.file.readJson(fixture, this.callback); }, 'should return correct JSON structure': macros.assertReadCorrectJson }, 'the `.file.readJsonSync()` function': { topic: utile.file.readJsonSync(fixture), 'should return correct JSON structure': macros.assertReadCorrectJson } } }).export(module);
jQuery(function($) { $.datepicker.regional.nl = { closeText: 'Sluiten', prevText: '←', nextText: '→', currentText: 'Vandaag', monthNames: ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december'], monthNamesShort: ['jan', 'feb', 'mrt', 'apr', 'mei', 'jun', 'jul', 'aug', 'sep', 'okt', 'nov', 'dec'], dayNames: ['zondag', 'maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag', 'zaterdag'], dayNamesShort: ['zon', 'maa', 'din', 'woe', 'don', 'vri', 'zat'], dayNamesMin: ['zo', 'ma', 'di', 'wo', 'do', 'vr', 'za'], weekHeader: 'Wk', dateFormat: 'dd-mm-yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional.nl); });
var db = require('../db'); var async = require('async'); var queueReq = require('../operations').queueReq; module.exports = function(cb) { db.matches.distinct('players.account_id', {}, function(err, array) { if (err) { return cb(err); } var filtered = []; async.mapSeries(array, function(id, cb) { var player = { account_id: id }; db.players.find(player, function(err, docs) { if (!docs.length) { filtered.push(player); } cb(err); }); }, function(err) { if (err) { return cb(err); } array = filtered; var chunk = 100; var chunks = []; for (var i = 0; i < array.length; i += chunk) { var temp = array.slice(i, i + chunk); chunks.push(temp); } async.mapSeries(chunks, function(chunk, cb) { var summaries = { summaries_id: new Date(), players: chunk }; queueReq("api_summaries", summaries, function(err) { cb(err); }); }, function(err) { cb(err, array.length); }); }); }); };
define([ 'dojo/_base/declare', 'dijit/_WidgetBase', 'dijit/_TemplatedMixin', 'dijit/_WidgetsInTemplateMixin', 'gis/dijit/_FloatingWidgetMixin', 'dojo/dom-construct', 'dojo/on', 'dojo/_base/lang', 'dojo/aspect', 'dojo/text!./Help/templates/HelpDialog.html', 'dijit/form/Button', 'dijit/layout/TabContainer', 'dijit/layout/ContentPane', 'xstyle/css!./Help/css/Help.css' ], function (declare, _WidgetBase, _TemplatedMixin, _WidgetsInTemplateMixin, _FloatingWidgetMixin, domConstruct, on, lang, aspect, template) { return declare([_WidgetBase, _TemplatedMixin, _WidgetsInTemplateMixin, _FloatingWidgetMixin], { widgetsInTemplate: true, templateString: template, title: 'Help', html: '<a href="#">Help</a>', domTarget: 'helpDijit', draggable: false, baseClass: 'helpDijit', postCreate: function () { this.inherited(arguments); this.parentWidget.draggable = this.draggable; if (this.parentWidget.toggleable) { this.own(aspect.after(this.parentWidget, 'toggle', lang.hitch(this, function () { this.containerNode.resize(); }))); } else { var help = domConstruct.place(this.html, this.domTarget); on(help, 'click', lang.hitch(this.parentWidget, 'show')); } }, onOpen: function () { if (!this.openOnStartup) { this.containerNode.resize(); } }, close: function () { if (this.parentWidget.hide) { this.parentWidget.hide(); } } }); });
var _ = require('underscore'); module.exports = function (attributes,config) { var newAttributes = _.clone(attributes); if(config.autoPK && !attributes.id) { newAttributes.id = { type: 'INTEGER', autoIncrement: true, 'default': 'AUTO_INCREMENT', constraints: { unique: true, primaryKey: true } }; } var now = {type: 'DATE', 'default': 'NOW'}; if(config.autoCreatedAt && !attributes.createdAt) newAttributes.createdAt = now; if(config.autoUpdatedAt && !attributes.updatedAt) newAttributes.updatedAt = now; for(var attr in attributes) { if(_.isString(attributes[attr])) { newAttributes[attr] = { type: attributes[attr] }; } } return newAttributes; };
var fs = require('fs'), path = require('path'), Mocha = require('mocha'); var fixturesDir = path.join(__dirname, './fixtures'), mocha = new Mocha() .ui('exports') .reporter('progress'); fs.readdirSync(fixturesDir).forEach(function (file) { mocha.addFile(path.join(fixturesDir, file)); }); mocha.run(function (failed) { process.on('exit', function () { process.exit(failed); }); });
﻿angular.module('wiz.validation.notEqualTo') .service('wizNotEqualToSvc', ['$filter', function ($filter) { this.values = []; this.cleanup = function () { this.values = []; }; this.addValue = function (value) { if (typeof value.value === "undefined") { value.value = ""; } var existingValue = false; for (var i = 0; i < this.values.length; i++) { if (this.values[i].name === value.name) { this.values[i] = value; existingValue = true; break; } } if (!existingValue) { this.values.push(value); } }; this.isEqual = function (group) { var isEqual = true; var groupValues = $filter('filter')(this.values, { group: group }, true); for (var i = 0; i < groupValues.length; i++) { if (groupValues[i].value !== groupValues[0].value) { isEqual = false; break; } } return isEqual; }; }]);
define([ 'jidejs/base/Class', 'jidejs/base/Observable', 'jidejs/base/ObservableProperty', 'jidejs/ui/Control', 'jidejs/ui/Skin' ], function(Class, Observable, ObservableProperty, Control, Skin) { "use strict"; function TemplateViewSkin(view, element) { Skin.call(this, view, element); } Class(TemplateViewSkin).extends(Skin).def({ updateRootElement: function() { var view = this.component, el = this.element, template = Observable.computed(function() { return Handlebars.compile(document.getElementById(view.template).innerHTML); }), renderer = Observable.computed(function() { return template.get()(view.item || {}); }); this.managed( view.itemProperty.subscribe(function() { el.innerHTML = renderer.get(); }), renderer.subscribe(function() { el.innerHTML = renderer.get(); }), view.classList.bind('jide-state-selected', view.selectedProperty) ); }, dispose: function() { Skin.prototype.dispose.call(this); if(this._bindings) this._bindings.forEach(function(binding) { binding.dispose(); }); this._bindings = null; } }); function TemplateView(config) { installer(this); if(!config) config = {}; if(!config.skin) config.skin = new TemplateView.Skin(this, config.element); var item = config.item || null; delete config.item; Control.call(this, config); this.item = item; } Class(TemplateView).extends(Control); var installer = ObservableProperty.install(TemplateView, 'item', 'template', 'selected'); TemplateView.Skin = TemplateViewSkin; return TemplateView; });
jQuery(function($) { $.datepicker.regional['sq'] = { closeText: 'mbylle', prevText: '&#x3c;mbrapa', nextText: 'Përpara&#x3e;', currentText: 'sot', monthNames: ['Janar','Shkurt','Mars','Prill','Maj','Qershor', 'Korrik','Gusht','Shtator','Tetor','Nëntor','Dhjetor'], monthNamesShort: ['Jan','Shk','Mar','Pri','Maj','Qer', 'Kor','Gus','Sht','Tet','Nën','Dhj'], dayNames: ['E Diel','E Hënë','E Martë','E Mërkurë','E Enjte','E Premte','E Shtune'], dayNamesShort: ['Di','Hë','Ma','Më','En','Pr','Sh'], dayNamesMin: ['Di','Hë','Ma','Më','En','Pr','Sh'], weekHeader: 'Ja', dateFormat: 'dd.mm.yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['sq']); });
(function () { var utils = xChart.visutils; describe('getInsertionPoint', function () { it('returns a selection range from 9 to n', function () { expect(utils.getInsertionPoint(8)) .to.be('g[data-index="9"], g[data-index="8"]'); expect(utils.getInsertionPoint(7)) .to.be('g[data-index="9"], g[data-index="8"], g[data-index="7"]'); }); }); describe('colorClass', function () { var el; beforeEach(function () { el = $('<div />')[0]; }); it('does not error on null class', function () { expect(utils.colorClass(el, 3)).to.be(' color3'); }); it('returns the original class with the new color', function () { el.className = 'foo'; expect(utils.colorClass(el, 2)).to.be('foo color2'); }); it('removes any previous color classes', function () { el.className = 'color383 foo color1'; expect(utils.colorClass(el, 3)).to.be(' foo color3'); }); }); }());
var activity; var router = new Router(); module("SS.js", { setup: function() { window.location.hash = ""; activity = 0;; }, teardown: function() { window.location.hash = ""; } }); asyncTest("adhoc routing", function() { router.path('/a', function() { this.path('/b', { on: function() {}, after: function() {} before: function() {} }); }); window.location.hash = "/a"; });
var _curry2 = require('./internal/_curry2'); var _dispatchable = require('./internal/_dispatchable'); var _slice = require('./internal/_slice'); var _xtakeWhile = require('./internal/_xtakeWhile'); module.exports = _curry2(_dispatchable('takeWhile', _xtakeWhile, function takeWhile(fn, list) { var idx = -1, len = list.length; while (++idx < len && fn(list[idx])) {} return _slice(list, 0, idx); }));
anm.modules.register('shapes', {}); var E = anm.Element; var C = anm.C; var Path = anm.Path, MSeg = anm.MSeg, LSeg = anm.LSeg, CSeg = anm.CSeg; E.prototype.dot = function(x, y) { var me = this; this.paint(function(ctx) { ctx.beginPath(); ctx.arc(x , y , 3 , 0 , 2*Math.PI , false ); ctx.closePath(); me.applyBrushes(ctx); }); } E.prototype.rect = function(x, y, width, height) { var path = new Path(); path.add(new MSeg([ x, y ])); path.add(new LSeg([ x + width, y ])); path.add(new LSeg([ x + width, y + height])); path.add(new LSeg([ x, y + height])); path.add(new LSeg([ x, y ])); return this.path(path); } E.prototype.oval = function(x, y, width, height) { var me = this; this.paint(function(ctx) { if (!ctx.ellipse) return; ctx.beginPath(); ctx.ellipse(x, y, width / 2, height / 2, 0 , 0 , 2*Math.PI , false ); ctx.closePath(); me.applyBrushes(ctx); }); } E.prototype.triangle = function(x, y, width, height) { var rx = (width / 2), ry = (height / 2); var path = new Path(); path.add(new MSeg([ x + rx, y ])); path.add(new LSeg([ x + width, y + height ])); path.add(new LSeg([ x, y + height ])); path.add(new LSeg([ x + rx, y ])); return this.path(path); }
var assert = require('assert'); var R = require('..'); describe('lastIndexOf', function() { it("returns a number indicating an object's last position in a list", function() { var list = [0, 10, 20, 30, 0, 10, 20, 30, 0, 10]; assert.strictEqual(R.lastIndexOf(30, list), 7); }); it('returns -1 if the object is not in the list', function() { var list = [0, 10, 20, 30]; assert.strictEqual(R.lastIndexOf(40, list), -1); }); var input = [1, 2, 3, 4, 5, 1]; it('returns the last index of the first item', function() { assert.strictEqual(R.lastIndexOf(1, input), 5); }); it('returns the index of the last item', function() { assert.strictEqual(R.lastIndexOf(5, input), 4); }); var list = ['a', 1, 'a']; list[-2] = 'a'; it('finds a', function() { assert.strictEqual(R.lastIndexOf('a', list), 2); }); it('does not find c', function() { assert.strictEqual(R.lastIndexOf('c', list), -1); }); it('does not consider "1" equal to 1', function() { assert.strictEqual(R.lastIndexOf('1', list), -1); }); it('returns -1 for an empty array', function() { assert.strictEqual(R.lastIndexOf('x', 2, []), -1); assert.strictEqual(R.lastIndexOf('x', -5, []), -1); }); it('has Object.is semantics', function() { assert.strictEqual(R.lastIndexOf(-0, [0]), -1); assert.strictEqual(R.lastIndexOf(0, [-0]), -1); assert.strictEqual(R.lastIndexOf(NaN, [NaN]), 0); }); it('is curried', function() { var curried = R.lastIndexOf('a'); assert.strictEqual(curried(list), 2); }); });
import employeesScheduleRoute from './schedule.route'; import EmployeesScheduleController from './schedule.controller'; export default angular.module('app.employees.schedule', []) .config(employeesScheduleRoute) .controller('EmployeesScheduleController', EmployeesScheduleController);
define(function(require, exports, module) { "use strict"; var real = { exec: RegExp.prototype.exec, test: RegExp.prototype.test, match: String.prototype.match, replace: String.prototype.replace, split: String.prototype.split }, compliantExecNpcg = real.exec.call(/()??/, "")[1] === undefined, compliantLastIndexIncrement = function () { var x = /^/g; real.test.call(x, ""); return !x.lastIndex; }(); RegExp.prototype.exec = function (str) { var match = real.exec.apply(this, arguments), name, r2; if ( typeof(str) == 'string' && match) { if (!compliantExecNpcg && match.length > 1 && indexOf(match, "") > -1) { r2 = RegExp(this.source, real.replace.call(getNativeFlags(this), "g", "")); real.replace.call(str.slice(match.index), r2, function () { for (var i = 1; i < arguments.length - 2; i++) { if (arguments[i] === undefined) match[i] = undefined; } }); } if (this._xregexp && this._xregexp.captureNames) { for (var i = 1; i < match.length; i++) { name = this._xregexp.captureNames[i - 1]; if (name) match[name] = match[i]; } } if (!compliantLastIndexIncrement && this.global && !match[0].length && (this.lastIndex > match.index)) this.lastIndex--; } return match; }; if (!compliantLastIndexIncrement) { RegExp.prototype.test = function (str) { var match = real.exec.call(this, str); if (match && this.global && !match[0].length && (this.lastIndex > match.index)) this.lastIndex--; return !!match; }; } function getNativeFlags (regex) { return (regex.global ? "g" : "") + (regex.ignoreCase ? "i" : "") + (regex.multiline ? "m" : "") + (regex.extended ? "x" : "") + (regex.sticky ? "y" : ""); }; function indexOf (array, item, from) { if (Array.prototype.indexOf) return array.indexOf(item, from); for (var i = from || 0; i < array.length; i++) { if (array[i] === item) return i; } return -1; }; });
var int = require('int'); var vals = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'; var positions = {}; for (var i=0 ; i < vals.length ; ++i) { positions[vals[i]] = i; } function decode(payload) { var base = 58; var length = payload.length; var num = int(0); var leading_zero = 0; var seen_other = false; for (var i=0; i<length ; ++i) { var char = payload[i]; var p = positions[char]; if (p === undefined) { throw new Error('invalid base58 string: ' + payload); } num = num.mul(base).add(p); if (char == '1' && !seen_other) { ++leading_zero; } else { seen_other = true; } } var hex = num.toString(16); if (hex.length % 2 !== 0) { hex = '0' + hex; } if (leading_zero && !seen_other) { --leading_zero; } while (leading_zero-- > 0) { hex = '00' + hex; } return hex; } module.exports.decode = decode;
define('ace/snippets/applescript', ['require', 'exports', 'module' ], function(require, exports, module) { exports.snippetText = ""; exports.scope = "applescript"; });
import {Model, Collection} from 'backbone'; class Person extends Model { defaults() { return { id: -1, name: '', description: 'Your average Joe' } } } class Persons extends Collection { model:Person } exports = {Person, Persons}; export default exports;
module.exports = { getMeta: function(oembed) { if (oembed.type == "product") { return { price: oembed.price && parseFloat(oembed.price), currency_code: oembed.currency_code, brand: oembed.brand, product_id: oembed.product_id, availability: oembed.availability, quantity: oembed.quantity && parseInt(oembed.quantity), offers: oembed.offers }; } } };
var celery = require('../celery'), client = celery.createClient({ CELERY_BROKER_URL: 'amqp: CELERY_ROUTES: { 'tasks.send_mail': { queue: 'mail' } } }), send_mail = client.createTask('tasks.send_mail'), calculate_rating = client.createTask('tasks.calculate_rating'); client.on('error', function(err) { console.log(err); }); client.on('connect', function() { send_mail.call([], { to: 'to@example.com', title: 'hi' }); calculate_rating.call([], { item: 1345 }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example90/index-jquery.html"); }); var thumbsUp = element(by.css('span.glyphicon-thumbs-up')); var thumbsDown = element(by.css('span.glyphicon-thumbs-down')); it('should check ng-show / ng-hide', function() { expect(thumbsUp.isDisplayed()).toBeFalsy(); expect(thumbsDown.isDisplayed()).toBeTruthy(); element(by.model('checked')).click(); expect(thumbsUp.isDisplayed()).toBeTruthy(); expect(thumbsDown.isDisplayed()).toBeFalsy(); }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example105/index.html"); }); var status = element(by.binding('status')); var data = element(by.binding('data')); var fetchBtn = element(by.id('fetchbtn')); var sampleGetBtn = element(by.id('samplegetbtn')); var sampleJsonpBtn = element(by.id('samplejsonpbtn')); var invalidJsonpBtn = element(by.id('invalidjsonpbtn')); it('should make an xhr GET request', function() { sampleGetBtn.click(); fetchBtn.click(); expect(status.getText()).toMatch('200'); expect(data.getText()).toMatch(/Hello, \$http!/); }); it('should make JSONP request to invalid URL and invoke the error handler', function() { invalidJsonpBtn.click(); fetchBtn.click(); expect(status.getText()).toMatch('0'); expect(data.getText()).toMatch('Request failed'); }); });
var DevelData = Class.create(); DevelData.prototype = { initialize: function(selector) { var develData = this; develData.data = {}; $$(selector).each(function(el) { eval('develData.data.' + $(el).readAttribute('rel') + '=el;'); }); }, getData: function() { return this.data; } };
var config = require('./config.js'); var nano = require('nano')( { url: config.COUCH_URL } ); var bulk_write = function(docs, callback) { var db = nano.use(config.COUCH_DATABASE); db.bulk({docs: docs}, function(err, data) { callback(err, data); }) } module.exports = { bulk_write: bulk_write }
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-url-input-directive/index.html"); }); var text = element(by.binding('text')); var valid = element(by.binding('myForm.input.$valid')); var input = element(by.model('text')); it('should initialize to model', function() { expect(text.getText()).toContain('http: expect(valid.getText()).toContain('true'); }); it('should be invalid if empty', function() { input.clear(); input.sendKeys(''); expect(text.getText()).toEqual('text ='); expect(valid.getText()).toContain('false'); }); it('should be invalid if not url', function() { input.clear(); input.sendKeys('box'); expect(valid.getText()).toContain('false'); }); });
describe('Route', function() { var routeResponse; var route; beforeEach(function() { route = new ffwdme.Route(); routeResponse = loadJSON('route_response'); }); afterEach(function(){ restore(); }); describe('creating a new route', function() { it('should provide a parse method', function() { expect(route).toHaveMethod('parse'); }); }); describe('parsing a routing response', function() { it('takes data from a js object', function() { route.parse(routeResponse); expect(route.summary).toEqual(routeResponse.summary); expect(route.directions).toEqual(routeResponse.directions); }); }); describe('#nearestTo', function(){ var route; beforeEach(function() { route = new ffwdme.Route(); route.parse(loadJSON('route_response_simplified')); }); it('gets the nearest position on a simple route', function(){ var position = new ffwdme.LatLng(1, 75); var nearest = route.nearestTo(position, 0, 0); expect(nearest).toHaveProperty('distance'); expect(nearest.point.lat).toBe(0); expect(nearest.point.lng).toBe(75); expect(nearest.directionIndex).toBe(2); expect(nearest.prevPathIndex).toBe(0); expect(nearest.nextPathIndex).toBe(1); }); }); });
var re = /^http:\/\/www\.arte\.tv\/guide\/(\w+)\/([\d-]+)\ module.exports = { re: re, mixins: [ "og-image", "favicon", "twitter-author", "canonical", "date", "og-site", "twitter-title" ], getLink: function(urlMatch) { return [{ href: 'http: type: CONFIG.T.text_html, rel: CONFIG.R.player, width: 300, height: 170 }, { href: 'http: type: CONFIG.T.text_html, rel: CONFIG.R.player, width: 600, height: 340 }, { href: 'http: type: CONFIG.T.text_html, rel: CONFIG.R.player, width: 900, height: 510 }] }, tests: [{ page: 'http: selector: 'li a', getUrl: function(url) { if (url.match(re)) return url; } }, "http: ] };
angular.module('getterSetterExample', []) .controller('ExampleController', ['$scope', function($scope) { var _name = 'Brian'; $scope.user = { name: function(newName) { return angular.isDefined(newName) ? (_name = newName) : _name; } }; }]);
var mnomnom = { commands: function(value) { value = value.split(' ') var l = value.length, i = 0 this.chain._list = {} for(i = 0; i < l; i++) { this.chain._list[value[i]] = this.command(value[i]) } return this.chain }, chain: {} } var duplicate = function(k) { return function(item) { var keys = Object.keys(this._list), l = keys.length var func if('function' == typeof item) { func = item } else { func = function() { return item } } while(l--) { this._list[keys[l]][k](func(keys[l])) } return this } } module.exports = function (program, cmd) { cmd = program.command(cmd || 'help') var key for(key in cmd) { Object.defineProperty(mnomnom.chain, key, { value: duplicate(key), enumerable: true }) } var k = Object.keys(mnomnom), l = k.length while(l--) { program[k[l]] = mnomnom[k[l]] } return program }
var HTMLMetaHandler = require('./HTMLMetaHandler'); module.exports = { provides: 'self', getData: function(url, htmlparser, cb) { var metaHandler = new HTMLMetaHandler( url, htmlparser.request.response.headers["content-type"], function(error, meta) { if (error) { return cb(error); } if (meta.charset.match(/^ISO2022/gi)) { return cb({ responseStatusCode: 415 }); } cb(null, { meta: meta }); }); htmlparser.addHandler(metaHandler); } };
angular.module('mySceApp', ['ngSanitize']) .controller('AppController', ['$http', '$templateCache', '$sce', function($http, $templateCache, $sce) { var self = this; $http.get("test_data.json", {cache: $templateCache}).success(function(userComments) { self.userComments = userComments; }); self.explicitlyTrustedHtml = $sce.trustAsHtml( '<span onmouseover="this.textContent=&quot;Explicitly trusted HTML bypasses ' + 'sanitization.&quot;">Hover over this text.</span>'); }]);
var assert = require('assert'); var R = require('..'); describe('type', function() { it('"Array" if given an array literal', function() { assert.strictEqual(R.type([1, 2, 3]), 'Array'); }); it('"Object" if given an object literal', function() { assert.strictEqual(R.type({batman: 'na na na na na na na'}), 'Object'); }); it('"RegExp" if given a RegExp literal', function() { assert.strictEqual(R.type(/[A-z]/), 'RegExp'); }); it('"Number" if given a numeric value', function() { assert.strictEqual(R.type(4), 'Number'); }); it('"Number" if given the NaN value', function() { assert.strictEqual(R.type(NaN), 'Number'); }); it('"String" if given a String literal', function() { assert.strictEqual(R.type('Gooooodd Mornning Ramda!!'), 'String'); }); it('"String" if given a String object', function() { assert.strictEqual(R.type(new String('I am a String object')), 'String'); }); it('"Null" if given the null value', function() { assert.strictEqual(R.type(null), 'Null'); }); it('"Undefined" if given the undefined value', function() { assert.strictEqual(R.type(undefined), 'Undefined'); }); });
'use strict'; var path = require('path'); module.exports = function(grunt) { grunt.initConfig({ express: { express: { options: { server: path.resolve('./lib/server') } } } }); grunt.loadTasks('../../tasks'); grunt.loadTasks('../../../tasks'); grunt.registerTask('default', ['express']); };
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-ngController/index-jquery.html"); }); it('should check controller', function() { var container = element(by.id('ctrl-exmpl')); expect(container.element(by.model('name')) .getAttribute('value')).toBe('John Smith'); var firstRepeat = container.element(by.repeater('contact in contacts').row(0)); var secondRepeat = container.element(by.repeater('contact in contacts').row(1)); expect(firstRepeat.element(by.model('contact.value')).getAttribute('value')) .toBe('408 555 1212'); expect(secondRepeat.element(by.model('contact.value')).getAttribute('value')) .toBe('john.smith@example.org'); firstRepeat.element(by.linkText('clear')).click(); expect(firstRepeat.element(by.model('contact.value')).getAttribute('value')) .toBe(''); container.element(by.linkText('add')).click(); expect(container.element(by.repeater('contact in contacts').row(2)) .element(by.model('contact.value')) .getAttribute('value')) .toBe('yourname@example.org'); }); });
(function (root, factory) { 'use strict'; if (typeof exports === 'object') { factory(require('jquery'), require('../pikaday')); } else if (typeof define === 'function' && define.amd) { define(['jquery', 'pikaday'], factory); } else { factory(root.jQuery, root.Pikaday); } }(this, function ($, Pikaday) { 'use strict'; $.fn.pikaday = function() { var args = arguments; if (!args || !args.length) { args = [{ }]; } return this.each(function() { var self = $(this), plugin = self.data('pikaday'); if (!(plugin instanceof Pikaday)) { if (typeof args[0] === 'object') { var options = $.extend({}, args[0]); options.field = self[0]; self.data('pikaday', new Pikaday(options)); } } else { if (typeof args[0] === 'string' && typeof plugin[args[0]] === 'function') { plugin[args[0]].apply(plugin, Array.prototype.slice.call(args,1)); } } }); }; }));
var LoginController = ['$scope', 'rcMailgun', function ($scope, rcMailgun) { $scope.session = {}; $scope.rcMailgun = rcMailgun; $scope.login = function () { alert('logged in!'); }; }];
var http = require('http'); var logger = require('../logger'); var Util = require('../util'); var BlockExplorer = exports.BlockExplorer = function BlockExplorer() { this.host = "blockexplorer.com"; }; BlockExplorer.prototype.getHashByCount = function (height, callback) { var client = http.createClient(80, this.host); var req = client.request('HEAD', '/b/'+height, {host:this.host}); req.end(); req.on('response', function (res) { var location = res.headers.location; var hash = Util.decodeHex(location.substr(location.lastIndexOf('/')+1, 64)); hash.reverse(); callback(null, hash); }); };
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example86/index-jquery.html"); }); it('should check ng-non-bindable', function() { expect(element(by.binding('1 + 2')).getText()).toContain('3'); expect(element.all(by.css('div')).last().getText()).toMatch(/1 \+ 2/); }); });
var Class = (function() { var IS_DONTENUM_BUGGY = (function(){ for (var p in { toString: 1 }) { if (p === 'toString') return false; } return true; })(); function subclass() {}; function create() { var parent = null, properties = $A(arguments); if (Object.isFunction(properties[0])) parent = properties.shift(); function klass() { this.initialize.apply(this, arguments); } Object.extend(klass, Class.Methods); klass.superclass = parent; klass.subclasses = []; if (parent) { subclass.prototype = parent.prototype; klass.prototype = new subclass; parent.subclasses.push(klass); } for (var i = 0, length = properties.length; i < length; i++) klass.addMethods(properties[i]); if (!klass.prototype.initialize) klass.prototype.initialize = Prototype.emptyFunction; klass.prototype.constructor = klass; return klass; } function addMethods(source) { var ancestor = this.superclass && this.superclass.prototype, properties = Object.keys(source); if (IS_DONTENUM_BUGGY) { if (source.toString != Object.prototype.toString) properties.push("toString"); if (source.valueOf != Object.prototype.valueOf) properties.push("valueOf"); } for (var i = 0, length = properties.length; i < length; i++) { var property = properties[i], value = source[property]; if (ancestor && Object.isFunction(value) && value.argumentNames()[0] == "$super") { var method = value; value = (function(m) { return function() { return ancestor[m].apply(this, arguments); }; })(property).wrap(method); value.valueOf = (function(method) { return function() { return method.valueOf.call(method); }; })(method); value.toString = (function(method) { return function() { return method.toString.call(method); }; })(method); } this.prototype[property] = value; } return this; } return { create: create, Methods: { addMethods: addMethods } }; })();
var listInput = element(by.model('names')); var names = element(by.exactBinding('names')); var valid = element(by.binding('myForm.namesInput.$valid')); var error = element(by.css('span.error')); it('should initialize to model', function() { expect(names.getText()).toContain('["morpheus","neo","trinity"]'); expect(valid.getText()).toContain('true'); expect(error.getCssValue('display')).toBe('none'); }); it('should be invalid if empty', function() { listInput.clear(); listInput.sendKeys(''); expect(names.getText()).toContain(''); expect(valid.getText()).toContain('false'); expect(error.getCssValue('display')).not.toBe('none'); });
module.exports = { getLink: function(meta) { if (!meta.logo) { return; } return { href: meta.logo.href || meta.logo, type: meta.logo.type || CONFIG.T.image, rel: CONFIG.R.logo } } };
'use strict'; var Spring = require('./Spring.js'); var Gravity = require('./Gravity.js'); function Fall(ground, gravity, springC, springD) { gravity = gravity || 5000; springC = springC || 180; springD = springD || 20; this._ground = ground; this._gravity = new Gravity(gravity, 1000); this._spring = new Spring(1, springC, springD); this._springing = false; } Fall.prototype.set = function(x, v) { this._gravity.set(x, v); if (x >= this._ground) { this._springing = true; this._spring.snap(x); this._spring.setEnd(this._ground); } else { this._springing = false; } } Fall.prototype.x = function() { if (this._springing) { return this._spring.x(); } var x = this._gravity.x(); if (x >= this._ground) { this._springing = true; this._spring.snap(this._ground); this._spring.setEnd(this._ground, this._gravity.dx()); x = this._spring.x(); } return x; } Fall.prototype.dx = function() { if (this._springing) return this._spring.dx(); return this._gravity.dx(); } Fall.prototype.done = function() { if (this._springing) return this._spring.done(); return this._gravity.done(); } Fall.prototype.configuration = function() { var config = this._gravity.configuration(); config[0].min = 1; config[0].max = 6000; config.push.apply(config, this._spring.configuration()); return config; } module.exports = Fall;
var $m={ marr:[ 'About', 'Get Started', 'Config', 'Router', { 'title':'Feature', 'child':['Log','Mail','Mongo','Template','Validator'] }, { 'title':'API', 'child':['system.core','system.cache','system.counter','system.http','system.log','system.mail','system.mongo','system.server','system.session','system.template','system.util','system.validator'] } ], build:function(){ var obj,v,subobj,ext; $('#menu').html(''); for(obj in $m.marr){ if(typeof($m.marr[obj])=='string'){ v=$m.marr[obj].toLowerCase().replace(/\s/g,''); $("#menu").append('<li id="p'+obj+'"><a href="./page/'+v+'.html" target="right" onclick="$m.mclick(\'p'+obj+'\')">'+$m.marr[obj]+'</a></li>'); }else{ v=$m.marr[obj]['title'].toLowerCase().replace(/\s/g,''); $("#menu").append('<li class="par" id="p'+obj+'"><a href="javascript:void(0)" onclick="$m.mextend('+obj+')">'+$m.marr[obj]['title']+'</a></li>'); for(subobj in $m.marr[obj]['child']){ v=$m.marr[obj]['child'][subobj].toLowerCase().replace(/\s/g,''); $("#menu").append('<li class="sub c'+obj+'" id="c'+obj.toString()+subobj+'"><a href="./page/'+v+'.html" target="right" onclick="$m.mclick(\'c'+obj.toString()+subobj+'\')">'+$m.marr[obj]['child'][subobj]+'</a></li>'); } } } }, mclick:function(id){ $("#menu").children().removeClass('cur'); $("#"+id).addClass("cur"); }, mextend:function(id){ if($(".c"+id).css("display")=='none'){ $(".c"+id).show(); }else{ $(".c"+id).hide(); } } };
var DEFAULT_WIDTH = 466; module.exports = { re: [ /^https?:\/\/(www|m)\.facebook\.com\/(photo|permalink|story|video)\.php\?[^\/]+(\d{10,})/i, /^https?:\/\/(www|m)\.facebook\.com\/([a-zA-Z0-9\.\-]+)\/(posts|activity)\/(\d{10,})/i, /^https?:\/\/(www|m)\.facebook\.com\/([a-zA-Z0-9\.\-]+)\/photos\/[a-zA-Z0-9\.\-]+\/(\d{10,})/i, /^https?:\/\/(www|m)\.facebook\.com\/notes\/([a-zA-Z0-9\.\-]+)\/[^\/]+\/(\d{10,})/i, /^https?:\/\/(www|m)\.facebook\.com\/media\/set\/\?set=[^\/]+(\d{10,})/i ], provides: 'facebook_post', mixins: [ "favicon" ], getMeta: function(facebook_post) { return { title: facebook_post.title, site: "Facebook" }; }, getLink: function(facebook_post, options) { return { type: CONFIG.T.text_html, rel: [CONFIG.R.app, CONFIG.R.ssl, CONFIG.R.html5], template_context: { title: facebook_post.title, url: facebook_post.url, type: 'fb-post', width: options.maxWidth || DEFAULT_WIDTH }, width: options.maxWidth || DEFAULT_WIDTH }; }, getData: function(url, meta, cb) { if (meta["html-title"] === "Facebook") { cb({responseStatusCode: 403}); } var title = meta["description"] ? meta["description"]: meta["html-title"].replace(/ \| Facebook$/, ""); var redirect; if (url.indexOf("m.facebook.com/story.php") > -1) { redirect = url.replace("m.facebook.com/story.php", "www.facebook.com/permalink.php"); } cb(null, { facebook_post: { title: title, url: redirect || url } }); }, tests: [ "https: "https: "https: { noFeeds: true } ] };
var BaseIcon = require('../base_icon'); var TimeToDestination = BaseIcon.extend({ icon: 'time_to_destination/flag.svg', defaultUnit: 'h', format: function(completeSeconds) { var completeMinutes = Math.round(completeSeconds/60), mins = completeMinutes % 60, hrs = (completeMinutes - mins) / 60; mins = mins < 10 ? '0' + mins : mins; return [hrs, ":", mins].join(""); }, navigationOnRoute: function(e) { var timeLeft = e.navInfo.timeToDestination; if (timeLeft) this.label(this.format(timeLeft)); } }); module.exports = TimeToDestination;
it('should allow user expression testing', function() { element(by.css('.expressions button')).click(); var lis = element(by.css('.expressions ul')).all(by.repeater('expr in exprs')); expect(lis.count()).toBe(1); expect(lis.get(0).getText()).toEqual('[ X ] 3*10|currency => $30.00'); });
var myVar = "test1"; _pjs.myVar = "test2";
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example25/index-jquery.html"); }); it('should calculate expression in binding', function() { if (browser.params.browser == 'safari') { return; } element(by.css('[ng-click="greet()"]')).click(); var alertDialog = browser.switchTo().alert(); expect(alertDialog.getText()).toEqual('Hello World'); alertDialog.accept(); }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-ngValue-directive/index-jquery.html"); }); var favorite = element(by.binding('my.favorite')); it('should initialize to model', function() { expect(favorite.getText()).toContain('unicorns'); }); it('should bind the values to the inputs', function() { element.all(by.model('my.favorite')).get(0).click(); expect(favorite.getText()).toContain('pizza'); }); });
module.exports = { re: /^http:\/\/clip\.vn\/watch\/(?:[\w-]+,)?([\w-]+)\/?/i, mixins: [ "og-image", "favicon", "canonical", "copyright", "og-description", "keywords", "og-site", "og-title" ], getLink: function(urlMatch) { return { href: 'http: type: CONFIG.T.text_html, rel: CONFIG.R.player, 'aspect-ratio': 640/389 }; }, tests: [{ pageWithFeed: "http: }, "http: ] };
'use strict'; var path = require('path'); var ScreenShotReporter = require('protractor-html-screenshot-reporter'); exports.config = { seleniumServerJar: '../../node_modules/protractor/selenium/selenium-server-standalone-2.43.1.jar', seleniumArgs: ['-browserTimeout=60'], onPrepare: function() { browser.driver.manage().window().setSize(1024,768); require('jasmine-reporters'); jasmine.getEnv().addReporter( new jasmine.JUnitXmlReporter('xmloutput', true, true, './test/test-reports/e2e-test-report') ); jasmine.getEnv().addReporter(new ScreenShotReporter({ baseDirectory: './test/test-reports/screenshots', pathBuilder: function pathBuilder(spec, descriptions, results, capabilities) { return path.join(capabilities.caps_.browserName, descriptions.join('-')); }, takeScreenShotsOnlyForFailedSpecs: true })); }, jasmineNodeOpts: { isVerbose: true, showColors: true, includeStackTrace: true, defaultTimeoutInterval: 30000 } };
var assert = require('assert'); var R = require('..'); describe('partition', function() { it('splits a list into two lists according to a predicate', function() { var pred = function(n) { return n % 2; }; assert.deepEqual(R.partition(pred, []), [[], []]); assert.deepEqual(R.partition(pred, [0, 2, 4, 6]), [[], [0, 2, 4, 6]]); assert.deepEqual(R.partition(pred, [1, 3, 5, 7]), [[1, 3, 5, 7], []]); assert.deepEqual(R.partition(pred, [0, 1, 2, 3]), [[1, 3], [0, 2]]); }); it('is curried', function() { var polarize = R.partition(Boolean); assert.deepEqual(polarize([true, 0, 1, null]), [[true, 1], [0, null]]); }); });
F2_jsonpCallback_com_openf2_examples_javascript_chart({ "scripts":[ "http: "../apps/JavaScript/Chart/appclass.js" ], "styles":[ "../apps/JavaScript/Chart/app.css" ], "apps":[{ "html":[ '<div class="f2-app-view">', '<div id="f2-1year-chart-container">', '<div id="f2-1year-chart"></div>', '</div>', '</div>' ].join("") }] })
if (typeof process !== "undefined") { require("amd-loader"); require("../test/mockdom"); } define(function(require, exports, module) { "use strict"; var assert = require("../test/assertions"); var EditSession = require("../edit_session").EditSession; var TextLayer = require("./text").Text; var JavaScriptMode = require("../mode/javascript").Mode; module.exports = { setUp: function(next) { this.session = new EditSession(""); this.session.setMode(new JavaScriptMode()); this.textLayer = new TextLayer(document.createElement("div")); this.textLayer.setSession(this.session); this.textLayer.config = { characterWidth: 10, lineHeight: 20 }; next() }, "test: render line with hard tabs should render the same as lines with soft tabs" : function() { this.session.setValue("a\ta\ta\t\na a a \n"); this.textLayer.$computeTabString(); var row = 0; var tokens = this.session.getTokens(row, row)[0].tokens; var stringBuilder = []; this.textLayer.$renderLine(stringBuilder, row, tokens); row = 1; tokens = this.session.getTokens(row, row)[0].tokens; var stringBuilder2 = []; this.textLayer.$renderLine(stringBuilder2, row, tokens); assert.equal(stringBuilder.join(""), stringBuilder2.join("")); }, "test rendering width of ideographic space (U+3000)" : function() { this.session.setValue("\u3000"); var tokens = this.session.getTokens(0, 0)[0].tokens; var stringBuilder = []; this.textLayer.$renderLine(stringBuilder, 0, tokens, true); assert.equal(stringBuilder.join(""), "<span class='ace_cjk' style='width:20px'></span>"); this.textLayer.setShowInvisibles(true); var stringBuilder = []; this.textLayer.$renderLine(stringBuilder, 0, tokens, true); assert.equal( stringBuilder.join(""), "<span class='ace_cjk ace_invisible' style='width:20px'>" + this.textLayer.SPACE_CHAR + "</span>" + "<span class='ace_invisible'>\xB6</span>" ); } }; }); if (typeof module !== "undefined" && module === require.main) { require("asyncjs").test.testcase(module.exports).exec() }
define([ 'handlebars', 'chaplin', 'lib/view-helper' ], function(Handlebars, Chaplin) { 'use strict'; var View = Chaplin.View.extend({ getTemplateFunction: function(){ var template = this.template, templateFunc = null; if (typeof template === 'string') { templateFunc = Handlebars.compile(template); this.constructor.prototype.template = templateFunc; } else { templateFunc = template; } return templateFunc; } }); return View; });
var common = require('../common'); var assert = require('assert'); var http = require('http'); var net = require('net'); var gotResponse = false; var server = net.createServer(function (conn) { var body = 'Yet another node.js server.'; var response = 'HTTP/1.1 200 OK\r\n' + 'Connection: close\r\n' + 'Content-Length: ' + body.length + '\r\n' + 'Content-Type: text/plain;\r\n' + ' x-unix-mode=0600;\r\n' + ' name=\"hello.txt\"\r\n' + '\r\n' + body; conn.write(response, function () { conn.destroy(); server.close(); }); }); server.listen(common.PORT, function () { http.get({host: '127.0.0.1', port: common.PROXY_PORT}, function (res) { assert.equal(res.headers['content-type'], 'text/plain;x-unix-mode=0600;name="hello.txt"'); gotResponse = true; }); }); process.on('exit', function () { assert.ok(gotResponse); });
var _curry2 = require('./internal/_curry2'); module.exports = _curry2(function strIndexOf(c, str) { return str.indexOf(c); });
module.exports = { re: [ /^https?:\/\/tinypic\.com\ ], mixins: [ "image_src", "favicon", "html-title" ], getLink: function(meta) { var original = meta['image_src']; if (!original) { return; } original = original.replace('_th.', '.'); return { href: original, type: CONFIG.T.image, rel: CONFIG.R.image }; }, tests: [ "http: "http: ] };
var connect = require('connect'); var http = require('http'); var vm = require('vm'); var browserify = require('../'); var test = require('tap').test; test('alias', function (t) { t.plan(5); var port = 10000 + Math.floor(Math.random() * (Math.pow(2,16) - 10000)); var server = connect.createServer(); server.use(browserify({ mount : '/bundle.js', require : { moo : 'seq' } })); server.listen(port, makeRequest); function makeRequest () { var req = { host : 'localhost', port : port, path : '/bundle.js' }; http.get(req, function (res) { t.equal(res.statusCode, 200); server.close(); var context = { setTimeout : setTimeout, console : console }; var src = ''; res.on('data', function (buf) { src += buf.toString(); }); res.on('end', function () { vm.runInNewContext(src, context); t.ok(context.require('moo')); t.ok(context.require('seq')); t.equal( String(context.require('seq')), String(context.require('moo')) ); context.require('moo')([1,2,3]) .parMap(function (x) { this(null, x * 100) }) .seq(function () { t.deepEqual(this.stack, [100,200,300]); t.end(); }) ; }); }); } });
var _append = require('./internal/_append'); var _concat = require('./internal/_concat'); var _curry3 = require('./internal/_curry3'); var _slice = require('./internal/_slice'); module.exports = _curry3(function insert(idx, elt, list) { idx = idx < list.length && idx >= 0 ? idx : list.length; return _concat(_append(elt, _slice(list, 0, idx)), _slice(list, idx)); });
jQuery(function($) { $.datepicker.regional['gl'] = { closeText: 'Pechar', prevText: '&#x3c;Ant', nextText: 'Seg&#x3e;', currentText: 'Hoxe', monthNames: ['Xaneiro','Febreiro','Marzo','Abril','Maio','Xuño', 'Xullo','Agosto','Setembro','Outubro','Novembro','Decembro'], monthNamesShort: ['Xan','Feb','Mar','Abr','Mai','Xuñ', 'Xul','Ago','Set','Out','Nov','Dec'], dayNames: ['Domingo','Luns','Martes','M&eacute;rcores','Xoves','Venres','S&aacute;bado'], dayNamesShort: ['Dom','Lun','Mar','M&eacute;r','Xov','Ven','S&aacute;b'], dayNamesMin: ['Do','Lu','Ma','M&eacute;','Xo','Ve','S&aacute;'], weekHeader: 'Sm', dateFormat: 'dd/mm/yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['gl']); });
module.exports = require('./transformed/date-picker/components/DatePicker');
exports.Client = require('./client').Client; exports.Container = require('./container').Container; exports.File = require('./file').File; exports.ChunkedStream = require('./utils').ChunkedStream; exports.createClient = function (options) { return new exports.Client(options); };
require("../env"); require("../../d3"); var vows = require("vows"), assert = require("assert"); var suite = vows.describe("selection.order"); suite.addBatch({ "selectAll(div)": { topic: function() { return d3.select("body").html("").selectAll("div") .data([1, 2, 10, 20]) .enter().append("div") .attr("id", String); }, "orders elements by data": function(div) { div = div.data([1, 10, 20, 2], String).order(); assert.domNull(div[0][0].previousSibling); assert.domEqual(div[0][1].previousSibling, div[0][0]); assert.domEqual(div[0][2].previousSibling, div[0][1]); assert.domEqual(div[0][3].previousSibling, div[0][2]); assert.domNull(div[0][3].nextSibling); }, "returns the current selection": function(span) { span = d3.select("body"); assert.isTrue(span.order() === span); } } }); suite.export(module);
jQuery(function($) { $.datepicker.regional['sr-SR'] = { closeText: 'Zatvori', prevText: '&#x3c;', nextText: '&#x3e;', currentText: 'Danas', monthNames: ['Januar','Februar','Mart','April','Maj','Jun', 'Jul','Avgust','Septembar','Oktobar','Novembar','Decembar'], monthNamesShort: ['Jan','Feb','Mar','Apr','Maj','Jun', 'Jul','Avg','Sep','Okt','Nov','Dec'], dayNames: ['Nedelja','Ponedeljak','Utorak','Sreda','Četvrtak','Petak','Subota'], dayNamesShort: ['Ned','Pon','Uto','Sre','Čet','Pet','Sub'], dayNamesMin: ['Ne','Po','Ut','Sr','Če','Pe','Su'], weekHeader: 'Sed', dateFormat: 'dd/mm/yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['sr-SR']); });
(function(buster, apply) { var assert = buster.assert; function f() { var sum, i = arguments.length; sum = 0; while(i) { sum += arguments[--i]; } return sum; } buster.testCase('when/apply', { 'should spread array onto arguments': function() { assert.equals(6, apply(f)([1,2,3])); }, 'should fail for non Array-like input': function() { assert.exception(function() { apply(f)(1,2,3); }); } }); })( this.buster || require('buster'), this.when_apply || require('../apply') );
jQuery(function ($) { var textarea = $('textarea#content'); var options = { onChange: function (cm) { textarea.val(cm.getValue()); RotorMD.preview.update(); }, mode: 'markdown', matchBrackets: true, lineWrapping: true, indentWithTabs: true }; var syntaxhinter = CodeMirror.fromTextArea(textarea.get(0), options); RotorMD.preview.init(); RotorMD.resizer.init(); }); var RotorMD = { preview: { frame: null, init: function() { jQuery('#rme-preview').html('<iframe id="rme-preview-content" src="about:blank"></iframe>'); RotorMD.preview.frame = jQuery('#rme-preview-content').get(0).contentWindow.document; var cssHTML = ''; jQuery.each(RotorMD.localize.customCSS, function(index, url) { cssHTML += '<link href="' + url + '" rel="stylesheet" type="text/css" />'; }); RotorMD.preview.frame.open(); RotorMD.preview.frame.write('<html><head>' + cssHTML + '</head><body class="mceContentBody"></body></html>'); RotorMD.preview.frame.close(); jQuery(RotorMD.preview.frame).on('mousemove mouseup', function (e) { jQuery(document).trigger(e); }); jQuery('#content').on('input propertychange', RotorMD.preview.update); RotorMD.preview.update(); }, update: function (data) { var raw = jQuery('textarea#content').val(); var content = marked(raw); jQuery('.mceContentBody', RotorMD.preview.frame).html(content); jQuery(document).triggerHandler('wpcountwords', [ raw ] ); }, }, resizer: { init: function () { jQuery('#content-resize-handle').on('mousedown', RotorMD.resizer.handler); RotorMD.resizer.during(); }, during: function (e) { jQuery('#rme-preview,#wp-content-editor-container .CodeMirror').height(jQuery('textarea#content').outerHeight() + 'px'); return false; }, after: function (e) { jQuery(document).unbind('mousemove', RotorMD.resizer.during); return false; }, handler: function(e) { jQuery(document).mousemove(RotorMD.resizer.during).mouseup(RotorMD.resizer.after); return false; } } } RotorMD.localize = rotormdLocalize;
var config = require("config3"); var childProcess = require("child_process"); if (config.inspector.enabled) { setTimeout(function () { childProcess.fork( require.resolve("node-inspector/bin/inspector"), ["--web-port=" + config.inspector.webPort, "--web-host=127.0.0.1"], {execArgv: []} ); }, 2000); }
module.exports = function(config) { config.set({ basePath: '', frameworks: ['mocha', 'requirejs', 'chai', 'benchmark'], preprocessors: {}, files: [ 'test/test-main.js', {pattern: 'bower_components *.js', included: false}, {pattern: 'base *.js', included: false}, {pattern: 'ui *.js', included: false}, {pattern: 'test *', included: false} ], exclude: [ ], reporters: ['spec'], port: 9876, colors: true, logLevel: config.LOG_INFO, autoWatch: true, browsers: ['Chrome', 'ChromeCanary', 'Firefox', 'IE'], captureTimeout: 60000, singleRun: false }); };
define(function(require, exports, module) { "use strict"; var Behaviour = function() { this.$behaviours = {}; }; (function () { this.add = function (name, action, callback) { switch (undefined) { case this.$behaviours: this.$behaviours = {}; case this.$behaviours[name]: this.$behaviours[name] = {}; } this.$behaviours[name][action] = callback; } this.addBehaviours = function (behaviours) { for (var key in behaviours) { for (var action in behaviours[key]) { this.add(key, action, behaviours[key][action]); } } } this.remove = function (name) { if (this.$behaviours && this.$behaviours[name]) { delete this.$behaviours[name]; } } this.inherit = function (mode, filter) { if (typeof mode === "function") { var behaviours = new mode().getBehaviours(filter); } else { var behaviours = mode.getBehaviours(filter); } this.addBehaviours(behaviours); } this.getBehaviours = function (filter) { if (!filter) { return this.$behaviours; } else { var ret = {} for (var i = 0; i < filter.length; i++) { if (this.$behaviours[filter[i]]) { ret[filter[i]] = this.$behaviours[filter[i]]; } } return ret; } } }).call(Behaviour.prototype); exports.Behaviour = Behaviour; });
$(document).ready(function(){ $('ul.sortable li').each(function() { $(this).prepend('<a style="display:block;float: left" class="handle" href="#"><img src="' + $('#base_url').html() + '../branding/default/images/arrow.png" alt="Drag to Move" title="Drag to Move" /></a>'); }); $("ul.sortable").sortable({ handle : '.handle', update : function () { var original_colour = $("ul.sortable li").css("background-color"); $("ul.sortable li").css({ 'background-color' : '#ddf8a9'}); var order = $('ul.sortable').sortable('serialize'); var field_group_id = $('form#form_arrange').attr('rel'); $.post($('#base_url').html() + 'custom_fields/save_order/' + field_group_id, order); $("ul.sortable li").animate({backgroundColor:original_colour},750) } }); });
(function() { "use strict"; var Papa = require("../papaparse.js"); var fs = require('fs'); var assert = require('assert'); var longSampleRawCsv = fs.readFileSync(__dirname + '/long-sample.csv', 'utf8'); function assertLongSampleParsedCorrectly(parsedCsv) { assert.equal(8, parsedCsv.data.length) assert.deepEqual(parsedCsv.data[0], [ 'Grant', 'Dyer', 'Donec.elementum@orciluctuset.example', '2013-11-23T02:30:31-08:00', '2014-05-31T01:06:56-07:00', 'Magna Ut Associates', 'ljenkins' ]) assert.deepEqual(parsedCsv.data[7], [ 'Talon', 'Salinas', 'posuere.vulputate.lacus@Donecsollicitudin.example', '2015-01-31T09:19:02-08:00', '2014-12-17T04:59:18-08:00', 'Aliquam Iaculis Incorporate', 'Phasellus@Quisquetincidunt.example' ]); assert.deepEqual(parsedCsv.meta, { "delimiter":",", "linebreak":"\n", "aborted":false, "truncated":false, "cursor":1209 }); assert.equal(parsedCsv.errors.length, 0) } var synchronouslyParsedCsvShouldBeCorrectlyParsed = function() { assertLongSampleParsedCorrectly(Papa.parse(longSampleRawCsv)); }(); var asynchronouslyParsedCsvShouldBeCorrectlyParsed = function() { Papa.parse(longSampleRawCsv, { complete: function(parsedCsv) { assertLongSampleParsedCorrectly(parsedCsv); }, }); }(); })();
var Value = require('../../lib/value'); module.exports.create = function (app) { return Value(app); }; module.exports.equal = function (app, app2) { return app.id === app2.id; };
$(function(){ var latlng, marker, markers = [], myOptions = { zoom: 10, center: new google.maps.LatLng(-34.397, 150.644), mapTypeId: google.maps.MapTypeId.ROADMAP }, map = new google.maps.Map(document.getElementById("features_map"), myOptions); $.each(features, function(index, feature){ latlng = new google.maps.LatLng(feature['latitude'], feature['longitude']); marker = new google.maps.Marker({ position: latlng, title: feature['title'] }); marker.setMap(map); markers.push(marker); }); var lats = $.map(markers, function(marker, index){ return marker.position.lat() }), longs = $.map(markers, function(marker, index){ return marker.position.lng() }), south_west = new google.maps.LatLng(Array.min(lats), Array.min(longs)), north_east = new google.maps.LatLng(Array.max(lats), Array.max(longs)), markers_bounds = new google.maps.LatLngBounds(south_west, north_east); map.fitBounds(markers_bounds); });
;(function(){ 'use strict'; angular .module('core') .controller('HomeCtrl', HomeCtrl); function HomeCtrl(Resolved, $scope, Thing, socket, logger) { var vm = this; vm.shown = {}; vm.awesomeThings = Resolved; vm.addThing = addThing; vm.deleteThing = deleteThing; vm.showThing = showThing; vm.createNewThing = createNewThing; vm.updateThing = updateThing; socket.syncUpdates('things', vm.awesomeThings); function addThing() { if(vm.newThing === '') { return; } vm.awesomeThings.post( vm.newThing); vm.newThing = ''; vm.showDetail = false; vm.creating = false; vm.shown = {}; } function deleteThing(thing) { vm.awesomeThings.one(thing._id).remove(); vm.showDetail = false; vm.editing = false; } function updateThing(thing){ thing .update() .then( function (data) { vm.editing = false; }); } function showThing(thing){ if(thing._id === vm.shown._id){ vm.showDetail = false; vm.shown = {}; } else { vm.showDetail = true; vm.shown = thing; } } function createNewThing(){ vm.showDetail = true; vm.shown = {}; vm.creating = true; } $scope.$on('$destroy', function () { socket.unsyncUpdates('things'); }); } }).call(this);
define_browser_object_class("stackexchange-votes", "Browser object class for selecting a vote arrow via hinting.", xpath_browser_object_handler(' ' | $hint = "select a vote"); define_browser_object_class("stackexchange-accept-answers", "Browser object class for selecting an accepted answer check via hinting.", xpath_browser_object_handler(' $hint = "select an accepted answer"); interactive("stackexchange-vote", "Vote on StackExchange sites", function (I) { var elem = yield read_browser_object(I); dom_node_click(elem, 1, 1); }, $browser_object = browser_object_stackexchange_votes); interactive("stackexchange-accept-answer", "Accept an answer on StackExchange site", function (I) { var elem = yield read_browser_object(I); dom_node_click(elem, 1, 1); }, $browser_object = browser_object_stackexchange_accept_answers); interactive("stackexchange-favorite-question", "Favorite a question on StackExchange site", function (I) { var xpr = I.buffer.document.evaluate( ' I.buffer.document, null, Ci.nsIDOMXPathResult.ORCERD_NOTE_ITERATOR_TYPE, null); let elem; if(xpr && (elem = xpr.iterateNext())) { dom_node_click(elem, 1, 1); } }); define_keymap("stackexchange_keymap", $display_name = "stackexchange"); define_key(stackexchange_keymap, "V", "stackexchange-vote"); define_key(stackexchange_keymap, "A", "stackexchange-accept-answer"); define_key(stackexchange_keymap, "O", "stackexchange-favorite-question"); [ "?", "a", "b", "c", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "return" ].map(function (x) define_key(stackexchange_keymap, x, null, $fallthrough)); define_keymaps_page_mode("stackexchange-mode", /^https?:\/\/(?:www\.|meta\.)?(stackoverflow|[a-z]+\.stackexchange|serverfault|superuser|stackapps)\.(?:com)\/(?!review|users)/, { normal: stackexchange_keymap }, $display_name = "StackExchange"); page_mode_activate(stackexchange_mode); provide("stackexchange");
var async = require('async'); var $ = require('../lib/jquery.go.js'); $.config.site = 'http: $.config.addJQuery = false; $.visit('/node', function() { $('h2 a').each(function(index, element, done) { this.text(function(text) { console.log(text); done(); }); }, function() { console.log('done'); $.close(); }); });
(function() { var errorHandler = function(msg, trace) { var msgStack = ['ERROR: ' + msg]; if (trace) { msgStack.push('TRACE:'); trace.forEach(function(t) { msgStack.push(' -> ' + t.file + ': ' + t.line + (t.function ? ' (in function "' + t.function + '")' : '')); }); } console.error(msgStack.join('\n')); phantom.exit(1); }; phantom.onError = errorHandler; var system = require('system'); var args = system.args; if (args.length !== 2) { console.log("Need a url as the argument"); phantom.exit(1); } var page = new WebPage(); page.onConsoleMessage = function(msg) { console.log(msg); }; page.onCallback = function(data) { if (data.event === 'exit') { phantom.exit(data.exitCode); } else if (data.event === 'writeFile') { var fs = require("fs"); fs.write(data.filename, data.text, 'w'); } else { console.log('unknown event callback: ' + data); } }; page.onError = errorHandler; page.onInitialized = function() { return page.evaluate(function() { return window.onload = function() { var exitCode = 0, originalReportSpecResults = jsApiReporter.reportSpecResults, originalJasmineDone = jsApiReporter.reportRunnerResults || jsApiReporter.jasmineDone; jsApiReporter.reportSpecResults = function(spec) { originalReportSpecResults.call(jsApiReporter, spec); if (spec.results().failedCount > 0) { exitCode = 1; } }; jsApiReporter.reportRunnerResults = jsApiReporter.jasmineDone = function(runner) { originalJasmineDone.call(jsApiReporter, runner); if(jsApiReporter.specs) { jsApiReporter.specs().forEach(function(spec) { if(spec.status === "failed") { exitCode = 1; } }) } setTimeout(function() { window.callPhantom({ event: 'exit', exitCode: exitCode }); }, 1); }; }; }); }; var address = args[1]; console.log('Running: ' + address); page.open(address, function(status) { if (status !== "success") { console.log("can't load the address!"); return phantom.exit(1); } }); })();
var _add = require('./_add'); var _concat = require('./_concat'); var _createMapEntry = require('./_createMapEntry'); var _identity = require('./_identity'); var _isTransformer = require('./_isTransformer'); var isArrayLike = require('../isArrayLike'); var merge = require('../merge'); module.exports = (function() { var _stepCatArray = { '@@transducer/init': Array, '@@transducer/step': function(xs, x) { return _concat(xs, [x]); }, '@@transducer/result': _identity }; var _stepCatString = { '@@transducer/init': String, '@@transducer/step': _add, '@@transducer/result': _identity }; var _stepCatObject = { '@@transducer/init': Object, '@@transducer/step': function(result, input) { return merge( result, isArrayLike(input) ? _createMapEntry(input[0], input[1]) : input ); }, '@@transducer/result': _identity }; return function _stepCat(obj) { if (_isTransformer(obj)) { return obj; } if (isArrayLike(obj)) { return _stepCatArray; } if (typeof obj === 'string') { return _stepCatString; } if (typeof obj === 'object') { return _stepCatObject; } throw new Error('Cannot create transformer for ' + obj); }; })();
var fs = require('fs'), marked = require('marked'), path = require('path'), getExtension = function(filename) { var ext = path.extname(filename||'').split('.'); return ext[ext.length - 1]; }, docPath = "../documentation/misojs.wiki", docs = {}; var renderer = new marked.Renderer(); renderer.heading = function (text, level) { var escapedText = text.toLowerCase().replace(/[^\w]+/g, '-'); return '<h' + level + '><a name="' + escapedText + '" class="anchor" href="#' + escapedText + '"><span class="header-link">' + text + '</span></a></h' + level + '>'; }; renderer.link = function (href, title, text) { var target; if(href.indexOf("../") == 0 || href.indexOf("https: href = "/doc/" + href.substr(href.lastIndexOf("/") + 1) + ".md"; } else if(href.indexOf("http") == 0) { target = "_blank"; } return '<a href="' + href + '"' + (title? ' title="' + title + '"': '') + (target? ' target="' + target + '"': '') + '>' + text + '</a>'; }; fs.readdirSync(docPath) .filter(function(file) { return (file.indexOf('.') !== 0) && getExtension(file) == "md"; }) .forEach(function(file) { var docFile = path.join(docPath, file); docs[file] = marked(fs.readFileSync(docFile, {encoding: 'utf8'}), { gfm: true, renderer: renderer }); }); fs.writeFileSync("../public/miso.documentation.js", "module.exports = function(){ return " + JSON.stringify(docs) + "; };"); module.exports = function(){ return docs; };
'use strict'; it('fails exactly once when a global error is thrown first', function(done) { setTimeout(function() { throw new Error('global error'); setTimeout(function() { done(new Error('test error')); }, 0); }, 0); }); it('fails exactly once when a global error is thrown second', function(done) { setTimeout(function() { done(new Error('test error')); }, 0); setTimeout(function() { throw new Error('global error'); }, 0); });
var fs = require('fs'); exports.readJson = exports.readJSON = function (file, callback) { if (typeof callback !== 'function') { throw new Error('utile.file.readJson needs a callback'); } fs.readFile(file, 'utf-8', function (err, data) { if (err) { return callback(err); } try { var json = JSON.parse(data); callback(null, json); } catch (err) { return callback(err); } }); }; exports.readJsonSync = exports.readJSONSync = function (file) { return JSON.parse(fs.readFileSync(file, 'utf-8')); };
var getErrorMessage = require('./../errorMessage'); module.exports = { data: function () { return { email: '', password: '' } }, methods: { signup: function () { var vm = this; var $auth = this.$parent; var user = { email: vm.email, password: vm.password }; $auth.isLoading = true; $auth.$user.signup(user) .then(userCreated) .catch(authError.bind($auth)) .catch(signupError) .finally(function () { $auth.isLoading = false; }); function userCreated(user) { $auth.errors = {}; vm.$dispatch('signup:success', user); vm.login(); } function signupError(error) { vm.$dispatch('signup:error', error); } }, login: function () { var vm = this; var $auth = this.$parent; var user = { email: this.email, password: this.password }; $auth.isLoading = true; $auth.$user.login(user) .then(loggedIn) .catch(authError.bind($auth)) .catch(loginError) .finally(function () { $auth.isLoading = false; }); function loggedIn(authData) { $auth.errors = {}; vm.$dispatch('login:success', authData); } function loginError(error) { vm.$dispatch('login:error', error); } } } }; function authError(error) { var message = getErrorMessage(error); this.errors.$add(error.code, message); throw error; }
var assert = require('assert'); var R = require('..'); describe('uniq', function() { it('returns a set from any array (i.e. purges duplicate elements)', function() { var list = [1, 2, 3, 1, 2, 3, 1, 2, 3]; assert.deepEqual(R.uniq(list), [1, 2, 3]); }); it('keeps elements from the left', function() { assert.deepEqual(R.uniq([1, 2, 3, 4, 1]), [1, 2, 3, 4]); }); it('returns an empty array for an empty array', function() { assert.deepEqual(R.uniq([]), []); }); });
(function($, undefined) { var $window = $(window), $html = $("html"), resolutionBreakpoints = [ 320, 480, 768, 1024 ]; function detectResolutionBreakpoints() { var currWidth = $window.width(), minPrefix = "min-width-", maxPrefix = "max-width-", minBreakpoints = [], maxBreakpoints = [], unit = "px", breakpointClasses; $html.removeClass(minPrefix + resolutionBreakpoints.join(unit + " " + minPrefix) + unit + " " + maxPrefix + resolutionBreakpoints.join(unit + " " + maxPrefix) + unit); $.each(resolutionBreakpoints, function(i, breakPoint) { if (currWidth >= breakPoint) { minBreakpoints.push(minPrefix + breakPoint + unit); } if (currWidth <= breakPoint) { maxBreakpoints.push(maxPrefix + breakPoint + unit); } }); if (minBreakpoints.length) { breakpointClasses = minBreakpoints.join(" "); } if (maxBreakpoints.length) { breakpointClasses += " " + maxBreakpoints.join(" "); } $html.addClass(breakpointClasses); } ; $.mobile.addResolutionBreakpoints = function(newbps) { if ($.type(newbps) === "array") { resolutionBreakpoints = resolutionBreakpoints.concat(newbps); } else { resolutionBreakpoints.push(newbps); } resolutionBreakpoints.sort(function(a, b) { return a - b; }); detectResolutionBreakpoints(); }; $(document).bind("mobileinit.htmlclass", function() { var ev = $.support.orientation; $window.bind("orientationchange.htmlclass throttledresize.htmlclass", function(event) { if (event.orientation) { $html.removeClass("portrait landscape").addClass(event.orientation); } detectResolutionBreakpoints(); }); }); $(function() { $window.trigger("orientationchange.htmlclass"); }); })(jQuery);
describe('AMD', function() { it('should define F2', function() { var isLoaded = false; require(["../sdk/f2.min.js"], function (nonGlobalF2) { isLoaded = typeof nonGlobalF2 !== "undefined"; }); waitsFor(function() { return isLoaded; }, 'F2-AMD never loaded', 10000); runs(function() { }); }); it('should still globally define F2', function() { expect(F2).toBeDefined(); }); });
﻿function Forces(){ } Forces.zeroForce = function() { return (new Vector2D(0,0)); } Forces.constantGravity = function(m,g){ return new Vector2D(0,m*g); } Forces.gravity = function(G,m1,m2,r){ return r.multiply(-G*m1*m2/(r.lengthSquared()*r.length())); } Forces.gravityModified = function(G,m1,m2,r,eps){ return r.multiply(-G*m1*m2/((r.lengthSquared()+eps*eps)*r.length())); } Forces.electric = function(k,q1,q2,r){ return r.multiply(k*q1*q2/(r.lengthSquared()*r.length())); } Forces.forceField = function(q,E) { return E.multiply(q); } Forces.lorentz = function(q,E,B,vel) { return E.multiply(q).add(vel.perp(q*B*vel.length())); } Forces.central = function(k,n,r) { return r.multiply(k*Math.pow(r.length(),n-1)); } Forces.linearDrag = function(k,vel){ var force; var velMag = vel.length(); if (velMag > 0) { force = vel.multiply(-k); }else { force = new Vector2D(0,0); } return force; } Forces.drag = function(k,vel) { var force; var velMag = vel.length(); if (velMag > 0) { force = vel.multiply(-k*velMag); } else { force = new Vector2D(0,0); } return force; } Forces.lift = function(k,vel) { var force; var velMag = vel.length(); if (velMag > 0) { force = vel.perp(k*velMag); } else { force = new Vector2D(0,0); } return force; } Forces.upthrust = function(rho,V,g) { return new Vector2D(0,-rho*V*g); } Forces.vortex = function(k,r0,r){ var force; var rMag = r.length(); if (rMag > 0){ if (rMag > r0) { force = r.multiply(-k*Math.pow(r0/rMag,4)); }else{ force = r.multiply(k); } }else{ force = new Vector2D(0,0); } return force; } Forces.spring = function(k,r){ return r.multiply(-k); } Forces.damping = function(c,vel){ var force; var velMag = vel.length(); if (velMag>0) { force = vel.multiply(-c); } else { force = new Vector2D(0,0); } return force; } Forces.add = function(arr){ var forceSum = new Vector2D(0,0); for (var i=0; i<arr.length; i++){ var force = arr[i]; forceSum.incrementBy(force); } return forceSum; }
delete global.Promise; require("native-promise-only"); var helpers = require('./helpers'); describe('denodeify with native promise only', helpers.basicDenodeify); describe('denodeify with native promise only using multiple arguments', helpers.multipleArguments);
var assert = require('assert') , BigInt = require('../../../vendor/bigint.js') describe('BigInt', function() { "use strict"; it('should exponentiate a BigInt with base two', function () { assert.equal((Math.pow(2, 513)).toString(16), BigInt.bigInt2str(BigInt.twoToThe(513), 16)) }) it('should return a bit string of the proper length', function () { var test = BigInt.str2bigInt((Math.pow(2, 30)).toString(), 10) assert.equal(4, BigInt.bigInt2bits(test).length) }) it('should handle shift distances greater than the bit length of x', function () { var bi = BigInt.str2bigInt("10000000000", 2) BigInt.rightShift_(bi, 12) assert.ok(BigInt.equalsInt(bi, 0)) bi = BigInt.str2bigInt("10", 2) BigInt.rightShift_(bi, 26*3) assert.ok(BigInt.equalsInt(bi, 0)) }) })
var $scanReadout = $("#scanReadout"); var $environmentSegments = $( ".science-environmental-segment" ); var segmentColors = [ "#60DDF7", "#0F8AA6", "#03BD11", "#83E589", "#CCC463" ]; var segmentInterval = 1000; var updateInterval = 1000; function moveColors() { _.each( $environmentSegments, function( segment ) { var color = segmentColors[ Math.floor( Math.random() * segmentColors.length ) ] $( segment ).attr( "fill", color ); } ); } function updateScan( environmentalData ) { $scanReadout.empty(); var scanTemplate = "<ul class='science-environmental-data'>{{#data}}<li>{{ parameter }}: {{ readout }}</li>{{/data}}</ul>"; var html = Mustache.render( scanTemplate, { data : environmentalData } ) console.log( html ); var $scanData = $( html ); $scanReadout.append( $scanData ); } function pollScan() { trek.api( 'science/environmental-scan', updateScan ); } setInterval( moveColors, segmentInterval ); setInterval( pollScan, updateInterval ); trek.onAlert( function() { return; } );
var express = require("express"); var join = require("path").join; var router = new express.Router(); function home(req, res) { res.render("site/home"); } function team(req, res) { res.render("site/team"); } router.use(express.static(join(__dirname, "../../wwwroot"))); router.get("/", home); router.get("/team", team); module.exports = router;
var utile = require('utile'), base = require('../../core/storage/file'); var File = exports.File = function File(client, details) { base.File.call(this, client, details); }; utile.inherits(File, base.File); File.prototype._setProperties = function (details) { var self = this; this.name = details.name || details.Key; this.size = +(details.Size || details['content-length']) || 0; this.container = details.container; this.storageClass = this.StorageClass; };
var _contains = require('./internal/_contains'); var _curry2 = require('./internal/_curry2'); var _filter = require('./internal/_filter'); var flip = require('./flip'); var uniq = require('./uniq'); module.exports = _curry2(function intersection(list1, list2) { return uniq(_filter(flip(_contains)(list1), list2)); });
define([ './module1/app', './myPage2/app' ], function() { });
var Client = new require('../../../../lib/pkgcloud/core/base/client').Client; var helpers = require('../../../helpers'); var pkgcloud = require('../../../../lib/pkgcloud'); var client = helpers.createClient('azure', 'compute'); client.destroyServer('test-reboot', function(err, result) { if(err) { console.log(err); } else { console.log('ok'); } });
module.exports = function cond() { var pairs = arguments; return function() { var idx = -1; while (++idx < pairs.length) { if (pairs[idx][0].apply(this, arguments)) { return pairs[idx][1].apply(this, arguments); } } }; };
$( document ).on("pagecreate", "#reviewsPage", function() { $( "#twitterBtn" ).on( "click", function(e) { $.mobile.loading( 'show' ); $( "body" ).pagecontainer( "load", "twitter.html", { reloadPage: true }); return false; }); }); $( document ).on("pagebeforecreate", "#twitterPage", function() { $.ajax({ url: "response.json", success: function( response ) { var markup = ""; $.each(response.results, function(index, result) { var $template = $('<div><li><img class="ui-li-icon profile"><p class="from"></p><p class="tweet"></p></li></div>'); $template.find(".from").html(result.from_user); $template.find(".tweet").html(result.text); $template.find(".profile").attr("src", result.profile_image_url); markup += $template.html(); }); $( "#tweet-list" ).html(markup).listview( "refresh", true ); $( "body" ).pagecontainer( "change", "#twitterPage", { transition: "slide" }); }, timeout: 6000, error: function(jqXHR, textStatus, errorThrown) { console.log("Error, textStatus: " + textStatus + " errorThrown: "+ errorThrown); $.mobile.loading( 'hide' ); $( "<div class='ui-loader ui-overlay-shadow ui-body-e ui-corner-all'><h1>"+ $.mobile.pageLoadErrorMessage +"</h1></div>" ) .css({ "display": "block", "opacity": 0.96, "top": 100 }) .appendTo( $.mobile.pageContainer ) .delay( 800 ) .fadeOut( 1000, function() { $( this ).remove(); }); } }); });
;(function(){ var chalk = require('chalk'); var _ = require('lodash'); var util = require('util') 'use strict'; var logger = module.exports; logger.log = log; logger.info = info; logger.warn = warn; logger.show = show; logger.error = error; function log(){ console.log.apply(console, arguments) } function success(){ this.log( this._heading, chalk.green(util.format.apply(util, arguments) ) ); } function info(){ this.log( this._heading, chalk.blue(util.format.apply(util, arguments) ) ); } function warn(){ this.log(this._heading, chalk.yellow(util.format.apply(util, arguments) )) } function error(){ this.log(this._headingErr, chalk.red(util.format.apply(util, arguments) )) } function show(){ this.log(this._headingShow, util.format.apply(util, arguments) ) } }).call(this);
module.exports = function getErrorString (err) { var errors = require("../errors").fails; if (errors[err._type]) { return errors[err._type]({error: err}); } return err.message || err; };
d3.layout.cluster = function() { var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [1, 1]; function cluster(d, i) { var nodes = hierarchy.call(this, d, i), root = nodes[0], previousNode, x = 0, kx, ky; d3_layout_treeVisitAfter(root, function(node) { var children = node.children; if (children && children.length) { node.x = d3_layout_clusterX(children); node.y = d3_layout_clusterY(children); } else { node.x = previousNode ? x += separation(node, previousNode) : 0; node.y = 0; previousNode = node; } }); var left = d3_layout_clusterLeft(root), right = d3_layout_clusterRight(root), x0 = left.x - separation(left, right) / 2, x1 = right.x + separation(right, left) / 2; d3_layout_treeVisitAfter(root, function(node) { node.x = (node.x - x0) / (x1 - x0) * size[0]; node.y = (1 - node.y / root.y) * size[1]; }); return nodes; } cluster.separation = function(x) { if (!arguments.length) return separation; separation = x; return cluster; }; cluster.size = function(x) { if (!arguments.length) return size; size = x; return cluster; }; return d3_layout_hierarchyRebind(cluster, hierarchy); }; function d3_layout_clusterY(children) { return 1 + d3.max(children, function(child) { return child.y; }); } function d3_layout_clusterX(children) { return children.reduce(function(x, child) { return x + child.x; }, 0) / children.length; } function d3_layout_clusterLeft(node) { var children = node.children; return children && children.length ? d3_layout_clusterLeft(children[0]) : node; } function d3_layout_clusterRight(node) { var children = node.children, n; return children && (n = children.length) ? d3_layout_clusterRight(children[n - 1]) : node; }
module.exports.assets = { sequence: [ 'assets/mixins', 'assets/js', 'assets/styles', 'assets/templates' ] };
'use strict'; var ps = require('../main') , psInstances = require('../plugin/instances'); function mountJQuery(jQuery) { jQuery.fn.perfectScrollbar = function (settingOrCommand) { return this.each(function () { if (typeof settingOrCommand === 'object' || typeof settingOrCommand === 'undefined') { var settings = settingOrCommand; if (!psInstances.get(this)) { ps.initialize(this, settings); } } else { var command = settingOrCommand; if (command === 'update') { ps.update(this); } else if (command === 'destroy') { ps.destroy(this); } } return jQuery(this); }); }; } if (typeof define === 'function' && define.amd) { define(['jquery'], mountJQuery); } else { var jq = window.jQuery ? window.jQuery : window.$; if (typeof jq !== 'undefined') { mountJQuery(jq); } } module.exports = mountJQuery;
define(function(require, exports, module) { "use strict"; var assert = require("assert"); assert.position = function(cursor, row, column) { assert.equal(cursor.row, row); assert.equal(cursor.column, column); }; assert.range = function(range, startRow, startColumn, endRow, endColumn) { assert.position(range.start, startRow, startColumn); assert.position(range.end, endRow, endColumn); }; assert.notOk = function(value) { assert.equal(value, false); }; exports.jsonEquals = function(foundJson, expectedJson) { assert.equal(JSON.stringify(foundJson), JSON.stringify(expectedJson)); }; module.exports = assert; });
(function(){ 'use strict'; var _ = require('lodash'); var path = require('path'); var gulp = require('gulp'); var fs = require('fs.extra'); module.exports = function ( $, paths, filters, templates, slushy) { var __this = this; var modelFilePath = path.join( paths.dest, filters.names.single.slug +'.model.js' ); if (!fs.existsSync(modelFilePath)) { generate_server_model(); } gulp.src( templates.base.any('*.model.test.js') ) .pipe( $.template( filters ) ) .pipe( $.rename( __this.files().rename( filters.names.single.slug ) )) .pipe( $.conflict( paths.dest )) .pipe( gulp.dest( paths.dest )); function generate_server_model(){ gulp.src( templates.base.all() ) .pipe( $.template( filters ) ) .pipe( $.rename( __this.files().rename( filters.names.single.slug ) )) .pipe( $.conflict( paths.dest )) .pipe( gulp.dest( paths.dest )); } }; })();
var config = require('./modules/config.js'); var express = require('express'); var http = require('http'); var _ = require('underscore'); var services = require('./modules/services.js'); var app = express(); app.configure(function () { app.set('port', process.env.PORT || 3030); app.set('views', __dirname + '/../client/views'); app.set('view engine', 'jade'); app.use(express.favicon()); app.use(express.logger('dev')); app.use(express.bodyParser()); app.use(express.methodOverride()); app.use(express.cookieParser('CDqHZyw4v8NPxUWoecuA')); app.use(express.session()); app.use(app.router); app.use(express.static(config.root + '/public')); }); app.configure('development', function () { app.use(express.errorHandler({ dumpExceptions: true, showStack: true })); }); app.configure('production', function () { app.use(express.errorHandler()); }); require('./modules/routes')(app); http.createServer(app).listen(app.get('port'), function () { console.log('Express server listening on port ' + app.get('port')); }); services.startJobRunner();
function VolumeSample() { loadSounds(this, { buffer: 'techno.wav' }); this.isPlaying = false; }; VolumeSample.prototype.play = function() { this.gainNode = context.createGain(); this.source = context.createBufferSource(); this.source.buffer = this.buffer; this.source.connect(this.gainNode); this.gainNode.connect(context.destination); this.source.loop = true; this.source[this.source.start ? 'start' : 'noteOn'](0); }; VolumeSample.prototype.changeVolume = function(element) { var volume = element.value; var fraction = parseInt(element.value) / parseInt(element.max); this.gainNode.gain.value = fraction * fraction; }; VolumeSample.prototype.stop = function() { this.source[this.source.stop ? 'stop' : 'noteOff'](0); }; VolumeSample.prototype.toggle = function() { this.isPlaying ? this.stop() : this.play(); this.isPlaying = !this.isPlaying; };
var config = { appName: 'Jake JavaScript Build Tool (development)' , detailedErrors: true , debug: true , watch: { files : [ '/config' , '/lib' , '/app/controllers' , '/app/models' , '/app/views' , '/app/helpers' ] , includePattern: '\\.(js|coffee|css|less|scss)$' , excludePattern: '\\.git|node_modules' } , hostname: null , port: 4000 }; module.exports = config;
var isSet = require('../..').isSet; var unsortedBag = [8, 2, 85, 2, 34, 3, 23, 247, 57, 8, 0, 6, 5, 46, 54, 643]; var unsortedSet = [8, 2, 85, 34, 3, 23, 247, 57, 8, 0, 6, 5, 46, 54, 643]; var sortedSet = unsortedSet.sort(); var sortedBag = unsortedBag.sort(); module.exports = { name: 'isSet', tests: { 'isSet(unsortedBag)': function() { isSet(unsortedBag); }, 'isSet(unsortedSet)': function() { isSet(unsortedSet); }, 'isSet(sortedBag)': function() { isSet(sortedBag); }, 'isSet(sortedSet)': function() { isSet(sortedSet); }, } };
try { module.exports = require('../build/Release/validation'); } catch (e) { try { module.exports = require('../build/default/validation'); } catch (e) { try { module.exports = require('./Validation.fallback'); } catch (e) { console.error('validation.node seems to not have been built. Run npm install.'); throw e; }}}
module.exports = function _filterIndexed(fn, list) { var idx = -1, len = list.length, result = []; while (++idx < len) { if (fn(list[idx], idx, list)) { result[result.length] = list[idx]; } } return result; };
mySettings = { nameSpace: "textile", previewParserPath: '', onShiftEnter: {keepDefault:false, replaceWith:'\n\n'}, markupSet: [ {name:'Heading 1', key:'1', openWith:'h1(!(([![Class]!]))!). ', placeHolder:'Your title here...' }, {name:'Heading 2', key:'2', openWith:'h2(!(([![Class]!]))!). ', placeHolder:'Your title here...' }, {name:'Heading 3', key:'3', openWith:'h3(!(([![Class]!]))!). ', placeHolder:'Your title here...' }, {name:'Heading 4', key:'4', openWith:'h4(!(([![Class]!]))!). ', placeHolder:'Your title here...' }, {name:'Heading 5', key:'5', openWith:'h5(!(([![Class]!]))!). ', placeHolder:'Your title here...' }, {name:'Heading 6', key:'6', openWith:'h6(!(([![Class]!]))!). ', placeHolder:'Your title here...' }, {name:'Paragraph', key:'P', openWith:'p(!(([![Class]!]))!). '}, {separator:'---------------' }, {name:'Bold', key:'B', closeWith:'*', openWith:'*'}, {name:'Italic', key:'I', closeWith:'_', openWith:'_'}, {name:'Stroke through', key:'S', closeWith:'-', openWith:'-'}, {separator:'---------------' }, {name:'Bulleted list', openWith:'(!(* |!|*)!)'}, {name:'Numeric list', openWith:'(!(# |!|#)!)'}, {separator:'---------------' }, {name:'Table generator', className:'tablegenerator', placeholder:"Your text here...", replaceWith:function(h) { cols = prompt("How many cols?"); rows = prompt("How many rows?"); html = ""; for (r = 0; r < rows; r++) { for (c = 0; c < cols; c++) { html += "|"+(h.placeholder||""); } html += "|\n"; } return html; } }, {separator:'---------------' }, {name:'Picture', replaceWith:'![![Source:!:http: {name:'Link', openWith:'"', closeWith:'([![Title]!])":[![Link:!:http: {separator:'---------------' }, {name:'Quotes', openWith:'bq(!(([![Class]!]))!). '}, {name:'Code', openWith:'@', closeWith:'@'}, {separator:'---------------' }, {name:'Preview', call:'preview', className:'preview'} ] }
module.declare( ["lib/assert", "a"], function(require, exports, module) { var assert = require('lib/assert'); var a = require("a"); var foo = a.foo; exports['test module method 1'] = function() { assert.equal(a.foo(), a); }; exports['test module method 2'] = function() { assert.equal(foo(), function() { return this; }); }; exports['test module method 2'] = function() { a.set(10); assert.equal(a.get(), 10); }; } );
module.exports.port = Number(process.env.PORT || 3000); module.exports.secret_key = "github_secret_key";
'use strict'; var express = require('express'); var passport = require('passport'); var auth = require('../auth.service'); var router = express.Router(); router .get('/', passport.authenticate('facebook', { scope: ['email', 'user_about_me'], failureRedirect: '/signup', session: false })) .get('/callback', passport.authenticate('facebook', { failureRedirect: '/signup', session: false }), auth.setTokenCookie); module.exports = router;
define_key(default_base_keymap, "C-u", "universal-argument"); for (var i = 0; i <= 9; ++i) define_key(universal_argument_keymap, String(i), "universal-digit"); define_key(universal_argument_keymap, "-", "universal-negate");
﻿var canvas = document.getElementById('canvas'); var context = canvas.getContext('2d'); var jumper; var fixedPoint; var displ = new Vector2D(0,0); var center = new Vector2D(0.5*canvas.width,50); var mass = 90; var g = 20; var kDamping = 0.02; var kSpring = 25; var cordLength = 100; var t0, dt; var acc, force; var animId; window.onload = init; function init() { jumper = new StickMan(); jumper.mass = mass; jumper.pos2D = center; jumper.draw(context); fixedPoint = new Ball(2,'#000000'); fixedPoint.pos2D = center; fixedPoint.draw(context); t0 = new Date().getTime(); animFrame(); }; function animFrame(){ animId = requestAnimationFrame(animFrame,canvas); onTimer(); } function onTimer(){ var t1 = new Date().getTime(); dt = 0.001*(t1-t0); t0 = t1; if (dt>0.2) {dt=0;}; move(); } function move(){ context.clearRect(0, 0, canvas.width, canvas.height); drawSpring(jumper); moveObject(jumper); calcForce(jumper); updateAccel(); updateVelo(jumper); } function drawSpring(obj){ fixedPoint.draw(context); context.save(); if (displ.length() > cordLength){ context.lineStyle = '#999999'; context.lineWidth = 2; }else{ context.lineStyle = '#cccccc'; context.lineWidth = 1; } context.moveTo(center.x,center.y); context.lineTo(obj.x,obj.y); context.stroke(); context.restore(); } function moveObject(obj){ obj.pos2D = obj.pos2D.addScaled(obj.velo2D,dt); obj.draw(context); } function calcForce(obj){ displ = obj.pos2D.subtract(center); var gravity = Forces.constantGravity(mass,g); var damping = Forces.drag(kDamping,obj.velo2D); var extension = displ.subtract(displ.unit().multiply(cordLength)); var restoring; if (displ.length() > cordLength) { restoring = Forces.spring(kSpring,extension); }else{ restoring = new Vector2D(0,0); } force = Forces.add([gravity, damping, restoring]); } function updateAccel(){ acc = force.multiply(1/mass); } function updateVelo(obj){ obj.velo2D = obj.velo2D.addScaled(acc,dt); }
basePath = '../'; files = [ ANGULAR_SCENARIO, ANGULAR_SCENARIO_ADAPTER, 'test/e2e *.js' ]; autoWatch = false; browsers = ['Chrome']; singleRun = true; proxies = { '/': 'http: }; junitReporter = { outputFile: 'e2e.xml', suite: 'e2e' };
module.exports.qunit = __dirname + '/qunit'; module.exports.tape = __dirname + '/tape'; module.exports.jasmine = __dirname + '/jasmine'; module.exports.jasmine2 = __dirname + '/jasmine2'; module.exports['mocha-bdd'] = __dirname + '/mocha'; module.exports['mocha-tdd'] = __dirname + '/mocha'; module.exports['mocha-qunit'] = __dirname + '/mocha';
var testdata = require("../test/test.json"); var matches = testdata.matches; var players = testdata.players; var ratings = [{ "match_id": 1238535235, "account_id": 88367253, "soloCompetitiveRank": 1765, "competitiveRank": 2783, "time": ISODate("2015-02-14T19:51:14Z") }, { "match_id": 1238525881, "account_id": 88367253, "soloCompetitiveRank": 3566, "competitiveRank": 3647, "time": ISODate("2015-02-14T19:54:27Z") }, { "match_id": 1238514627, "account_id": 88367253, "soloCompetitiveRank": 3125, "competitiveRank": 3408, "time": ISODate("2015-02-14T19:57:23Z") }, { "account_id": 1234, "competitiveRank": 3690, "match_id": 1233353317, "soloCompetitiveRank": 3440, "time": ISODate("2015-02-13T08:07:18Z") }, { "account_id": 88367253, "competitiveRank": 3690, "match_id": 1233353318, "soloCompetitiveRank": 3940, "time": ISODate("2015-02-28T08:07:18Z") }] db.players.drop(); db.matches.drop(); db.ratings.drop(); db.players.insert(players); db.matches.insert(matches); db.ratings.insert(ratings);
﻿module.exports = { standard: function standard(res) { 'use strict'; return function (result) { res.status(result.status).send(result.data); }; } };
({ text: Ti.UI.currentTab.title, app: Ti.UI.currentWindow.app, win: Ti.UI.currentWindow, jsonpTest: function() { this.app.foundation.UI.openWindow('Cats pictures (Flickr API)', Ti.UI.currentTab, {file: 'jsonpTest.js'}); }, init: function() { var data = [ {title: 'JSONP request', fn: 'jsonpTest', hasChild: true} ]; var table = Ti.UI.createTableView({ data: data }); var self = this; table.addEventListener('click', function(e) { if(typeof self[e.rowData.fn] == 'function') { self[e.rowData.fn].apply(self); } }); this.win.add(table); } }).init();
jQuery(function($) { $.datepicker.regional['de'] = { closeText: 'schließen', prevText: '&#x3c;zurück', nextText: 'Vor&#x3e;', currentText: 'heute', monthNames: ['Januar','Februar','März','April','Mai','Juni', 'Juli','August','September','Oktober','November','Dezember'], monthNamesShort: ['Jan','Feb','Mär','Apr','Mai','Jun', 'Jul','Aug','Sep','Okt','Nov','Dez'], dayNames: ['Sonntag','Montag','Dienstag','Mittwoch','Donnerstag','Freitag','Samstag'], dayNamesShort: ['So','Mo','Di','Mi','Do','Fr','Sa'], dayNamesMin: ['So','Mo','Di','Mi','Do','Fr','Sa'], weekHeader: 'Wo', dateFormat: 'dd.mm.yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['de']); });
var assert = require('assert'), vows = require('vows'), utile = require('../lib'); var obj1, obj2; obj1 = { foo: true, bar: { bar1: true, bar2: 'bar2' } }; obj2 = { baz: true, buzz: 'buzz' }; obj2.__defineGetter__('bazz', function () { return 'bazz'; }); vows.describe('utile').addBatch({ "When using utile": { "it should have the same methods as the `util` module": function () { Object.keys(require('util')).forEach(function (fn) { if (fn !== 'inspect') { assert.isFunction(utile[fn]); } }); }, "it should have the correct methods defined": function () { assert.isFunction(utile.mixin); assert.isFunction(utile.clone); assert.isFunction(utile.rimraf); assert.isFunction(utile.mkdirp); assert.isFunction(utile.cpr); }, "the mixin() method": function () { var mixed = utile.mixin({}, obj1, obj2); assert.isTrue(mixed.foo); assert.isObject(mixed.bar); assert.isTrue(mixed.baz); assert.isString(mixed.buzz); assert.isTrue(!!mixed.__lookupGetter__('bazz')); assert.isString(mixed.bazz); }, "the clone() method": function () { var clone = utile.clone(obj1); assert.isTrue(clone.foo); assert.isObject(clone.bar); assert.notStrictEqual(obj1, clone); }, "the createPath() method": function () { var x = {}, r = Math.random(); utile.createPath(x, ['a','b','c'], r) assert.equal(x.a.b.c, r) } } }).export(module);
var AMP_REGEX = /&/g, NBSP_REGEX = /\u00a0/g, DOUBLE_QUOTE_REGEX = /"/g, LT_REGEX = /</g, GT_REGEX = />/g; exports.escapeHtml = function (str, attrMode) { str = str .replace(AMP_REGEX, '&amp;') .replace(NBSP_REGEX, '&nbsp;'); if (attrMode) str = str.replace(DOUBLE_QUOTE_REGEX, '&quot;'); else { str = str .replace(LT_REGEX, '&lt;') .replace(GT_REGEX, '&gt;'); } return str; }; var getAttrValue = exports.getAttrValue = function (attrs, attrName) { for (var i = 0; i < attrs.length; i++) { if (attrs[i].name.toLowerCase() === attrName) return attrs[i].value; } return null; }; exports.setAttrValue = function (attrs, attrName, value) { for (var i = 0; i < attrs.length; i++) { if (attrs[i].name.toLowerCase() === attrName) { attrs[i].value = value; break; } } }; exports.isStylesheet = function (startTag) { if (startTag.tagName === 'link') { var relAttr = getAttrValue(startTag.attrs, 'rel'); return relAttr && relAttr.toLowerCase() === 'stylesheet'; } return false; }; exports.isPlainText = function (inBody, leadingStartTag, text) { return inBody && leadingStartTag !== 'script' && leadingStartTag !== 'style' && text.trim().length > 0; }; exports.toLookupTable = function (arr) { return arr.reduce(function (table, value) { table[value] = true; return table; }, {}); };
define({ root: { noLegend: 'No Legend', moveUp: 'Move Up', moveDown: 'Move Down', zoomTo: 'Zoom to Layer', transparency: 'Transparency', metadata: 'Metadata', layerSwipe: 'Layer Swipe', layerSwipeVertical: 'Vertical', layerSwipeHorizontal: 'Horizontal', layerSwipeScope: 'Scope', dynamicSublayersOn: 'Turn On All Sublayers', dynamicSublayersOff: 'Turn Off All Sublayers' } });
var http = require('http'), fs = require('fs'), path = require('path'), director = require('../../../lib/director'), index; fs.readFile('../html5-routes-harness.html', function (err, data) { if (err) { throw err; } index = data; }); var CONTENT_TYPES = { '.js' : 'text/javascript', '.css' : 'text/css' }; function fileServer(folder, file) { var filepath = folder; if (file) { filepath += "/" + file; } if (folder == "build") { filepath = "../../../" + filepath; } else { filepath = "../" + filepath; } var res = this.res; (fs.exists || path.exists)(filepath, function (exists) { if (exists) { fs.readFile(filepath, function (err, data) { if (err) { res.writeHead(404); res.end(); } res.writeHead(200, {'Content-Type': CONTENT_TYPES[path.extname(filepath)]}); res.end(data); }); } else { res.writeHead(404); res.end(); } }); } var router = new director.http.Router({ '/files': { '/:folder': { '/:file': { get: fileServer }, get: fileServer } } }); var server = http.createServer(function (req, res) { router.dispatch(req, res, function (err) { if (err && req.url != '/favicon.ico') { this.res.writeHead(200, {'Content-Type': 'text/html'}); this.res.end(index); } }); }); server.listen(8080);
jQuery(function($) { $.datepicker.regional['bg'] = { closeText: 'затвори', prevText: '&#x3c;назад', nextText: 'напред&#x3e;', nextBigText: '&#x3e;&#x3e;', currentText: 'днес', monthNames: ['Януари','Февруари','Март','Април','Май','Юни', 'Юли','Август','Септември','Октомври','Ноември','Декември'], monthNamesShort: ['Яну','Фев','Мар','Апр','Май','Юни', 'Юли','Авг','Сеп','Окт','Нов','Дек'], dayNames: ['Неделя','Понеделник','Вторник','Сряда','Четвъртък','Петък','Събота'], dayNamesShort: ['Нед','Пон','Вто','Сря','Чет','Пет','Съб'], dayNamesMin: ['Не','По','Вт','Ср','Че','Пе','Съ'], weekHeader: 'Wk', dateFormat: 'dd.mm.yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['bg']); });
define([ 'jidejs/base/Class', 'jidejs/base/ObservableProperty', 'jidejs/ui/Control', 'jidejs/ui/Skin' ], function(Class, ObservableProperty, Control, Skin) { "use strict"; return Control.create('Icon', { $extends: Control, nameProperty: '', Skin: Skin.create(Skin, { defaultElement: 'i', updateRootElement: function() { Skin.prototype.updateRootElement.call(this); var icon = this.component; if(icon.name) icon.classList.add('icon-'+icon.name); }, installBindings: function() { var icon = this.component; return Skin.prototype.installBindings.call(this).concat([ icon.nameProperty.subscribe(function(event) { icon.classList.remove('icon-'+event.oldValue); icon.classList.add('icon-'+event.value); }) ]); } }) }); });
﻿angular.module('wiz.validation.file') .directive('wizValFile', function () { return { restrict: 'A', require: 'ngModel', scope: { fileTypes: '=wizValFileTypes', fileSize: '=wizValFileSize', fileNumber: '=wizValFileNumber' }, link: function (scope, elem, attrs, ngModel) { elem.bind('change', function () { validate(elem[0].files); }); function validate(files) { var validType = true; var validSize = true; var validNumber = true; if (angular.isUndefined(scope.fileTypes)) { scope.fileTypes = []; } if (angular.isDefined(scope.fileNumber) && files.length > scope.fileNumber) { validNumber = false; } for (var i = 0; i < files.length; i++) { var file = files[i]; if (scope.fileTypes.indexOf(file.type) === -1 && scope.fileTypes.length > 0) { validType = false; } if (angular.isNumber(scope.fileSize) && file.size > scope.fileSize) { validSize = false; } if (!validType || !validSize) { break; } } ngModel.$setValidity('wizValFileTypes', validType); ngModel.$setValidity('wizValFileSize', validSize); ngModel.$setValidity('wizValFileNumber', validNumber); } } }; });
var _slice = require('./internal/_slice'); var arity = require('./arity'); var curry = require('./curry'); module.exports = curry(function useWith(fn ) { var transformers = _slice(arguments, 1); var tlen = transformers.length; return curry(arity(tlen, function() { var args = [], idx = -1; while (++idx < tlen) { args[idx] = transformers[idx](arguments[idx]); } return fn.apply(this, args.concat(_slice(arguments, tlen))); })); });
var popUp; function getVotes(node) { if (!node.attr.attributes.hasOwnProperty('votes')) return false; votes = node.attr.attributes.votes.split('|'); content = 'Votes given to:<br>'; for (i in votes) { pos = parseInt(i) + 1; content += pos + ': ' + votes[i] + '<br>'; } return content; } function showNodeInfo(event) { popUp && popUp.remove(); var hnode = visgexf.sig.getNodes(event.content)[0]; if (false === (content = getVotes(hnode))) return; popUp = $(document.createElement('div')); popUp.append(content) .attr('id', 'node-info'+visgexf.sig.getID()) .css({ 'display': 'inline-block', 'border-radius': 3, 'padding': 5, 'background': '#fff', 'opacity': .7, 'color': '#000', 'box-shadow': '0 0 4px #666', 'position': 'absolute', 'left': hnode.displayX, 'top': hnode.displayY+15 }); $('#sig').append(popUp); } function hideNodeInfo(event) { popUp && popUp.remove(); popUp = false; } $(function(){ var props = { drawing: { defaultLabelColor: '#fff', defaultLabelSize: 12, defaultLabelBGColor: '#fff', defaultLabelHoverColor: '#000', labelThreshold: 2, defaultEdgeType: 'curve' }, graph: { minNodeSize: 1, maxNodeSize: 40, minEdgeSize: 0, maxEdgeSize: 2 }, forceLabel: 0, type: 'directed' } visgexf .init('sig', '/gexf/ballon-dor-2012-votes-fruchterman.json', props) .sig.bind('overnodes', showNodeInfo).bind('outnodes', hideNodeInfo).draw(); $('.showposter').click(function(e){e.preventDefault();$('#showposter').modal();}); });
var events = require('./events.js'), C = require('./constants.js'), engine = require('engine'); function PlayerManager() { this.hash = {}; this.instances = []; this._initHandlers(); } events.provideEvents(PlayerManager, [ C.S_NEW_PLAYER, C.S_PLAYER_DETACH ]); PlayerManager.prototype.handle__x = function(evt, player) { if (evt == C.S_NEW_PLAYER) { this.hash[player.id] = player; this.instances.push(player); } return true; }; PlayerManager.prototype.getPlayer = function(cvs_id) { return this.hash[cvs_id]; }; PlayerManager.prototype.handleDocumentHiddenChange = function(hidden) { var i, player; for(i=0;i<this.instances.length;i++) { player = this.instances[i]; if (hidden && player.state.happens === C.PLAYING) { player._pausedViaHidden = true; player.pause(); } else if (!hidden && player._pausedViaHidden) { player._pausedViaHidden = false; player.play(player.state.from); } } }; var manager = new PlayerManager(); engine.onDocumentHiddenChange(function(hidden) { manager.handleDocumentHiddenChange(hidden); }); module.exports = manager;
"use strict"; var util = require("./util"); var api = require("./api"); var TWO_WORD_TEAMS = util.makeDict({ "Portland Trail Blazers": true }); function addExtraTeamData (team) { team.teamName = team.teamName.trim(); var splitted = team.teamName.split(" "); if (TWO_WORD_TEAMS[team.teamName]) { team.simpleName = splitted.splice(-2, 2).join(" "); } else { team.simpleName = splitted.splice(-1, 1).join(); } team.location = splitted.join(" "); return team; } module.exports = function (cb) { var results = new Array(2); api.teamStats(function (err, response) { if (err) { return cb(err); } results[0] = response; if (results[1]) { andThen(results); } }); api.teamYears(function (err, response) { if (err) { return cb(err); } results[1] = response; if (results[0]) { andThen(results); } }); function andThen (responses) { var data = util.pickKeys(util.mergeCollections("teamId", responses), "teamId", "abbreviation", "teamName") .map(addExtraTeamData); cb(null, data); } };
if (typeof process !== "undefined") { require("amd-loader"); } define(function(require, exports, module) { "use strict"; var oop = require("../lib/oop"); var EventEmitter = require("./event_emitter").EventEmitter; var assert = require("../test/assertions"); var Emitter = function() {}; oop.implement(Emitter.prototype, EventEmitter); module.exports = { "test: dispatch event with no data" : function() { var emitter = new Emitter(); var called = false; emitter.addEventListener("juhu", function(e) { called = true; assert.equal(e.type, "juhu"); }); emitter._emit("juhu"); assert.ok(called); } }; }); if (typeof module !== "undefined" && module === require.main) { require("asyncjs").test.testcase(module.exports).exec() }
import reportsRoute from './reports.route'; export default angular.module('app.reports', []) .config(reportsRoute);
var assert = require('assert'); var R = require('..'); describe('arity', function() { function a1(w) { return [w]; } function a4(w, x, y, z) { return [w, x, y, z]; } it('returns a function with length set to passed-in `n`', function() { assert.strictEqual(R.arity(1, a1).length, 1); assert.strictEqual(R.arity(2, a1).length, 2); assert.strictEqual(R.arity(3, a1).length, 3); assert.strictEqual(R.arity(4, a1).length, 4); assert.strictEqual(R.arity(1, a4).length, 1); assert.strictEqual(R.arity(2, a4).length, 2); assert.strictEqual(R.arity(3, a4).length, 3); assert.strictEqual(R.arity(4, a4).length, 4); }); it('passes through any additional arguments above `n`', function() { var f1 = R.arity(2, a1); var out1 = f1(1, 2); assert.strictEqual(out1.length, 1); assert.strictEqual(out1[0], 1); var f2 = R.arity(2, a4); var out2 = f2(1, 2); assert.strictEqual(out2.length, 4); assert.strictEqual(out2[0], 1); assert.strictEqual(out2[1], 2); assert.strictEqual(out2[2], void 0); assert.strictEqual(out2[3], void 0); }); it('throws if n is greater than ten', function() { assert.throws(function() { R.arity(11, function() {}); }, function(err) { return (err instanceof Error && err.message === 'First argument to arity must be a non-negative integer no greater than ten'); }); }); });
module.exports = { getMeta: function(oembed) { return { license: oembed.license, license_url: oembed.license_url }; } };
process.env.NODE_CELERY_DEBUG = 0; var celery = require('../celery'), util = require('util'); var client = celery.createClient({ CELERY_BROKER_URL: 'amqp: CELERY_RESULT_BACKEND: 'amqp' }); client.on('error', function(err) { console.log(err); }); var n = parseInt(process.argv.length > 2 ? process.argv[2] : 1000, 10); client.once('connect', function() { var start = Date.now(); var j = n; onresult = function(result) { j--; if (j === 1) { console.log(util.format('Execued %d tasks in %s milliseconds', n, Date.now() - start)); client.end(); } }; for (var i = 0; i < n; i++) { client.call('tasks.add', [i, i], null, null, onresult); } });
ZeroClipboard.version = "<%= version %>"; var _defaults = { moviePath: "ZeroClipboard.swf", trustedOrigins: null, text: null, hoverClass: "zeroclipboard-is-hover", activeClass: "zeroclipboard-is-active", allowScriptAccess: "sameDomain", useNoCache: true, forceHandCursor: false }; ZeroClipboard.setDefaults = function (options) { for (var ko in options) _defaults[ko] = options[ko]; }; ZeroClipboard.destroy = function () { ZeroClipboard.prototype._singleton.unglue(gluedElements); var bridge = ZeroClipboard.prototype._singleton.htmlBridge; bridge.parentNode.removeChild(bridge); delete ZeroClipboard.prototype._singleton; }; ZeroClipboard.detectFlashSupport = function () { var hasFlash = false; if (typeof ActiveXObject === "function") { try { if (new ActiveXObject("ShockwaveFlash.ShockwaveFlash")) { hasFlash = true; } } catch (error) {} } if (!hasFlash && navigator.mimeTypes["application/x-shockwave-flash"]) { hasFlash = true; } return hasFlash; };
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example110/index.html"); }); describe('SCE doc demo', function() { it('should sanitize untrusted values', function() { expect(element.all(by.css('.htmlComment')).first().getInnerHtml()) .toBe('<span>Is <i>anyone</i> reading this?</span>'); }); it('should NOT sanitize explicitly trusted values', function() { expect(element(by.id('explicitlyTrustedHtml')).getInnerHtml()).toBe( '<span onmouseover="this.textContent=&quot;Explicitly trusted HTML bypasses ' + 'sanitization.&quot;">Hover over this text.</span>'); }); }); });
var x = function(doc) { if(typeof doc.is_duplicate && doc.is_duplicate=="1") { doc.is_duplicate = true; } else { doc.is_duplicate = false; } return doc; } module.exports = x;
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-ngModelOptions-directive-blur/index.html"); }); var model = element(by.binding('user.name')); var input = element(by.model('user.name')); var other = element(by.model('user.data')); it('should allow custom events', function() { input.sendKeys(' hello'); input.click(); expect(model.getText()).toEqual('say'); other.click(); expect(model.getText()).toEqual('say hello'); }); it('should $rollbackViewValue when model changes', function() { input.sendKeys(' hello'); expect(input.getAttribute('value')).toEqual('say hello'); input.sendKeys(protractor.Key.ESCAPE); expect(input.getAttribute('value')).toEqual('say'); other.click(); expect(model.getText()).toEqual('say'); }); });
getBufferFromHexString = function(byteStr) { var bytes = byteStr.split(' '); var buf = new Buffer(bytes.length); for (var i = 0; i < bytes.length; ++i) { buf[i] = parseInt(bytes[i], 16); } return buf; } getHexStringFromBuffer = function(data) { var s = ''; for (var i = 0; i < data.length; ++i) { s += padl(data[i].toString(16), 2, '0') + ' '; } return s.trim(); } splitBuffer = function(buffer) { var b1 = new Buffer(Math.ceil(buffer.length / 2)); buffer.copy(b1, 0, 0, b1.length); var b2 = new Buffer(Math.floor(buffer.length / 2)); buffer.copy(b2, 0, b1.length, b1.length + b2.length); return [b1, b2]; } mask = function(buf, maskString) { if (typeof buf == 'string') buf = new Buffer(buf); var mask = getBufferFromHexString(maskString || '34 83 a8 68'); for (var i = 0; i < buf.length; ++i) { buf[i] ^= mask[i % 4]; } return buf; } getHybiLengthAsHexString = function(len, masked) { if (len < 126) { var buf = new Buffer(1); buf[0] = (masked ? 0x80 : 0) | len; } else if (len < 65536) { var buf = new Buffer(3); buf[0] = (masked ? 0x80 : 0) | 126; getBufferFromHexString(pack(4, len)).copy(buf, 1); } else { var buf = new Buffer(9); buf[0] = (masked ? 0x80 : 0) | 127; getBufferFromHexString(pack(16, len)).copy(buf, 1); } return getHexStringFromBuffer(buf); } unpack = function(buffer) { var n = 0; for (var i = 0; i < buffer.length; ++i) { n = (i == 0) ? buffer[i] : (n * 256) + buffer[i]; } return n; } pack = function(length, number) { return padl(number.toString(16), length, '0').replace(/(\d\d)/g, '$1 ').trim(); } padl = function(s, n, c) { return new Array(1 + n - s.length).join(c) + s; }
var mongodb = require('mongodb') var db = { bson_serializer:mongodb.BSONPure, bson_deserializer:mongodb.BSONPure } exports.serializeUpdate = function(fullCollectionName, spec, document, upsert, multiUpdate) { return new mongodb.UpdateCommand(db, fullCollectionName, spec, document, { upsert: upsert, multi: multiUpdate }).toBinary() } exports.serializeInsert = function(fullCollectionName, documents, continueOnError) { var checkKeys = false var insert = new mongodb.InsertCommand(db, fullCollectionName, checkKeys, { keepGoing:continueOnError }) insert.documents = documents return insert.toBinary() } exports.serializeQuery = function(fullCollectionName, options, skip, limit, query, fields) { return new mongodb.QueryCommand(db, fullCollectionName, options, skip, limit, query, fields).toBinary() } exports.serializeGetMore = function(fullCollectionName, numberToReturn, cursorId) { return new mongodb.GetMoreCommand(db, fullCollectionName, numberToReturn, cursorId).toBinary() } exports.serializeDelete = function(fullCollectionName, query) { return new mongodb.DeleteCommand(db, fullCollectionName, query).toBinary() } exports.serializeKillCursors = function(cursors) { return new mongodb.KillCursorCommand(db, cursors).toBinary() } exports.Response = function(buffer, offset, size) { offset = offset || 0 var reply = new mongodb.MongoReply var message = buffer.slice(offset,size) reply.parseHeader(message, mongodb.BSONPure) reply.parseBody(message, mongodb.BSONPure, null) return { requestId:reply.requestId, responseTo:reply.responseTo, flags:reply.responseFlag, cursor:reply.cursorId, index:reply.startingFrom, documents:reply.documents } }
module.exports = { re: [ /^https:\/\/www\.indiegogo\.com\/projects\/([\w-]+)/i, /^https:\/\/life\.indiegogo\.com\/fundraisers\/([\w-]+)/i ], mixins: [ "og-site", "og-image", "canonical", "favicon", "twitter-description", "keywords", "twitter-title" ], getLink: function(urlMatch) { return { href: 'https: type: CONFIG.T.text_html, rel: CONFIG.R.app, width: 222, height: 445 }; }, tests: [{ pageWithFeed: 'https: }, "https: ] };
var which = require('which') var which_stream = function(cb) { which('avconv', function(err, path) { if(err) { return cb(false) } else { return cb(path) } }) } module.exports = which_stream
var switchElem = element(by.css('[ng-switch]')); var select = element(by.model('selection')); it('should start in settings', function() { expect(switchElem.getText()).toMatch(/Settings Div/); }); it('should change to home', function() { select.all(by.css('option')).get(1).click(); expect(switchElem.getText()).toMatch(/Home Span/); }); it('should select default', function() { select.all(by.css('option')).get(2).click(); expect(switchElem.getText()).toMatch(/default/); });
var assert = require('assert'); var R = require('..'); describe('minBy', function() { it('calculates the smallest value of a list using the supplied comparator', function() { assert.deepEqual(R.minBy(R.prop('x'), [{x: 3, y: 1}, {x: 5, y: 10}, {x: -2, y: 0}]), {x: -2, y: 0}); }); it('returns null for the empty list', function() { assert.strictEqual(typeof(R.minBy(R.prop('x'), [])), 'undefined'); }); it('is curried', function() { var lowestX = R.minBy(R.prop('x')); assert.deepEqual(lowestX([{x: 3, y: 1}, {x: 5, y: 10}, {x: -2, y: 0}]), {x: -2, y: 0}); }); });
describe('SCE doc demo', function() { it('should sanitize untrusted values', function() { expect(element.all(by.css('.htmlComment')).first().getInnerHtml()) .toBe('<span>Is <i>anyone</i> reading this?</span>'); }); it('should NOT sanitize explicitly trusted values', function() { expect(element(by.id('explicitlyTrustedHtml')).getInnerHtml()).toBe( '<span onmouseover="this.textContent=&quot;Explicitly trusted HTML bypasses ' + 'sanitization.&quot;">Hover over this text.</span>'); }); });
( function(Dataflow) { var BaseResizable = Dataflow.prototype.node("base-resizable"); var Test = Dataflow.prototype.node("test"); Test.Model = BaseResizable.Model.extend({ defaults: function(){ var defaults = BaseResizable.Model.prototype.defaults.call(this); defaults.type = "test"; defaults.w = 200; defaults.h = 400; return defaults; }, inputinput: function(value){ this.view.$inner.text(value); }, inputstring: function(value){ this.send("output", value + " test"); }, inputint: function(value){ this.send("output", value); }, inputfloat: function(value){ this.send("output", value); }, inputboolean: function(value){ this.send("output", !value); }, inputs:[ { id: "input", type: "all" }, { id: "string", type: "string" }, { id: "int", type: "int" }, { id: "float", type: "float" }, { id: "boolean", type: "boolean" }, { id: "bang", type: "bang" }, { id: "select", type: "string", options: "January February March April", value: "April" }, { id: "select2", type: "int", min: 0, max: 3, options: {sine:0, square:1, saw: 2, triangle: 3} } ], outputs:[ { id: "output", type: "all" } ] }); Test.View = BaseResizable.View.extend({ initialize: function(options){ BaseResizable.View.prototype.initialize.call(this, options); this.$inner.text("view.$inner"); } }); }(Dataflow) );
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-email-input-directive/index.html"); }); var text = element(by.binding('text')); var valid = element(by.binding('myForm.input.$valid')); var input = element(by.model('text')); it('should initialize to model', function() { expect(text.getText()).toContain('me@example.com'); expect(valid.getText()).toContain('true'); }); it('should be invalid if empty', function() { input.clear(); input.sendKeys(''); expect(text.getText()).toEqual('text ='); expect(valid.getText()).toContain('false'); }); it('should be invalid if not email', function() { input.clear(); input.sendKeys('xxx'); expect(valid.getText()).toContain('false'); }); });
var SampleWizardController = ['$scope', '$q', '$timeout', function ($scope, $q, $timeout) { $scope.user = {}; $scope.saveState = function() { var deferred = $q.defer(); $timeout(function() { deferred.resolve(); }, 5000); return deferred.promise; }; $scope.completeWizard = function() { alert('Completed!'); } }];
﻿ breeze.makeComplexArray = (function() { var complexArrayMixin = {}; complexArrayMixin._getGoodAdds = function (adds) { return getGoodAdds(this, adds); }; complexArrayMixin._beforeChange = function() { observableArray.updateEntityState(this); }; complexArrayMixin._processAdds = function (adds) { processAdds(this, adds); }; complexArrayMixin._processRemoves = function (removes) { processRemoves(this, removes); }; complexArrayMixin._rejectChanges = function() { if (!this._origValues) return; var that = this; this.forEach(function(co) { clearAspect(co, that); }); this.length = 0; this._origValues.forEach(function(co) { that.push(co); }); Array.prototype.push.apply(this, this._origValues); }; complexArrayMixin._acceptChanges = function() { this._origValues = null; } ; function getGoodAdds(complexArray, adds) { return adds.filter(function (a) { return a.parent !== complexArray.parent; }); } function processAdds(complexArray, adds) { adds.forEach(function (a) { if (a.parent != null) { throw new Error("The complexObject is already attached. Either clone it or remove it from its current owner"); } setAspect(a, complexArray); }); } function processRemoves(complexArray, removes) { removes.forEach(function (a) { clearAspect(a, complexArray); }); } function clearAspect(co, arr) { var coAspect = co.complexAspect; if (coAspect.parent !== arr.parent) return null; coAspect.parent = null; coAspect.parentProperty = null; return coAspect; } function setAspect(co, arr) { var coAspect = co.complexAspect; if (coAspect.parent === arr.parent) return null; coAspect.parent = arr.parent; coAspect.parentProperty = arr.parentProperty; return coAspect; } function makeComplexArray(arr, parent, parentProperty) { observableArray.initializeParent(arr, parent, parentProperty); arr.arrayChanged = new Event("arrayChanged", arr); __extend(arr, observableArray.mixin); return __extend(arr, complexArrayMixin); } return makeComplexArray; })();
define( [ "jquery", "./table" ], function( jQuery ) { (function( $, undefined ) { $.mobile.table.prototype.options.mode = "reflow"; $.mobile.table.prototype.options.classes = $.extend( $.mobile.table.prototype.options.classes, { reflowTable: "ui-table-reflow", cellLabels: "ui-table-cell-label" } ); $.mobile.document.delegate( ":jqmData(role='table')", "tablecreate tableupdate", function( e ) { var $table = $( this ), event = e.type, self = $table.data( "mobile-table" ), o = self.options; if( o.mode !== "reflow" ){ return; } if ( o.eventsOnly !== false ){ if (event !== "tableupdate") { self.element.addClass( o.classes.reflowTable ); } var reverseHeaders = $( self.allHeaders.get().reverse() ); reverseHeaders.each(function(i){ var $cells = $( this ).jqmData( "cells" ), colstart = $( this ).jqmData( "colstart" ), hierarchyClass = $cells.not( this ).filter( "thead th" ).length && " ui-table-cell-label-top", text = $(this).text(); if( text !== "" ){ if( hierarchyClass ){ var iteration = parseInt( $( this ).attr( "colspan" ), 10 ), filter = ""; if( iteration ){ filter = "td:nth-child("+ iteration +"n + " + ( colstart ) +")"; } $cells.filter( filter ).prepend( "<b class='" + o.classes.cellLabels + hierarchyClass + "'>" + text + "</b>" ); } else { $cells.prepend( "<b class='" + o.classes.cellLabels + "'>" + text + "</b>" ); } } }); } }); })( jQuery ); }); //>>excludeEnd("jqmBuildExclude");
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example44/index-jquery.html"); }); it('should test service', function() { expect(element(by.id('simple')).element(by.model('message')).getAttribute('value')) .toEqual('test'); }); });
if(typeof Node == 'undefined'){ Node = function(){}; }
var assert = require('assert'); var R = require('..'); describe('merge', function() { it('takes two objects, merges their own properties and returns a new object', function() { var a = {w: 1, x: 2}; var b = {y: 3, z: 4}; assert.deepEqual(R.merge(a, b), {w: 1, x: 2, y: 3, z: 4}); }); it('overrides properties in the first object with properties in the second object', function() { var a = {w: 1, x: 2}; var b = {w: 100, y: 3, z: 4}; assert.deepEqual(R.merge(a, b), {w: 100, x: 2, y: 3, z: 4}); }); it('is not destructive', function() { var a = {w: 1, x: 2}; var res = R.merge(a, {x: 5}); assert.notStrictEqual(a, res); assert.deepEqual(res, {w: 1, x: 5}); }); it('reports only own properties', function() { var a = {w: 1, x: 2}; function Cla() {} Cla.prototype.x = 5; assert.deepEqual(R.merge(new Cla(), a), {w: 1, x: 2}); assert.deepEqual(R.merge(a, new Cla()), {w: 1, x: 2}); }); it('is curried', function() { var curried = R.merge({w: 1, x: 2}); var b = {y: 3, z: 4}; assert.deepEqual(curried(b), {w: 1, x: 2, y: 3, z: 4}); }); it('is curried', function() { var curried = R.merge(R.__, {w: 1, x: 2}); assert.deepEqual(curried({x: 3, y: 4}), {w: 1, x: 2, y: 4}); }); });
angular.module('docsRestrictDirective', []) .controller('Controller', ['$scope', function($scope) { $scope.customer = { name: 'Naomi', address: '1600 Amphitheatre' }; }]) .directive('myCustomer', function() { return { restrict: 'E', templateUrl: 'my-customer.html' }; });
var src = ['ng-upload.js']; module.exports = function(grunt) { grunt.initConfig({ jshint: { files: src }, uglify: { ngUpload: { src: ['ng-upload.js'], dest: 'ng-upload.min.js' } }, watch: { scripts: { files: 'ng-upload.js', tasks: ['jshint','min'], options: { interrupt: true } } }, bump: { options: { files: ['package.json', 'bower.json'], updateConfigs: [], commit: true, commitMessage: 'Release v%VERSION%', commitFiles: ['package.json', 'bower.json'], createTag: true, tagName: 'v%VERSION%', tagMessage: 'Version %VERSION%', push: true, pushTo: 'origin', gitDescribeOptions: '--tags --always --abbrev=1 --dirty=-d' } }, karma: { unit: { options: { frameworks: ['jasmine'], browsers: ['Chrome','Firefox'], files: [ 'libs/jquery-1.9.1.min.js', 'libs/angular.js', 'libs/angular-mocks.js', 'ng-upload.js', 'test *Spec.js' ], singleRun: true } } } }); grunt.loadNpmTasks('grunt-contrib-jshint'); grunt.loadNpmTasks('grunt-contrib-uglify'); grunt.loadNpmTasks('grunt-contrib-watch'); grunt.loadNpmTasks('grunt-bump'); grunt.loadNpmTasks('grunt-karma'); grunt.registerTask('default', ['jshint', 'uglify']); }
var _ = require("underscore"); var rel = [CONFIG.R.thumbnail, CONFIG.R.og]; function getImageLinks(image) { return [{ href: image.url || image, type: image.type || CONFIG.T.image, rel: rel, width: image.width, height: image.height }, { href: image.secure_url, type: image.type || CONFIG.T.image, rel: rel, width: image.width, height: image.height }]; } module.exports = { getLinks: function(og) { if (og.image instanceof Array) { return _.flatten(og.image.map(getImageLinks)); } else if (og.image) { return getImageLinks(og.image); } } };
goog.provide('ng.material.components.whiteframe'); (function() { 'use strict'; angular.module('material.components.whiteframe', []); })();
var id=0; var os=require('os'); var restartEd=false; var restart=function(f){ if(restartEd){return;} restartEd=true; var email=''; if(f){ email=' [EMAIL NTS]'; rw.log.write('Auto Restart Failed to Send Mail ...','backstage'); } rw.log.write('Auto Restarting ['+parseInt(process.memoryUsage().rss/1024/1024)+' MB] ['+rw.util.s2t(process.uptime()).join(':')+']'+email+' ...','system'); var exec=require('child_process').exec; exec('node '+__dirname+'/../lib/restart.js '+process.pid+' "'+rw.config.backstage.startScript+'"'); } var checkAutoRestart=function(){ var f=false; if(rw.config.backstage.autoRestartMem<1){ if((process.memoryUsage().rss/os.totalmem())>rw.config.backstage.autoRestartMem){ f=true; } }else{ if(process.memoryUsage().rss>rw.config.backstage.autoRestartMem){ f=true; } } if(!f){ setTimeout(checkAutoRestart,rw.config.backstage.autoRestartInt); return; } rw.stb=true; rw.log.write('Auto Restart ['+parseInt(process.memoryUsage().rss/1024/1024)+' MB] ['+rw.util.s2t(process.uptime()).join(':')+']','backstage'); rw.log.write('Auto Restart Sending Mail ['+rw.config.backstage.email+'] ...','backstage'); id=setTimeout(function(){ restart(true); },rw.config.backstage.autoRestartEmailTimeout); rw.mail('backstage',{ from:rw.config.mail['backstage']['auth']['user']+" <"+rw.config.mail['backstage']['auth']['user']+">", to:rw.config.backstage.email, subject:"Auto Restart @ "+rw.config.host, html:"Auto Restart<br />["+parseInt(process.memoryUsage().rss/1024/1024)+" MB] ["+rw.util.s2t(process.uptime()).join(':')+"] ["+rw.config.backstage.autoRestartMem+"]<br /><br />@ "+rw.config.host },function(a,b){ rw.log.write('Mail Result ['+a+'] ['+b+']','backstage'); clearTimeout(id); restart(); }); }; exports.run=function(){ if(rw.config.backstage.autoRestartMem!=0){ setTimeout(checkAutoRestart,rw.config.backstage.autoRestartInt); } }; exports.onError=function(e){ console.log(e.stack); };
"use strict"; var path = require('path'); var settings = { web_domain : 'localhost', web_port : 8000, web_url : 'http: session_token : '$SESSION_TOKEN', db_name : 'test', db_server : 'localhost', db_port : 27017, game_dir : path.join(__dirname, 'game'), RESET : false, debug : true, }; var argv = require('optimist').argv; for(var i in argv) { if(i in settings) { settings[i] = argv[i]; } } require('./server/main.js').bootStrap(settings);
module.exports = require('./lib/server')
var $ = require('cheerio'); module.exports = { mixins: [ "oembed-title", "oembed-thumbnail", "oembed-site", "oembed-author" ], getLink: function(oembed) { var $container = $('<div>'); try { $container.html(oembed.html); } catch(ex) {} var $iframe = $container.find('iframe'); var doc; if ($iframe.length == 1) { doc = { href: $iframe.attr('src').replace("http: type: CONFIG.T.text_html, rel: [CONFIG.R.reader, CONFIG.R.oembed], "aspect-ratio": $iframe.attr('data-aspect-ratio') } } return [doc, { href: ' type: CONFIG.T.image, rel: CONFIG.R.icon }]; }, tests: [{ page: "https: selector: "a.doc_link.book_link" }, "http: ] };
var text = element(by.binding('text')); var valid = element(by.binding('myForm.input.$valid')); var input = element(by.model('text')); it('should initialize to model', function() { expect(text.getText()).toContain('guest'); expect(valid.getText()).toContain('true'); }); it('should be invalid if empty', function() { input.clear(); input.sendKeys(''); expect(text.getText()).toEqual('text ='); expect(valid.getText()).toContain('false'); }); it('should be invalid if multi word', function() { input.clear(); input.sendKeys('hello world'); expect(valid.getText()).toContain('false'); });
pjs.addSuite({ url: 'http: scraper: { async: true, scraper: function() { } } });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-ngView-directive/index.html"); }); it('should load and compile correct template', function() { element(by.linkText('Moby: Ch1')).click(); var content = element(by.css('[ng-view]')).getText(); expect(content).toMatch(/controller\: ChapterCtrl/); expect(content).toMatch(/Book Id\: Moby/); expect(content).toMatch(/Chapter Id\: 1/); element(by.partialLinkText('Scarlet')).click(); content = element(by.css('[ng-view]')).getText(); expect(content).toMatch(/controller\: BookCtrl/); expect(content).toMatch(/Book Id\: Scarlet/); }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example25/index.html"); }); it('should calculate expression in binding', function() { if (browser.params.browser == 'safari') { return; } element(by.css('[ng-click="greet()"]')).click(); var alertDialog = browser.switchTo().alert(); expect(alertDialog.getText()).toEqual('Hello World'); alertDialog.accept(); }); });
module.exports = { re: [ /^https?:\/\/(\w+\.)?lifehacker\.com\/[a-z0-9\-]+/i, /^https?:\/\/(\w+\.)?gawker\.com\/[a-z0-9\-]+/i, /^https?:\/\/(\w+\.)?jezebel\.com\/[a-z0-9\-]+/i, /^https?:\/\/(\w+\.)?gizmodo\.com\/[a-z0-9\-]+/i, /^https?:\/\/(\w+\.)?deadspin\.com\/[a-z0-9\-]+/i, /^https?:\/\/(\w+\.)?io9\.com\/[a-z0-9\-]+/i, /^https?:\/\/(\w+\.)?kotaku\.com\/[a-z0-9\-]+/i, /^https?:\/\/(\w+\.)?jalopnik\.com\/[a-z0-9\-]+/i, /^https?:\/\/(\w+\.)?kinja\.com\/[a-z0-9\-]+/i, /^https?:\/\/(\w+\.)?cink\.hu\/[a-z0-9\-]+/i ], mixins: [ "twitter-image", "favicon", "twitter-author", "canonical", "og-description", "keywords", "og-site", "og-title" ], getData: function(meta, cheerio, __readabilityEnabled) { var $html = cheerio('div.post-content'); if ($html.length) { var $image = cheerio('span.img-border.mbs img'); var $iframe = cheerio('span.flex-video iframe'); var html = ''; if ($image.length) { html = $image.parent().html(); } else if ($iframe.length) { html = $iframe.parent().html(); } html += $html.html(); return { safe_html: html }; } }, tests: [ "http: ] };
require('babel/polyfill'); require('jasmine_dom_matchers'); global.React = require('react/addons'); var jQuery = require('jquery'); Object.assign(global, { jQuery, $: jQuery }); $.fn.simulate = function(eventName, ...args) { if (!this.length) { throw new Error(`jQuery Simulate has an empty selection for '${this.selector}'`); } $.each(this, function() { if (['mouseOver', 'mouseOut'].includes(eventName)) { React.addons.TestUtils.SimulateNative[eventName](this, ...args); } else { React.addons.TestUtils.Simulate[eventName](this, ...args); } }); return this; }; beforeEach(function() { $('body').find('#root').remove().end().append('<main id="root"/>'); });
(function($, undefined) { $.widget("mobile.page", $.mobile.widget, { options: { theme: "c", domCache: false }, _create: function() { this._trigger("beforecreate"); this.element .attr("tabindex", "0") .addClass("ui-page ui-body-" + this.options.theme); } }); })(jQuery);
var assert = require('assert'); var R = require('..'); describe('append', function() { it('adds the element to the end of the list', function() { assert.deepEqual(R.append('z', ['x', 'y']), ['x', 'y', 'z']); assert.deepEqual(R.append(['a', 'z'], ['x', 'y']), ['x', 'y', ['a', 'z']]); }); it('works on empty list', function() { assert.deepEqual(R.append(1, []), [1]); }); it('is curried', function() { assert.strictEqual(typeof R.append(4), 'function'); assert.deepEqual(R.append(1)([4, 3, 2]), [4, 3, 2, 1]); }); });
'use strict'; module.exports = function (config) { config.set({ basePath: '../../', frameworks: ['jasmine'], files: [ 'src/vendor/jquery/dist/jquery.js', 'src/vendor/angular/angular.js', 'src/vendor/angular-animate/angular-animate.js', 'src/vendor/bootstrap/dist/js/bootstrap.js', 'src/vendor/angular-bootstrap/ui-bootstrap-tpls.js', 'src/vendor/angular-ui-router/release/angular-ui-router.js', 'src/vendor/angular-mocks/angular-mocks.js', 'src/app !(*.spec).js', 'src/app *.spec.js' ], exclude: [ ], reporters: process.env.TRAVIS ? ['dots', 'junit', 'coverage', 'coveralls'] : ['dots', 'junit', 'coverage'], junitReporter: { outputFile: 'test/test-reports/unit-test-report.xml', suite: 'unit' }, preprocessors: { '**/src/app !(*.spec).js': 'coverage' }, ngHtml2JsPreprocessor: { }, coverageReporter: { reporters: [ {type: 'html', dir: 'test/test-reports/coverage/'}, {type: 'json', dir: 'test/test-reports/coverage/'}, {type: 'lcov', dir: 'test/test-reports/coverage/'}, {type: 'text-summary', dir: 'test/test-reports/coverage/'} ] }, port: 9876, colors: true, logLevel: config.LOG_INFO, autoWatch: false, browsers: [process.env.TRAVIS ? 'Firefox' : 'Chrome'], captureTimeout: 20000, singleRun: true, reportSlowerThan: 500, plugins: [ 'karma-jasmine', 'karma-chrome-launcher', 'karma-firefox-launcher', 'karma-safari-launcher', 'karma-phantomjs-launcher', 'karma-junit-reporter', 'karma-coverage', 'karma-coveralls', 'karma-ng-html2js-preprocessor' ] }); };
var common = require('../common'); var assert = require('assert'); var http = require('http'); var clientAborts = 0; var server = http.Server(function (req, res) { console.log('Got connection'); res.writeHead(200); res.write('Working on it...'); req.on('aborted', function () { clientAborts++; console.log('Got abort ' + clientAborts); if (clientAborts === N) { console.log('All aborts detected, you win.'); server.close(); } }); req.on('clientError', function () { console.log('Got clientError'); }); }); var responses = 0; var N = http.Agent.defaultMaxSockets - 1; var requests = []; server.listen(common.PORT, function () { console.log('Server listening.'); for (var i = 0; i < N; i++) { console.log('Making client ' + i); var options = { port: common.PROXY_PORT, path: '/?id=' + i }; var req = http.get(options, function (res) { console.log('Client response code ' + res.statusCode); if (++responses == N) { console.log('All clients connected, destroying.'); requests.forEach(function (outReq) { console.log('abort'); outReq.abort(); }); } }); requests.push(req); } }); process.on('exit', function () { assert.equal(N, clientAborts); });
define(['chaplin', 'views/site-view'], function(Chaplin, SiteView) { 'use strict'; var Controller = Chaplin.Controller.extend({ beforeAction: function() { this.reuse('site', SiteView); } }); return Controller; });
window.ramda = window.R; window.require = function require(path) { switch (path.substr(path.lastIndexOf('/') + 1)) { case 'assert': return window.assert; case '..': return this.ramda; default: throw new Error('Unexpected require path "' + path + '"'); } }; if (typeof document.getElementsByClassName !== 'function') { document.getElementsByClassName = function(className, nodeName) { var result = [], tag = nodeName || '*', node, seek, i; if (document.evaluate) { seek = ' seek = document.evaluate(seek, document, null, 0, null); while ((node = seek.iterateNext())) { result.push(node); } } else { var rightClass = new RegExp('(^| )' + className + '( |$)'); seek = document.getElementsByTagName(tag); for (i = 0; i < seek.length; i++) { if (rightClass.test((node = seek[i]).className)) { result.push(seek[i]); } } } return result; }; }
jQuery(function($) { $.datepicker.regional['lv'] = { closeText: 'Aizvērt', prevText: 'Iepr', nextText: 'Nāka', currentText: 'Šodien', monthNames: ['Janvāris','Februāris','Marts','Aprīlis','Maijs','Jūnijs', 'Jūlijs','Augusts','Septembris','Oktobris','Novembris','Decembris'], monthNamesShort: ['Jan','Feb','Mar','Apr','Mai','Jūn', 'Jūl','Aug','Sep','Okt','Nov','Dec'], dayNames: ['svētdiena','pirmdiena','otrdiena','trešdiena','ceturtdiena','piektdiena','sestdiena'], dayNamesShort: ['svt','prm','otr','tre','ctr','pkt','sst'], dayNamesMin: ['Sv','Pr','Ot','Tr','Ct','Pk','Ss'], weekHeader: 'Nav', dateFormat: 'dd-mm-yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['lv']); });
var nth = require('./nth'); module.exports = nth(0);
var vm = require('vm'); var fs = require('fs'); var browserify = require('../'); var test = require('tap').test; test('coffee', function (t) { t.plan(8); var src = browserify.bundle({ require : __dirname + '/coffee/index.coffee' }); var c = {}; vm.runInNewContext(src, c); t.equal(c.require('./foo.coffee')(5), 50); t.equal(c.require('./foo')(5), 50); t.equal(c.require('./bar.js'), 500); t.equal(c.require('./bar'), 500); t.equal(c.require('./baz.coffee'), 1000); t.equal(c.require('./baz'), 1000); t.equal(c.require('./'), 10 * 10 * 500 + 1000); t.equal(c.require('./index.coffee'), 10 * 10 * 500 + 1000); t.end(); }); test('coffeeEntry', function (t) { var b = browserify({ entry : __dirname + '/coffee/entry.coffee' }); var src = b.bundle(); var c = { setTimeout : setTimeout, done : function (fn) { t.equal(fn(10), 100); t.end(); } }; vm.runInNewContext(src, c); });
﻿ var crypto = require('crypto'); exports = module.exports = HmacSha256Sign; function HmacSha256Sign(accessKey) { this._accessKey = accessKey; this._decodedAccessKey = new Buffer(this._accessKey, 'base64'); } HmacSha256Sign.prototype.sign = function (stringToSign) { return crypto.createHmac('sha256', this._decodedAccessKey).update(stringToSign).digest('base64'); };
global.ReactUI = { AjaxForm: require('./transformed/ajax-form/components/AjaxForm'), CheckBox: require('./transformed/check-box/components/CheckBox'), ComboBox: require('./transformed/combo-box/components/ComboBox'), DatePicker: require('./transformed/date-picker/components/DatePicker'), FileInput: require('./transformed/file-input/components/FileInput'), Grid: require('./transformed/grid/components/Grid') };
JarallaxController = function() { this.isActive = false; this.bindings = []; this.isController = true; }; JarallaxController.prototype.activate = function(jarallax) { this.isActive = true; if (!this.jarallax || this.jarallax !== jarallax) { this.jarallax = jarallax; } }; JarallaxController.prototype.deactivate = function(jarallax) { this.isActive = false; }; JarallaxController.prototype.update = function(progress) { };
module.exports = function(env, callback) { "use strict"; env.helpers.startsWith = function(str, start) { if(start === '') return true; if(str == null || start == null) return false; str = String(str); start = String(start); return str.length >= start.length && str.slice(0, start.length) === start; }; callback(); };
var testUtils = require("app/testUtils"); describe("the jsDebug", function() { var $ = null; before(function(done) { testUtils.loadPage("/jsDebug", function(error, dom) { $ = dom; done(error); }); }); it("should have the screencast youtube video", function() { testUtils.assertSelectors($, "iframe", "button.stepSync"); }); it("should redirect to the newest gallery", function(done) { testUtils.get("/app/photos") .expect(302) .expect("location", "/app/photos?gallery=burning_man_2011") .end(done); }); });
var redis = require('redis'); var parseRedisUrl = require('parse-redis-url')(redis); var config = require('./config'); var options = parseRedisUrl.parse(config.REDIS_URL); options.auth = options.password; options.db = options.database; var kue = require('kue'); var client = redis.createClient(options.port, options.host, { auth_pass: options.password }); var jobs = kue.createQueue({ redis: options }); module.exports = { client: client, kue: kue, jobs: jobs };
jQuery(function($) { $.datepicker.regional['sk'] = { closeText: 'Zavrieť', prevText: '&#x3c;Predchádzajúci', nextText: 'Nasledujúci&#x3e;', currentText: 'Dnes', monthNames: ['Január','Február','Marec','Apríl','Máj','Jún', 'Júl','August','September','Október','November','December'], monthNamesShort: ['Jan','Feb','Mar','Apr','Máj','Jún', 'Júl','Aug','Sep','Okt','Nov','Dec'], dayNames: ['Nedeľa','Pondelok','Utorok','Streda','Štvrtok','Piatok','Sobota'], dayNamesShort: ['Ned','Pon','Uto','Str','Štv','Pia','Sob'], dayNamesMin: ['Ne','Po','Ut','St','Št','Pia','So'], weekHeader: 'Ty', dateFormat: 'dd.mm.yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['sk']); });
module.exports = function (obj) { return Object.freeze(obj); };
jQuery(function($){ $.datepicker.regional['ko'] = { closeText: '닫기', prevText: '이전달', nextText: '다음달', currentText: '오늘', monthNames: ['1월','2월','3월','4월','5월','6월', '7월','8월','9월','10월','11월','12월'], monthNamesShort: ['1월','2월','3월','4월','5월','6월', '7월','8월','9월','10월','11월','12월'], dayNames: ['일요일','월요일','화요일','수요일','목요일','금요일','토요일'], dayNamesShort: ['일','월','화','수','목','금','토'], dayNamesMin: ['일','월','화','수','목','금','토'], weekHeader: 'Wk', dateFormat: 'yy-mm-dd', firstDay: 0, isRTL: false, showMonthAfterYear: true, yearSuffix: '년'}; $.datepicker.setDefaults($.datepicker.regional['ko']); });
if (typeof process !== "undefined") { require("amd-loader"); } define(function(require, exports, module) { "use strict"; var assert = require("../test/assertions"); var JavaScriptWorker = require("./javascript_worker").JavaScriptWorker; module.exports = { setUp : function() { this.sender = { on: function() {}, callback: function(data, id) { this.data = data; }, events: [], emit: function(type, e) { this.events.push([type, e]); } }; }, "test check for syntax error": function() { var worker = new JavaScriptWorker(this.sender); worker.setValue("Juhu Kinners"); worker.deferredUpdate.call(); var error = this.sender.events[0][1]; assert.equal(error.text, "missing ; before statement"); assert.equal(error.type, "error"); assert.equal(error.row, 0); assert.equal(error.column, null); }, "test invalid multi line string": function() { var worker = new JavaScriptWorker(this.sender); worker.setValue('"a\n\\nn"'); worker.deferredUpdate.call(); var error = this.sender.events[0][1]; assert.equal(error.text, "Unterminated string literal"); assert.equal(error.type, "error"); assert.equal(error.row, 0); assert.equal(error.column, null); }, "test check for narcissus bug": function() { var worker = new JavaScriptWorker(this.sender); worker.setValue("if('"); worker.deferredUpdate.call(); assert.equal(this.sender.events[0][1].type, "error"); } }; }); if (typeof module !== "undefined" && module === require.main) { require("asyncjs").test.testcase(module.exports).exec(); }
define_page_mode("smbc-mode", build_url_regexp($domain = "www.smbc-comics"), function enable (buffer) { buffer.page.local.browser_relationship_patterns = {}; buffer.page.local.browser_relationship_patterns[RELATIONSHIP_NEXT] = [function (doc) xpath_find_node(doc, " buffer.page.local.browser_relationship_patterns[RELATIONSHIP_PREVIOUS] = [function (doc) xpath_find_node(doc, " }, function disable (buffer) {}, $display_name = "SMBC"); page_mode_activate(smbc_mode); provide("smbc");
;(function(){ 'use strict'; angular .module('core') .factory('Thing', Thing); function Thing(Restangular) { return Restangular.service('things'); } }).call(this);
$(document).ready(function() { var app_name_input = $("#settings_app_name"); if (!app_name_input.val() || app_name_input.val() == '') { app_name_input.prev().fadeIn('fast'); }; app_name_input.focus(function(){ if (!$(this).val() || $(this).val() == '') { $(this).prev().fadeOut('fast'); } }); app_name_input.blur(function(){ if (!$(this).val() || $(this).val() == '') { $(this).prev().fadeIn('fast'); } }); });
describe('Context', function(){ beforeEach(function(){ this.calls = ['before']; }) describe('nested', function(){ beforeEach(function(){ this.calls.push('before two'); }) it('should work', function(){ this.calls.should.eql(['before', 'before two']); this.calls.push('test'); }) after(function(){ this.calls.should.eql(['before', 'before two', 'test']); this.calls.push('after two'); }) }) after(function(){ this.calls.should.eql(['before', 'before two', 'test', 'after two']); }) }) describe('Context Siblings', function(){ beforeEach(function(){ this.calls = ['before']; }) describe('sequestered sibling', function(){ beforeEach(function(){ this.calls.push('before two'); this.hiddenFromSibling = 'This should be hidden'; }) it('should work', function(){ this.hiddenFromSibling.should.eql('This should be hidden') }) }) describe('sibling verifiction', function(){ beforeEach(function(){ this.calls.push('before sibling'); }) it('should not have value set within a sibling describe', function(){ 'This should be hidden'.should.not.eql(this.hiddenFromSibling); this.visibleFromTestSibling = 'Visible from test sibling'; }) it('should allow test siblings to modify shared context', function(){ 'Visible from test sibling'.should.eql(this.visibleFromTestSibling); }) it('should have reset this.calls before describe', function(){ this.calls.should.eql(['before', 'before sibling']); }) }) after(function(){ this.calls.should.eql(['before', 'before sibling']); }) }) describe('timeout()', function(){ it('should return the timeout', function(){ this.timeout().should.equal(200); }); });
module.exports = function(args, req, res, next) { var serverConfig = GLOBAL.serverConfig, shallAuthenticate = serverConfig.authentication.enabled && (typeof args.route[args.action].authenticate !== "undefined")? args.route[args.action].authenticate: serverConfig.authentication.all; if(shallAuthenticate) { var loginUrlPattern = GLOBAL.serverConfig.authentication.loginUrlPattern, secret = GLOBAL.serverConfig.authentication.secret; if(typeof secret === "undefined") { throw "authenticationSecret not defined in serverConfig"; } if(req.session.authenticationSecret === secret) { req.session.isLoggedIn = true; return next(); } else { return res.redirect(loginUrlPattern.split("[ORIGINALURL]").join(req.originalUrl)); } } else { next(); } };
module.exports = function _all(fn, list) { var idx = -1; while (++idx < list.length) { if (!fn(list[idx])) { return false; } } return true; };
xdescribe('jumps', function() { });
var assert = require('assert'), exec = require('child_process').exec, fs = require('fs'), path = require('path'), vows = require('vows'), pkginfo = require('../lib/pkginfo'); function assertProperties (source, target) { assert.lengthOf(source, target.length + 1); target.forEach(function (prop) { assert.isTrue(!!~source.indexOf(prop)); }); } function testExposes (options) { return { topic: function () { exec('node ' + path.join(__dirname, '..', 'examples', options.script), this.callback); }, "should expose that property correctly": function (err, stdout, stderr) { assert.isNull(err); var exposed = stderr.match(/'(\w+)'/ig).map(function (p) { return p.substring(1, p.length - 1); }); return !options.assert ? assertProperties(exposed, options.properties) : options.assert(exposed); } } } vows.describe('pkginfo').addBatch({ "When using the pkginfo module": { "and passed a single `string` argument": testExposes({ script: 'single-property.js', properties: ['version'] }), "and passed multiple `string` arguments": testExposes({ script: 'multiple-properties.js', properties: ['version', 'author'] }), "and passed an `object` argument": testExposes({ script: 'object-argument.js', properties: ['version', 'author'] }), "and passed an `array` argument": testExposes({ script: 'array-argument.js', properties: ['version', 'author'] }), "and passed no arguments": testExposes({ script: 'all-properties.js', assert: function (exposed) { var pkg = fs.readFileSync(path.join(__dirname, '..', 'examples', 'package.json')).toString(), keys = Object.keys(JSON.parse(pkg)); assertProperties(exposed, keys); } }) } }).export(module);
(function(){ var progressSupport = ('onprogress' in new Browser.Request); Request.Blob = new Class({ Extends: Request, options: { urlEncoded: false, noCache: true, emulation: false, trackProgress: false }, send: function (blob, options) { if (!this.check(options)) return this; this.options.isSuccess = this.options.isSuccess || this.isSuccess; this.running = true; var url = String(this.options.url), method = this.options.method.toLowerCase(); if (!url) url = document.location.pathname; var trimPosition = url.lastIndexOf('/'); if (trimPosition > -1 && (trimPosition = url.indexOf('#')) > -1) url = url.substr(0, trimPosition); if (this.options.noCache) url += (url.contains('?') ? '&' : '?') + String.uniqueID(); var xhr = this.xhr; if (progressSupport) { xhr.onloadstart = this.loadstart.bind(this); xhr.onprogress = this.progress.bind(this); xhr.upload.onprogress = this.progress.bind(this); } xhr.open(method.toUpperCase(), url, this.options.async, this.options.user, this.options.password); if (this.options.user && 'withCredentials' in xhr) xhr.withCredentials = true; xhr.onreadystatechange = this.onStateChange.bind(this); Object.each(this.headers, function (value, key) { try { xhr.setRequestHeader(key, value); } catch (e) { this.fireEvent('exception', [key, value]); } }, this); this.fireEvent('request'); xhr.send(blob); if (!this.options.async) this.onStateChange(); if (this.options.timeout) this.timer = this.timeout.delay(this.options.timeout, this); return this; } }); })();
var TEST_MANIFEST_URL = 'http: TEST_APP_ID = 'com_openf2_examples_javascript_helloworld', TEST_MANIFEST_URL2 = 'http: TEST_APP_ID2 = 'com_openf2_examples_csharp_marketnews', TEST_MANIFEST_URL_HTTP_POST = 'http: TEST_MANIFEST_URL3 = 'http: TEST_APP_ID3 = 'com_openf2_examples_nodejs_helloworld' ; AsyncSpec.prototype.beforeEachReloadF2 = function(callback) { this.beforeEach(function(done) { window.F2 = null; window.F2 = window.F2 || { Apps:{} }; $.ajax({ url: '../sdk/f2.min.js', dataType: 'script', complete: function() { callback && callback(); done(); } }); }); }; itConditionally = function(condition, desc, func) { if (condition) { return jasmine.getEnv().it(desc, func); } else { var el = document.getElementById('tests-skipped'); var count = Number(el.getAttribute('data-count')) + 1; el.innerHTML = 'Skipping ' + count + ' spec' + ((count > 1) ? 's' : ''); el.setAttribute('data-count', count); el.style.display = 'block'; return jasmine.getEnv().xit(desc, func); } }; beforeEach(function() { $('#test-fixture').empty(); }); beforeEach(function() { this.addMatchers({ toLog: function(expectedMessage) { var log = F2.log; var result = false; var suite = this; var passedMessage; F2.log = function(message) { passedMessage = message; }; suite.actual(); result = passedMessage == expectedMessage; if (!result) { suite.message = function() { if (!passedMessage) { return 'Expected function ' + (suite.isNot ? 'not' : '') + 'to pass \'' + expectedMessage + '\' to F2.log, but nothing was passed.'; } else { return 'Expected function ' + (suite.isNot ? 'not' : '') + 'to pass \'' + expectedMessage + '\' to F2.log, but \'' + passedMessage + '\' was passed.'; } }; } F2.log = log; return result; } }); });
var assert = require('assert'); var R = require('..'); describe('toPairs', function() { it('converts an object into an array of two-element [key, value] arrays', function() { assert.deepEqual(R.toPairs({a: 1, b: 2, c: 3}), [['a', 1], ['b', 2], ['c', 3]]); }); it("only iterates the object's own properties", function() { var F = function() { this.x = 1; this.y = 2; }; F.prototype.protoProp = 'you can\'t see me'; var f = new F(); assert.deepEqual(R.toPairs(f), [['x', 1], ['y', 2]]); }); });
module.exports = function (grunt) { "use strict"; var cryptojs = [ 'vendor/cryptojs/header.js' , 'vendor/cryptojs/core.js' , 'vendor/cryptojs/enc-base64.js' , 'vendor/cryptojs/cipher-core.js' , 'vendor/cryptojs/aes.js' , 'vendor/cryptojs/sha1.js' , 'vendor/cryptojs/sha256.js' , 'vendor/cryptojs/hmac.js' , 'vendor/cryptojs/pad-nopadding.js' , 'vendor/cryptojs/mode-ctr.js' , 'vendor/cryptojs/footer.js' ] grunt.loadNpmTasks('grunt-contrib-clean') grunt.loadNpmTasks('grunt-contrib-concat') grunt.loadNpmTasks('grunt-contrib-jshint') grunt.loadNpmTasks('grunt-contrib-uglify') grunt.initConfig({ pkg: grunt.file.readJSON('package.json') , meta: { banner: ' \n\n' } , concat: { otr: { options: { banner: '<%= meta.banner %>' } , src: [ 'etc/header.js' , 'lib/const.js' , 'lib/helpers.js' , 'lib/dsa.js' , 'lib/parse.js' , 'lib/ake.js' , 'lib/sm.js' , 'lib/otr.js' , 'etc/footer.js' ] , dest: 'build/otr.js' } , cryptojs: { src: cryptojs , dest: 'vendor/crypto.js' } } , uglify: { otr: { options: { banner: '<%= meta.banner %>' , mangle: false }, files: { 'build/otr.min.js': ['build/otr.js'] } } } , clean: { folder: 'build/' } , jshint: { options: { jshintrc: '.jshintrc' } , all: ['*.js', 'lib/*.js', 'test/spec/unit/*.js'] } }) grunt.registerTask('copy_dep', function () { var files = ['salsa20.js', 'bigint.js', 'eventemitter.js', 'crypto.js'] , src = 'vendor/' , dest = 'build/dep/' files.forEach(function (f) { grunt.file.copy(src + f, dest + f) }) }) grunt.registerTask('copy_ww', function () { var files = ['dsa-webworker.js', 'sm-webworker.js'] , src = 'lib/' , dest = 'build/' files.forEach(function (f) { grunt.file.copy(src + f, dest + f) }) }) grunt.registerTask('otr', ['concat:otr', 'uglify:otr']) grunt.registerTask('dep', ['concat:cryptojs', 'copy_dep']) grunt.registerTask('ww', ['copy_ww']) grunt.registerTask('default', ['clean', 'otr', 'dep', 'ww']) }
;(function(define){define(function(require,exports,module){ function denodeify(nodeStyleFunction, filter) { 'use strict'; return function() { var self = this; var functionArguments = new Array(arguments.length + 1); for (var i = 0; i < arguments.length; i += 1) { functionArguments[i] = arguments[i]; } function promiseHandler(resolve, reject) { function callbackFunction() { var args = new Array(arguments.length); for (var i = 0; i < args.length; i += 1) { args[i] = arguments[i]; } if (filter) { args = filter.apply(self, args); } var error = args[0]; var result = args[1]; if (error) { return reject(error); } return resolve(result); } functionArguments[functionArguments.length - 1] = callbackFunction; nodeStyleFunction.apply(self, functionArguments); } return new Promise(promiseHandler); }; } module.exports = denodeify; });})(typeof define=='function'&&define.amd?define :(function(n,w){'use strict';return typeof module=='object'?function(c){ c(require,exports,module);}:function(c){var m={exports:{}};c(function(n){ return w[n];},m.exports,m);w[n]=m.exports;};})('denodeify',this));
var canvas = document.getElementById('canvas'); var context = canvas.getContext('2d'); var r = 50; var w = 1; var dt = 30/1000; var fac = 1; var wheel = new Wheel(r-10,r,12); wheel.x = 100; wheel.y = 200; wheel.draw(context); var v = fac*r*w; var angle = 0; setInterval(onTimer, 1/dt); function onTimer(evt){ wheel.x += v*dt; angle += w*dt; wheel.rotation = angle; context.clearRect(0, 0, canvas.width, canvas.height); wheel.draw(context); }
(function (a) { if (!a[0]) { print("Usage: jslint.js file.js"); quit(1); } var input = readFile(a[0]); if (!input) { print("jslint: Couldn't open file '" + a[0] + "'."); quit(1); } if (!JSLINT(input, {rhino: true, passfail: false})) { for (var i = 0; i < JSLINT.errors.length; i += 1) { var e = JSLINT.errors[i]; if (e) { print('Lint at line ' + (e.line + 1) + ' character ' + (e.character + 1) + ': ' + e.reason); print((e.evidence || ''). replace(/^\s*(\S*(\s+\S+)*)\s*$/, "$1")); print(''); } } } else { print("jslint: No problems found in " + a[0]); quit(); } })(arguments);
'use strict'; var SAFEWITHME = (function (window, document, $) { var self = {}; self.init = function() { $.mobile.loadingMessageTextVisible = true; var util = new Util(window, uuid); if (!util.checkRuntime()) { return; } var cache = new Cache(window); var server = new Server(util); var menu = new Menu(server, cache); var bucketCache = new BucketCache(cache, server); var crypto = new Crypto(window, openpgp, util, server); var fs = new FS(crypto, server, util, cache, bucketCache); var menuView = new MenuView(window, $, menu, server); var cryptoView = new CryptoView(window, $, crypto, cache); var fsView = new FSView(window, document, $, fs); menuView.init('/app/', function(loginInfo) { cryptoView.init(loginInfo, function() { fsView.init(loginInfo, function() { }); }); }); }; return self; }(window, document, $));
module.exports = [ ["/", /node\.js/], ["/career", /Opsware/], ["/contact", /pete@peterlyons.com/], ["/stacks", /JavaScript/], ["/practices", /Craftsmanship/], ["/bands", /Afronauts/], ["/code_conventions", /readability/], ["/leveling_up", /Pillar 1/], ["/web_prog", /PHP/], ["/oberlin", /Edison/], ["/favorites", /Imogen/], ["/plusparty", /Plus Party/], ["/jsDebug", /Lighting Up/], ["/problog", new RegExp("Pete's Points")], ["/persblog", /travel/], ["/app/photos?gallery=burning_man_2011", /Gallery/], ["/problog/2009/03/announcing-petes-points", /professional/], ["/persblog/2007/10/petes-travel-adventure-2007-begins-friday-october-5th", /Alitalia/] ];
var buster = require("buster"); var fs = require("fs"); var fsWatcher = require("../lib/fs-watcher"); buster.testCase('fs-watcher', { setUp: function () { this.closer = { close: this.spy() }; this.stub(fs, "watch").returns(this.closer); this.watcher = fsWatcher.create(); }, "watches files": function () { this.watcher.watch({ name: "file.txt" }, this.spy()); assert.calledOnceWith(fs.watch, "file.txt"); }, "calls back when file changes": function () { var spy = this.spy(); var file = { name: "file.txt" }; this.watcher.watch(file, spy); fs.watch.yield("change"); assert.calledOnceWith(spy, "change", file); }, "unwatches files": function () { this.watcher.watch({ name: "file.txt" }, this.spy()); this.watcher.unwatch({ name: "file.txt" }); assert.calledOnce(this.closer.close); }, "unwatches directories": function () { this.watcher.fileSeparator = "/"; this.watcher.watch({ name: "files" }, this.spy()); this.watcher.watch({ name: "files/file1.txt" }, this.spy()); this.watcher.watch({ name: "files/file2.txt" }, this.spy()); this.watcher.watch({ name: "filesystem.txt" }, this.spy()); this.watcher.watch({ name: "notes/file1.txt" }, this.spy()); this.watcher.unwatchDir({ name: "files" }); assert.calledThrice(this.closer.close); }, "closes watches": function () { this.watcher.watch({ name: "file1.txt" }, this.spy()); this.watcher.watch({ name: "file2.txt" }, this.spy()); this.watcher.end(); assert.calledTwice(this.closer.close); } });
var _curry2 = require('./internal/_curry2'); var _has = require('./internal/_has'); module.exports = _curry2(_has);
var Cell = require('./Cell'); var Row = React.createClass({displayName: "Row", render: function() { return ( React.createElement("tr", {className: this.props.className}, this.renderCell() ) ); }, renderCell: function() { return this.props.columns.map(function(column, columnIndex) { return ( React.createElement(Cell, { className: this.props.cellClassName, column: column, columns: this.props.columns, columnIndex: columnIndex, onClick: this.props.onCellClick, key: columnIndex, record: this.props.record, rowIndex: this.props.rowIndex}) ); }, this); } }); module.exports = Row;
define([ 'underscore', 'backbone', './backstrappMarionette', './baseCollection', './baseModel', './baseController', './baseRouter', './stackRegion', './stackManager', './appSettings', './effects/Effect' ], function(_, Backbone, BackstrappMarionette, BaseCollection, BaseModel, BaseController, BaseRouter, stackRegion, stackManager, appSettings, effect) { var ns = BackstrappMarionette; stackManager.init(ns); appSettings.init(ns); ns.Collection = BaseCollection; ns.Model = BaseModel; ns.Controller = BaseController; ns.Router = BaseRouter; ns.StackRegion = stackRegion; effect.prototype.log = function(lvl, msg, obj) { if (ns.app.debug !== true) return; if (ns.app.log(lvl, msg, obj)); }; return ns; });
Highcharts.theme = { colors: ["#514F78", "#42A07B", "#9B5E4A", "#72727F", "#1F949A", "#82914E", "#86777F", "#42A07B"], chart: { className: 'skies', borderWidth: 0, plotShadow: true, plotBackgroundImage: '/images/jquery/highcharts/skies.jpg', plotBackgroundColor: { linearGradient: [0, 0, 250, 500], stops: [ [0, 'rgba(255, 255, 255, 1)'], [1, 'rgba(255, 255, 255, 0)'] ] }, plotBorderWidth: 1 }, title: { style: { color: '#3E576F', font: '16px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif' } }, subtitle: { style: { color: '#6D869F', font: '12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif' } }, xAxis: { gridLineWidth: 0, lineColor: '#C0D0E0', tickColor: '#C0D0E0', labels: { style: { color: '#666', fontWeight: 'bold' } }, title: { style: { color: '#666', font: '12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif' } } }, yAxis: { alternateGridColor: 'rgba(255, 255, 255, .5)', lineColor: '#C0D0E0', tickColor: '#C0D0E0', tickWidth: 1, labels: { style: { color: '#666', fontWeight: 'bold' } }, title: { style: { color: '#666', font: '12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif' } } }, legend: { itemStyle: { font: '9pt Trebuchet MS, Verdana, sans-serif', color: '#3E576F' }, itemHoverStyle: { color: 'black' }, itemHiddenStyle: { color: 'silver' } }, labels: { style: { color: '#3E576F' } } }; var highchartsOptions = Highcharts.setOptions(Highcharts.theme);
describe('Date of birth validation', function () { var elem; beforeEach(function () { browser.get('demo/index.html'); elem = element(by.model('demo.dateOfBirth')); }); it('should allow empty field', function () { expect(elem.getAttribute('class')).not.toMatch('ng-invalid'); }); it('should allow birth dates of people 18', function () { var today = new Date(); var testDate = new Date(); testDate.setFullYear(today.getFullYear() - 18); elem.sendKeys('01/01/' + testDate.getFullYear()); expect(elem.getAttribute('class')).not.toMatch('ng-invalid'); }); it('should allow birth dates of people over 18', function () { var today = new Date(); var testDate = new Date(); testDate.setFullYear(today.getFullYear() - 19); elem.sendKeys('01/01/' + testDate.getFullYear()); expect(elem.getAttribute('class')).not.toMatch('ng-invalid'); }); it('should set invalid when younger than 18', function () { var today = new Date(); var testDate = new Date(); testDate.setFullYear(today.getFullYear() - 17); elem.sendKeys('01/01/' + testDate.getFullYear()); expect(elem.getAttribute('class')).toMatch('ng-invalid'); }); });
define([ 'dojo/_base/declare', 'dijit/_WidgetBase', 'esri/dijit/Bookmarks', 'dojo/json', 'dojo/cookie', 'dojo/_base/lang', 'xstyle/css!./Bookmarks/css/Bookmarks.css' ], function (declare, _WidgetBase, Bookmarks, json, cookie, lang) { return declare([_WidgetBase], { declaredClass: 'gis.digit.Bookmarks', postCreate: function () { this.inherited(arguments); var bookmarks = this.bookmarks; this.bookmarkItems = cookie('bookmarkItems'); if (this.bookmarkItems === undefined) { this.bookmarkItems = []; } else { this.bookmarkItems = json.parse(this.bookmarkItems); } this.bookmarks = new Bookmarks({ map: this.map, editable: this.editable, bookmarks: lang.mixin(this.bookmarkItems, bookmarks) }, this.domNode); this.connect(this.bookmarks, 'onEdit', 'setBookmarks'); this.connect(this.bookmarks, 'onRemove', 'setBookmarks'); }, setBookmarks: function () { cookie('bookmarkItems', json.stringify(this.bookmarks.toJson()), { expires: 365 }); }, _export: function () { return json.stringify(this.bookmarks.toJson()); } }); });
var i18n = require('i18n'); var _ = require('underscore'); module.exports = function (locales) { i18n.configure({ locales: _.keys(locales || {}), register: global }); return i18n; };
"use strict"; require("./api-test"); require("./util");
'use strict'; var _ = require('lodash'); var Generator = require('./generator.model'); exports.index = function(req, res) { Generator.find(function (err, generators) { if(err) { return handleError(res, err); } return res.json(200, generators); }); }; exports.show = function(req, res) { Generator.findById(req.params.id, function (err, generator) { if(err) { return handleError(res, err); } if(!generator) { return res.send(404); } return res.json(generator); }); }; exports.create = function(req, res) { Generator.create(req.body, function(err, generator) { if(err) { return handleError(res, err); } return res.json(201, generator); }); }; exports.update = function(req, res) { if(req.body._id) { delete req.body._id; } Generator.findById(req.params.id, function (err, generator) { if (err) { return handleError(res, err); } if(!generator) { return res.send(404); } var updated = _.merge(generator, req.body); updated.save(function (err) { if (err) { return handleError(res, err); } return res.json(200, generator); }); }); }; exports.destroy = function(req, res) { Generator.findById(req.params.id, function (err, generator) { if(err) { return handleError(res, err); } if(!generator) { return res.send(404); } generator.remove(function(err) { if(err) { return handleError(res, err); } return res.send(204); }); }); }; exports.generatorByID = function(req, res, next, id) { Generator.findById(id).populate('user', 'displayName').exec(function(err, generator) { if (err) return next(err); if (!generator) return next(new Error('Failed to load Generator ' + id)); req.generator = generator; next(); }); }; exports.hasAuthorization = function(req, res, next) { if (req.generator.user.id !== req.user.id) { return res.send(403, 'User is not authorized'); } next(); }; function handleError(res, err) { return res.send(500, err); }
if (typeof process !== "undefined") { require("amd-loader"); } define(function(require, exports, module) { "use strict"; var assert = require("../test/assertions"); var Worker = require("./css_worker").Worker; module.exports = { setUp : function() { this.sender = { on: function() {}, callback: function(data, id) { this.data = data; }, events: [], emit: function(type, e) { this.events.push([type, e]); } }; }, "test check for syntax error": function() { var worker = new Worker(this.sender); worker.setValue("Juhu Kinners"); worker.deferredUpdate.call(); assert.equal(this.sender.events[0][1][0].type, "error"); } }; }); if (typeof module !== "undefined" && module === require.main) { require("asyncjs").test.testcase(module.exports).exec(); }
(function(exports) { 'use strict'; var settings = { Model: JSONMediaModel, PlayerView: PlayerView, PlaylistView: PlaylistPlayerView, dataURL: "./assets/genericMediaData.json", showSearch: true, displayButtons: false }; exports.app = new App(settings); }(window));
var debug = require('debug'), util = require('util'); module.exports = function (options) { options = options || {}; label = options.label || 'servicebus'; var log = options.log || debug(label); fnIncoming = options.fnIncoming || function (channel, message, options, next) { log(util.format('received %j via routingKey %s', message.content, message.fields.routingKey)); }; fnOutgoing = options.fnOutgoing || function (message, queueName) { log(util.format('sending %j to %s', message, queueName)); }; function logIncoming (channel, message, options, next) { fnIncoming(channel, message, options); var args = Array.prototype.slice.call(arguments); var next = args.pop(); args.unshift(null); next.apply(this, args); } function logOutgoing (queueName, message, next) { fnOutgoing(message, queueName); next(null, queueName, message); } return { handleIncoming: logIncoming, handleOutgoing: logOutgoing }; }
app.controller("ComonSettingsController", ['$scope', 'Notifier', '$timeout', '$location', function($scope, Notifier, $timeout, $location) { $scope.sections = settingsSectionsModule.data; ChromeStorageModule.fetchUserSettings(function(userSettingsSynced) { $scope.userMaxHr = parseInt(userSettingsSynced.userMaxHr); $scope.userRestHr = parseInt(userSettingsSynced.userRestHr); $scope.userFTP = parseInt(userSettingsSynced.userFTP); _.each($scope.sections, function(section) { _.each(section.sectionContent, function(option) { if (option.optionType === 'checkbox') { option.active = userSettingsSynced[option.optionKey]; } else if (option.optionType === 'list') { option.active = _.findWhere(option.optionList, { key: userSettingsSynced[option.optionKey] }); } }); }); $scope.$apply(); }); $scope.toggleCheckOption = function(option) { var bool = option.active; ChromeStorageModule.updateUserSetting(option.optionKey, bool, function() { console.log(option.optionKey + ' has been updated to ' + bool); }); }; $scope.toggleSelectOption = function(option) { ChromeStorageModule.updateUserSetting(option.optionKey, option.active.key, function() { console.log(option.optionKey + ' has been updated to ' + option.active); }); }; $scope.displayOptionHelper = function(optionKeyParam) { var option = null; _.each($scope.sections, function(section) { var optionSearch = _.findWhere(section.sectionContent, { optionKey: optionKeyParam }); if (optionSearch) { option = optionSearch; return; } }); if (option) { Notifier(option.optionTitle, option.optionHtml); } } var viewOptionHelperId = $location.search().viewOptionHelperId; if (!_.isUndefined(viewOptionHelperId)) { $scope.displayOptionHelper(viewOptionHelperId); } }]);
var assert = require('assert'); var R = require('..'); describe('slice', function() { it('retrieves the proper sublist of a list', function() { var list = [8, 6, 7, 5, 3, 0, 9]; assert.deepEqual(R.slice(2, 5, list), [7, 5, 3]); }); it('handles array-like object', function() { var args = (function() { return arguments; }(1, 2, 3, 4, 5)); assert.deepEqual(R.slice(1, 4, args), [2, 3, 4]); }); it('dispatches to `slice` method', function() { var obj = {slice: function() { return 42; }}; assert.strictEqual(R.slice(1, 4, obj), 42); }); });
'use strict'; import template from './account-settings.html!text'; function employeesAccountSettingsRoute($stateProvider) { 'ngInject'; return $stateProvider .state('employees.add.account-settings', { url: '/account-settings', views: { 'modal@': { template: template } } }); } export default employeesAccountSettingsRoute;
define([ './../../base/DOM', './../../base/Observable', './../util/ClassList' ], function(DOM, Observable, ClassList) { return { css: { update: function(element, value, oldValue, context) { var component = DOM.hasData(element) && DOM.getData(element).component || null, target = component || (element.classList && element) || new ClassList(element), classes = Object.getOwnPropertyNames(value); classes.forEach(function(className) { if(value[className]) { target.classList.add(className); } else { target.classList.remove(className); } }); if(oldValue) { Object.getOwnPropertyNames(oldValue).forEach(function(className) { if(!value.hasOwnProperty(className)) { target.classList.remove(className); } }); } } }, style: { update: function(element, value, oldValue) { for(var i = 0, names = Object.getOwnPropertyNames(value), len = names.length; i < len; i++) { var styleName = names[i], css = value[styleName]; if(!oldValue || oldValue[styleName] !== css) { element.style[styleName] = css || ''; } } } }, attr: { update: function(element, value, oldValue, context) { oldValue || (oldValue = {}); var names = Object.getOwnPropertyNames(value); for(var i = 0, len = names.length; i < len; i++) { var name = names[i], attributeValue = Observable.unwrap(value[name]); if(oldValue.hasOwnProperty(name) && Observable.unwrap(oldValue[name]) === attributeValue) continue; if(attributeValue === false || attributeValue === null || attributeValue === undefined) { element.removeAttribute(name); } else { element.setAttribute(name, String(attributeValue)); } } names = Object.getOwnPropertyNames(oldValue); for(i = 0, len = names.length; i < len; i++) { if(!value.hasOwnProperty(names[i])) { element.removeAttribute(names[i]); } } } } }; });
jQuery(function($) { $.datepicker.regional['no'] = { closeText: 'Lukk', prevText: '&laquo;Forrige', nextText: 'Neste&raquo;', currentText: 'I dag', monthNames: ['januar','februar','mars','april','mai','juni','juli','august','september','oktober','november','desember'], monthNamesShort: ['jan','feb','mar','apr','mai','jun','jul','aug','sep','okt','nov','des'], dayNamesShort: ['søn','man','tir','ons','tor','fre','lør'], dayNames: ['søndag','mandag','tirsdag','onsdag','torsdag','fredag','lørdag'], dayNamesMin: ['sø','ma','ti','on','to','fr','lø'], weekHeader: 'Uke', dateFormat: 'dd.mm.yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: '' }; $.datepicker.setDefaults($.datepicker.regional['no']); });
var _checkForMethod = require('./internal/_checkForMethod'); var _slice = require('./internal/_slice'); module.exports = _checkForMethod('tail', function(list) { return _slice(list, 1); });
var dictionary = require('jsdoc/tag/dictionary'); function UnknownTagError(tagName, meta) { this.name = 'UnknownTagError'; this.message = 'The @' + tagName + ' tag is not a known tag. File: ' + meta.filename + ', Line: ' + meta.lineno + '\n' + meta.comment; } UnknownTagError.prototype = Error.prototype; function TagValueRequiredError(tagName, meta) { this.name = 'TagValueRequiredError'; this.message = 'The @' + tagName + ' tag requires a value. File: ' + meta.filename + ', Line: ' + meta.lineno + '\n' + meta.comment; } TagValueRequiredError.prototype = Error.prototype; function TagValueNotPermittedError(tagName, meta) { this.name = 'TagValueNotPermittedError'; this.message = 'The @' + tagName + ' tag does not permit a value. File: ' + meta.filename + ', Line: ' + meta.lineno + '\n' + meta.comment; } TagValueNotPermittedError.prototype = Error.prototype; exports.validate = function(tag, meta) { var tagDef = dictionary.lookUp(tag.title); if (!tagDef && !env.conf.tags.allowUnknownTags) { require('jsdoc/util/error').handle( new UnknownTagError(tag.title, meta) ); } if (!tag.text) { if (tagDef.mustHaveValue) { require('jsdoc/util/error').handle( new TagValueRequiredError(tag.title, meta) ); } } else { if (tagDef.mustNotHaveValue) { require('jsdoc/util/error').handle( new TagValueNotPermittedError(tag.title, meta) ); } } };
var jira = require('./jira.js'); var redis = require('redis'); var url = require('url'); var client; var redisURL; if(process.env.REDISCLOUD_URL !== undefined) { redisURL = url.parse(process.env.REDISCLOUD_URL); client = redis.createClient(redisURL.port, redisURL.hostname, { no_ready_check: true }); client.auth(redisURL.auth.split(":")[1]); } else { client = redis.createClient(); } var logKey = function (id) { return 'TrackerTrackerImportLog' + id; }; exports.getImportableProjects = function (req, res) { jira.getImportableProjects(req, res); }; exports.importProject = function (req, res) { var importID = new Date().getTime(); jira.importProject(importID, req.body); res.json({ id: importID }); }; exports.getImportLog = function (req, res) { client.hgetall(logKey(req.query.id), function (err, json) { client.get(logKey(req.query.id) + 'errors', function (err, results) { if (json && results) { json.errors = results; } res.json(json || { error: true }); }); }); }; exports.logError = function (id, val) { client.append(logKey(id) + 'errors', val + "\n"); }; exports.increment = function (id, key, val) { console.log('redis.hincrby', id, key, val); client.hincrby(logKey(id), key, val); }; exports.log = function (id, key, val) { console.log('redis.hset', id, key, val); client.hset(logKey(id), key, val); };
(function(){ 'use strict'; var <%= names.single.camel %> = require('./<%= names.single.slug %>.model'); exports.register = function(socket) { <%= names.single.camel %>.schema.post('save', function (doc) { onSave(socket, doc); }); <%= names.single.camel %>.schema.post('remove', function (doc) { onRemove(socket, doc); }); } function onSave(socket, doc, cb) { socket.emit('<%= names.plural.camel %>:save', doc); } function onRemove(socket, doc, cb) { socket.emit('<%= names.plural.camel %>:remove', doc); } })();
pref("browser.link.open_external", 3); pref("browser.link.open_newwindow", 3); pref("browser.link.open_newwindow.restriction", 0);
module.exports = function(config) { config.set({ basePath: '../../', frameworks: ['jasmine'], files: [ 'src/lib/angular/angular.js', 'src/lib/angular-route/angular-route.js', 'src/lib/angular-ui-map/src/map.js', 'src/lib/angular-ui-utils/modules/event/event.js', 'src/lib/angular-mocks/angular-mocks.js', 'src/app/*.js', 'test/unit/*.js' ], port: 9876, colors: true, logLevel: config.LOG_INFO, autoWatch: true, browsers: [process.env.TRAVIS ? 'Firefox' : 'Chrome'], captureTimeout: 20000, singleRun: false, reportSlowerThan: 500, plugins: [ 'karma-jasmine', 'karma-chrome-launcher', 'karma-firefox-launcher', 'karma-junit-reporter' ] }); };
var _contains = require('./internal/_contains'); var _curry2 = require('./internal/_curry2'); module.exports = _curry2(_contains);
var path = require('path'), exec = require('child_process').exec, fs = require('fs'), errs = require('errs'), util = require('util'), vowsCmd, options, env = process.env || {}, vows; env.NOCK = 'on'; options = { cwd : process.cwd(), env: env }; vowsCmd = (process.platform === 'win32') ? path.resolve('./node_modules/.bin/vows.cmd') : path.resolve('./node_modules/.bin/vows'); if(!fs.existsSync(vowsCmd)) { throw(errs.create("vows is not installed in ./node_modules. Please run npm install -d to install testing modules.")); }; vowsCmd += ' -i --spec --color ./test *-test.js'; vows = exec(vowsCmd, options); vows.stdout.on('data', function (data) { util.print(data); }); vows.stderr.on('data', function (data) { util.error(data); }); vows.on('exit', function (code) { console.log('vows exited with code ' + code); });
var d3_formatPrefixes = ["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix); d3.formatPrefix = function(value, precision) { var i = 0; if (value) { if (value < 0) value *= -1; if (precision) value = d3.round(value, d3_format_precision(value, precision)); i = 1 + Math.floor(1e-12 + Math.log(value) / Math.LN10); i = Math.max(-24, Math.min(24, Math.floor((i <= 0 ? i + 1 : i - 1) / 3) * 3)); } return d3_formatPrefixes[8 + i / 3]; }; function d3_formatPrefix(d, i) { return { scale: Math.pow(10, (8 - i) * 3), symbol: d }; }
module.exports = { contentTransforms: function (hooks) { return hooks[0]; }, dataTransforms: function (hooks) { return hooks[0]; }, itemTransforms: function () { return []; }, frozenTransforms: function (hooks) { return hooks; }, filters: function (hooks) { return hooks[0]; }, types: function (hooks) { return hooks.reduce(function (combined, item) { if (!combined[item.name]) { combined[item.name] = item; } return combined; }, {}); }, config: function (hooks, compiler, initial) { return initial.mergeDeep(hooks[0]).mergeDeep(compiler.userConfig); } };
var _curry2 = require('./_curry2'); module.exports = (function() { function XFilter(f, xf) { this.xf = xf; this.f = f; } XFilter.prototype['@@transducer/init'] = function() { return this.xf['@@transducer/init'](); }; XFilter.prototype['@@transducer/result'] = function(result) { return this.xf['@@transducer/result'](result); }; XFilter.prototype['@@transducer/step'] = function(result, input) { return this.f(input) ? this.xf['@@transducer/step'](result, input) : result; }; return _curry2(function _xfilter(f, xf) { return new XFilter(f, xf); }); })();
'use strict'; (function() { var chai = require('chai'), should = chai.should(), expect = chai.expect, sinon = require('sinon'); var HttpAdapter = require('../../lib/httpadapter/httpadapter.js'); describe('HttpAdapter', function() { describe('#constructor' , function() { it('if no http specified must instanciate one', function() { var http = require('http'); var httpAdapter = new HttpAdapter(); httpAdapter.http.should.equal(http); }); it('if client specified must use it', function() { var mockedHttp = {'test' : 1}; var httpAdapter = new HttpAdapter(mockedHttp); httpAdapter.http.should.equal(mockedHttp); }); }); describe('#get' , function() { it('get must call http request', function() { var http = { request: function () {} }; var mock = sinon.mock(http); mock.expects('request').once().returns({ end: function() {}, on: function() { return this; } }); var httpAdapter = new HttpAdapter(http); httpAdapter.get('http: mock.verify(); }); }); }); })();
var HTTP = require('http'); var FS = require('fs'); var handle = require('./app'); var isRoot = !process.getuid(); var PORT = process.env.PORT || 8000; HTTP.createServer(handle).listen(PORT, "0.0.0.0"); process.title ="nodemanual.org"; console.log("Server %s listening at http: if (isRoot) { var stat = FS.statSync(__filename); console.log("Changing gid to " + stat.gid); process.setgid(stat.gid); console.log("Changing uid to " + stat.uid); process.setuid(stat.uid); }
module.declare( ["c"], function(require, exports, module) { exports.foo = require("c").foo; } );
(function($) { '$:nomunge'; $.fn.replaceText = function(search, replace, text_only) { return this.each(function() { var node = this.firstChild, val, new_val, remove = []; if (node) { do { if (node.nodeType === 3) { val = node.nodeValue; new_val = val.replace(search, replace); if (new_val !== val) { if (!text_only && /</.test(new_val)) { $(node).before(new_val); remove.push(node); } else { node.nodeValue = new_val; } } } } while (node = node.nextSibling); } remove.length && $(remove).remove(); }); }; })(jQuery);
var _ = require('lodash'); var forEach = require('../..').forEach; var nums = [8, 2, 85, 2, 34, 3, 23, 247, 57, 8, 0, 6, 5, 46, 54, 643]; module.exports = { name: 'forEach', tests: { '_.each(nums, x2)': function() { var result = []; _.each(nums, function(x) { result.push(x); }); }, 'forEach(x2, nums)': function() { var result = []; forEach(function(x) { result.push(x); }, nums); }, 'forEach(x2)(nums)': function() { var result = []; forEach(function(x) { result.push(x); })(nums); } } };
var assert = require('assert') , h = require('./helpers'); var tests = { 'before': function () { process.chdir('./test'); } , 'after': function () { process.chdir('../'); } , 'test selfdepconst': function (next) { h.exec('../bin/cli.js selfdepconst', {breakOnError:false}, function (out) { assert.equal(1, out.code); next(); }); } , 'test selfdepdyn': function (next) { h.exec('../bin/cli.js selfdepdyn', {breakOnError:false}, function (out) { assert.equal(1, out.code); next(); }); } } module.exports = tests;
﻿ CKEDITOR.plugins.setLang( 'font', 'el', { fontSize: { label: 'Μέγεθος', voiceLabel: 'Μέγεθος γραμματοσειράς', panelTitle: 'Μέγεθος Γραμματοσειράς' }, label: 'Γραμματοσειρά', panelTitle: 'Όνομα Γραμματοσειράς', voiceLabel: 'Γραμματοσειρά' });
var https = require('https'), http = require('http'), util = require('util'), colors = require('colors'), httpProxy = require('../../lib/node-http-proxy'), helpers = require('../../test/helpers'); http.createServer(function (req, res) { res.writeHead(200, { 'Content-Type': 'text/plain' }); res.write('hello http over https\n'); res.end(); }).listen(8000); httpProxy.createServer(8000, 'localhost', { https: helpers.https }).listen(8080); util.puts('https proxy server'.blue + ' started '.green.bold + 'on port '.blue + '8080'.yellow); util.puts('http server '.blue + 'started '.green.bold + 'on port '.blue + '8000 '.yellow);
angular.module('optionsExample', []) .controller('ExampleController', ['$scope', function($scope) { $scope.user = { name: 'say' }; }]);
(function() { var style = pow.style.get('pow-edit') ;['h1', 'h2', 'li'].forEach(function(name) { style.innerHTML += '.slide[contenteditable=true] '+name+':hover { background: #eee; }' }) pow.slides.on.show(function(slide) { slide.el.setAttribute('contenteditable', 'true') }) pow.slides.on.hide(function(slide) { slide.el.removeAttribute('contenteditable') }) window.addEventListener('click', function(e) { if (e.target.isContentEditable) { e.stopPropagation() } }, true) })()
var core = require('../../../core'); var _ = require('underscore'); module.exports = { provides: 'self', getData: function(url, __promoUri, options, cb) { if (url === __promoUri) { return cb(); } var options2 = _.extend({}, options, {debug: false}); delete options2.promoUri; core.run(__promoUri, options2, function(error, data) { cb(error, { promo: data }); }); }, getMeta: function(__promoUri, promo) { return { promo: promo.meta.canonical || __promoUri }; }, getLinks: function(__promoUri, promo) { var hasGoodLinks = false; var links = promo.links.filter(function(link) { var match = _.intersection(link.rel, CONFIG.PROMO_RELS); if (match.length > 1 || (match.length > 0 && match.indexOf(CONFIG.R.thumbnail) === -1)) { hasGoodLinks = true; } return match.length; }); if (!hasGoodLinks) { return; } return links.map(function(link) { var m = {}; CONFIG.MEDIA_ATTRS.forEach(function(attr) { if (attr in link) { m[attr] = link[attr]; delete link[attr]; } }); if (!_.isEmpty(m)) { link.media = m; } link.rel.push('promo'); return link; }); } };
beforeEach(function() { jasmine.getFixtures().fixturesPath = './base/spec/fixtures'; loadJSON = function(name) { return JSON.parse(loadRawJSON(name)); }; loadRawJSON = function(name) { return jasmine.getFixtures().read(name + '.json'); }; initialize = function() { ffwdme.initialize({ routing: 'GraphHopper', graphHopper: { apiKey: 'XXX' } }); }; restore = function() { ffwdme.reset(); }; jasmine.addMatchers({ toBeType: function(util, customEqualityTesters) { return { compare: function(actual, expected) { var obj = actual; var passed = (typeof obj === expected); return { pass: passed, message: 'Expected ' + actual + (passed ? '' : ' not') + ' to be of type ' + expected }; } }; }, toBeInstanceOf: function(util, customEqualityTesters) { return { compare: function(actual, expectedClass) { var obj = actual; var passed = (obj instanceof expectedClass); return { pass: passed, message: 'Expected ' + actual + (passed ? '' : ' not') + ' to be instance of ' + expectedClass }; } }; }, toHaveMethod: function(util, customEqualityTesters) { return { compare: function(actual, expectedMethod) { var obj = actual; var passed = (typeof obj[expectedMethod] === 'function'); return { pass: passed, message: 'Expected ' + actual + (passed ? '' : ' not') + ' to have method ' + expectedMethod }; } }; }, toHaveProperty: function(util, customEqualityTesters) { return { compare: function(actual, expectedProperty) { var obj = actual; var passed = (typeof obj[expectedProperty] !== 'function') && (typeof obj[expectedProperty] !== 'undefined'); return { pass: passed, message: 'Expected ' + actual + (passed ? '' : ' not') + ' to have property ' + expectedProperty }; } }; } }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example89/index.html"); }); var thumbsUp = element(by.css('span.glyphicon-thumbs-up')); var thumbsDown = element(by.css('span.glyphicon-thumbs-down')); it('should check ng-show / ng-hide', function() { expect(thumbsUp.isDisplayed()).toBeFalsy(); expect(thumbsDown.isDisplayed()).toBeTruthy(); element(by.model('checked')).click(); expect(thumbsUp.isDisplayed()).toBeTruthy(); expect(thumbsDown.isDisplayed()).toBeFalsy(); }); });
it('should check controller', function() { var container = element(by.id('ctrl-exmpl')); expect(container.element(by.model('name')) .getAttribute('value')).toBe('John Smith'); var firstRepeat = container.element(by.repeater('contact in contacts').row(0)); var secondRepeat = container.element(by.repeater('contact in contacts').row(1)); expect(firstRepeat.element(by.model('contact.value')).getAttribute('value')) .toBe('408 555 1212'); expect(secondRepeat.element(by.model('contact.value')).getAttribute('value')) .toBe('john.smith@example.org'); firstRepeat.element(by.linkText('clear')).click(); expect(firstRepeat.element(by.model('contact.value')).getAttribute('value')) .toBe(''); container.element(by.linkText('add')).click(); expect(container.element(by.repeater('contact in contacts').row(2)) .element(by.model('contact.value')) .getAttribute('value')) .toBe('yourname@example.org'); });
module.exports = { getMeta: function(meta) { var dc = meta.dc || meta.dcterms; if (dc && dc.title) { return { title: dc.title }; } } };
'use strict'; exports.type = 'full'; exports.active = true; exports.fn = function(data) { var regEnableBackground = /^new\s0\s0\s([\-+]?\d*\.?\d+([eE][\-+]?\d+)?)\s([\-+]?\d*\.?\d+([eE][\-+]?\d+)?)$/, hasFilter = false, elems = ['svg', 'mask', 'pattern']; function checkEnableBackground(item) { if ( item.isElem(elems) && item.hasAttr('enable-background') && item.hasAttr('width') && item.hasAttr('height') ) { var match = item.attr('enable-background').value.match(regEnableBackground); if (match) { if ( item.attr('width').value === match[1] && item.attr('height').value === match[3] ) { if (item.isElem('svg')) { item.removeAttr('enable-background'); } else { item.attr('enable-background').value = 'new'; } } } } } function checkForFilter(item) { if (item.isElem('filter')) { hasFilter = true; } } function monkeys(items, fn) { items.content.forEach(function(item) { fn(item); if (item.content) { monkeys(item, fn); } }); return items; } var firstStep = monkeys(data, function(item) { checkEnableBackground(item); if (!hasFilter) { checkForFilter(item); } }); return hasFilter ? firstStep : monkeys(firstStep, function(item) { item.removeAttr('enable-background'); }); };
Raphael.fn.seurat = function(settings) { settings = settings || {}; var imageSource = settings.imageSource, step = settings.step || 10, shape = settings.shape || "circ", attributes = settings.attributes || {stroke: "none"}, animator = settings.animator, generator = settings.generator; var paper = this, canvas = document.createElement('canvas'), context = canvas.getContext('2d'), colorData; var center = step / 2, radius = center - 1; var getColorAt = function(x, y) { var index = ((canvas.width * y) + x) * 4; return "rgb(" + colorData[index] + ", " + colorData[index + 1] + ", " + colorData[index + 2] + ")"; } var defaultRect = function(x, y, clr) { return paper.rect(x, y, step, step).attr({fill: clr}).attr(attributes); } var defaultCirc = function(x, y, clr) { return paper.circle(x+center, y+center, radius).attr({fill: clr}).attr(attributes); } var img = new Image(); img.onload = function() { var x = 0, y = 0, element, color; canvas.width = img.width; canvas.height = img.height; context.drawImage(img, 0, 0, img.width, img.height); colorData = context.getImageData(0, 0, img.width, img.height).data; for (; x < canvas.width; x += step) { for (y = 0; y < canvas.height; y += step) { color = getColorAt(x + center, y + center); element = (generator) ? generator(paper, x, y, color, step, attributes) : (shape == "rect") ? defaultRect(x, y, color) : defaultCirc(x, y, color); if (animator) { animator(element, x, y, step); } } } } img.crossOrigin = ''; img.src = imageSource; }
(function() { 'use strict'; angular.module('material.components.toolbar', [ 'material.core', 'material.components.content' ]) .directive('mdToolbar', mdToolbarDirective); function mdToolbarDirective($$rAF, $mdConstant, $mdUtil, $mdTheming) { return { restrict: 'E', controller: angular.noop, link: function(scope, element, attr) { $mdTheming(element); if (angular.isDefined(attr.mdScrollShrink)) { setupScrollShrink(); } function setupScrollShrink() { var y = 0; var prevScrollTop = 0; var shrinkSpeedFactor = attr.mdShrinkSpeedFactor || 0.5; var toolbarHeight; var contentElement; var debouncedContentScroll = $$rAF.debounce(onContentScroll); var debouncedUpdateHeight = $mdUtil.debounce(updateToolbarHeight, 5 * 1000); scope.$on('$mdContentLoaded', onMdContentLoad); function onMdContentLoad($event, newContentEl) { if (element.parent()[0] === newContentEl.parent()[0]) { if (contentElement) { contentElement.off('scroll', debouncedContentScroll); } newContentEl.on('scroll', debouncedContentScroll); newContentEl.attr('scroll-shrink', 'true'); contentElement = newContentEl; $$rAF(updateToolbarHeight); } } function updateToolbarHeight() { toolbarHeight = element.prop('offsetHeight'); contentElement.css( 'margin-top', (-toolbarHeight * shrinkSpeedFactor) + 'px' ); onContentScroll(); } function onContentScroll(e) { var scrollTop = e ? e.target.scrollTop : prevScrollTop; debouncedUpdateHeight(); y = Math.min( toolbarHeight / shrinkSpeedFactor, Math.max(0, y + scrollTop - prevScrollTop) ); element.css( $mdConstant.CSS.TRANSFORM, 'translate3d(0,' + (-y * shrinkSpeedFactor) + 'px,0)' ); contentElement.css( $mdConstant.CSS.TRANSFORM, 'translate3d(0,' + ((toolbarHeight - y) * shrinkSpeedFactor) + 'px,0)' ); prevScrollTop = scrollTop; } } } }; } mdToolbarDirective.$inject = ["$$rAF", "$mdConstant", "$mdUtil", "$mdTheming"]; })();
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example56/index.html"); }); it('should select Greetings!', function() { expect(element(by.id('greet')).getAttribute('selected')).toBeFalsy(); element(by.model('selected')).click(); expect(element(by.id('greet')).getAttribute('selected')).toBeTruthy(); }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example55/index.html"); }); it('should toggle readonly attr', function() { expect(element(by.css('[type="text"]')).getAttribute('readonly')).toBeFalsy(); element(by.model('checked')).click(); expect(element(by.css('[type="text"]')).getAttribute('readonly')).toBeTruthy(); }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example79/index.html"); }); it('should check ng-submit', function() { expect(element(by.binding('list')).getText()).toBe('list=[]'); element(by.css('#submit')).click(); expect(element(by.binding('list')).getText()).toContain('hello'); expect(element(by.model('text')).getAttribute('value')).toBe(''); }); it('should ignore empty strings', function() { expect(element(by.binding('list')).getText()).toBe('list=[]'); element(by.css('#submit')).click(); element(by.css('#submit')).click(); expect(element(by.binding('list')).getText()).toContain('hello'); }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example54/index-jquery.html"); }); it('should check both checkBoxes', function() { expect(element(by.id('checkSlave')).getAttribute('checked')).toBeFalsy(); element(by.model('master')).click(); expect(element(by.id('checkSlave')).getAttribute('checked')).toBeTruthy(); }); });
app.dataservice = (function (breeze, logger) { var serviceName = 'breeze/todos'; var manager = new breeze.EntityManager(serviceName); manager.enableSaveQueuing(true); return { getAllTodos: getAllTodos, createTodo: createTodo, saveChanges: saveChanges, purge: purge, reset: reset, }; function getAllTodos(includeArchived) { var query = breeze.EntityQuery .from("Todos") .orderBy("CreatedAt"); if (!includeArchived) { query = query.where("IsArchived", "==", false); } return manager.executeQuery(query); } function createTodo(initialValues) { return manager.createEntity('TodoItem', initialValues); } function saveChanges() { return manager.saveChanges() .then(saveSucceeded) .fail(saveFailed); function saveSucceeded(saveResult) { logger.success("# of Todos saved = " + saveResult.entities.length); logger.log(saveResult); } function saveFailed(error) { var reason = error.message; var detail = error.detail; if (error.entityErrors) { reason = handleSaveValidationError(error); } else if (detail && detail.ExceptionType && detail.ExceptionType.indexOf('OptimisticConcurrencyException') !== -1) { reason = "Another user, perhaps the server, " + "may have deleted one or all of the todos." + " You may have to restart the app."; } else { reason = "Failed to save changes: " + reason + " You may have to restart the app."; } logger.error(error, reason); setTimeout(function() { manager.rejectChanges(); }, 1000); throw error; } } function handleSaveValidationError(error) { var message = "Not saved due to validation error"; try { var firstErr = error.entityErrors[0]; message += ": " + firstErr.errorMessage; } catch (e) { } return message; } function purge(callback) { $.post(serviceName + '/purge', function () { logger.success("database purged."); manager.clear(); if (callback) callback(); }); } function reset(callback) { $.post(serviceName + '/reset', function () { logger.success("database reset."); manager.clear(); if (callback) callback(); }); } })(breeze, app.logger);
var value = element(by.binding('value | date: "yyyy-MM-ddTHH:mm:ss"')); var valid = element(by.binding('myForm.input.$valid')); var input = element(by.model('value')); function setInput(val) { var scr = "var ipt = document.getElementById('exampleInput'); " + "ipt.value = '" + val + "';" + "angular.element(ipt).scope().$apply(function(s) { s.myForm[ipt.name].$setViewValue('" + val + "'); });"; browser.executeScript(scr); } it('should initialize to model', function() { expect(value.getText()).toContain('2010-12-28T14:57:00'); expect(valid.getText()).toContain('myForm.input.$valid = true'); }); it('should be invalid if empty', function() { setInput(''); expect(value.getText()).toEqual('value ='); expect(valid.getText()).toContain('myForm.input.$valid = false'); }); it('should be invalid if over max', function() { setInput('2015-01-01T23:59:00'); expect(value.getText()).toContain(''); expect(valid.getText()).toContain('myForm.input.$valid = false'); });
(function (factory) { if (typeof define === 'function' && define.amd) { define(['moment'], factory); } else if (typeof exports === 'object') { module.exports = factory(require('../moment')); } else { factory((typeof global !== 'undefined' ? global : this).moment); } }(function (moment) { return moment.defineLocale('af', { months : 'Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember'.split('_'), monthsShort : 'Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des'.split('_'), weekdays : 'Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag'.split('_'), weekdaysShort : 'Son_Maa_Din_Woe_Don_Vry_Sat'.split('_'), weekdaysMin : 'So_Ma_Di_Wo_Do_Vr_Sa'.split('_'), meridiemParse: /vm|nm/i, isPM : function (input) { return /^nm$/i.test(input); }, meridiem : function (hours, minutes, isLower) { if (hours < 12) { return isLower ? 'vm' : 'VM'; } else { return isLower ? 'nm' : 'NM'; } }, longDateFormat : { LT : 'HH:mm', LTS : 'LT:ss', L : 'DD/MM/YYYY', LL : 'D MMMM YYYY', LLL : 'D MMMM YYYY LT', LLLL : 'dddd, D MMMM YYYY LT' }, calendar : { sameDay : '[Vandag om] LT', nextDay : '[Môre om] LT', nextWeek : 'dddd [om] LT', lastDay : '[Gister om] LT', lastWeek : '[Laas] dddd [om] LT', sameElse : 'L' }, relativeTime : { future : 'oor %s', past : '%s gelede', s : '\'n paar sekondes', m : '\'n minuut', mm : '%d minute', h : '\'n uur', hh : '%d ure', d : '\'n dag', dd : '%d dae', M : '\'n maand', MM : '%d maande', y : '\'n jaar', yy : '%d jaar' }, ordinalParse: /\d{1,2}(ste|de)/, ordinal : function (number) { return number + ((number === 1 || number === 8 || number >= 20) ? 'ste' : 'de'); }, week : { dow : 1, doy : 4 } }); }));
var STATUS_CODES = require('http').STATUS_CODES; exports.error = function (statusCode, message) { var err; if (message instanceof Error) { err = message; } else { err = new Error(message || STATUS_CODES[statusCode]); } err.status = statusCode; return err; }; exports.extend = function extend(obj) { Array.prototype.slice.call(arguments, 1).forEach(function (source) { if (!source) { return; } for (var key in source) { obj[key] = source[key]; } }); return obj; };
module.exports = function($scope) { }
module.exports = { re: [ /^https?:\/\/live\.huffingtonpost\.com\/r\/archive\/segment\/[\w-]+\/(\w+)/i, /^https?:\/\/live\.huffingtonpost\.com\/r\/segment\/[\w-]+\/(\w+)/i, /^https?:\/\/live\.huffingtonpost\.com\/r\/segment\/(\w+)/i ], mixins: [ "keywords", "twitter-title", "twitter-image" ], getLinks: function(urlMatch) { return [{ href: 'http: rel: CONFIG.R.icon, type: CONFIG.T.icon }, { href: 'http: rel: [CONFIG.R.player, CONFIG.R.html5], type: CONFIG.T.text_html, "aspect-ratio": 480/270 }, { href: 'https: rel: [CONFIG.R.player, CONFIG.R.html5], type: CONFIG.T.text_html, "aspect-ratio": 480/270 }]; }, tests: [{ page: "http: selector: '.tn-hp-live a' }, "http: ] };
angular.module('ngViewExample', ['ngRoute', 'ngAnimate']) .config(['$routeProvider', '$locationProvider', function($routeProvider, $locationProvider) { $routeProvider .when('/Book/:bookId', { templateUrl: 'book.html', controller: 'BookCtrl', controllerAs: 'book' }) .when('/Book/:bookId/ch/:chapterId', { templateUrl: 'chapter.html', controller: 'ChapterCtrl', controllerAs: 'chapter' }); $locationProvider.html5Mode(true); }]) .controller('MainCtrl', ['$route', '$routeParams', '$location', function($route, $routeParams, $location) { this.$route = $route; this.$location = $location; this.$routeParams = $routeParams; }]) .controller('BookCtrl', ['$routeParams', function($routeParams) { this.name = "BookCtrl"; this.params = $routeParams; }]) .controller('ChapterCtrl', ['$routeParams', function($routeParams) { this.name = "ChapterCtrl"; this.params = $routeParams; }]);
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-number-input-directive/index.html"); }); var value = element(by.binding('value')); var valid = element(by.binding('myForm.input.$valid')); var input = element(by.model('value')); it('should initialize to model', function() { expect(value.getText()).toContain('12'); expect(valid.getText()).toContain('true'); }); it('should be invalid if empty', function() { input.clear(); input.sendKeys(''); expect(value.getText()).toEqual('value ='); expect(valid.getText()).toContain('false'); }); it('should be invalid if over max', function() { input.clear(); input.sendKeys('123'); expect(value.getText()).toEqual('value ='); expect(valid.getText()).toContain('false'); }); });
module.exports = { re: [ /^https?:\/\/www\.metacafe\.com\/watch\/yt\-([\-_a-zA-Z0-9]+)\ ], getLink: function(urlMatch, cb) { cb ({ redirect: "https: }); } };
module.exports = { re: /^https?:\/\/www\.bravotv\.com\/([a-z0-9\-]+)\/([a-z0-9\-]+)\/videos\/([a-z0-9\-]+)/i, mixins: [ "og-title", "og-image", "favicon" ], getLink: function(cheerio) { var videoFrame = cheerio('#tp-global-player'); if (videoFrame) { return { href: videoFrame.attr('src').replace('/select/', '/embed/select/').split('?')[0], type: CONFIG.T.text_html, rel: [CONFIG.R.player, CONFIG.R.html5], "aspect-ratio": videoFrame.attr('width') / videoFrame.attr('height') } } }, tests: [ "http: { page: "http: selector: ".post .video a" }, { skipMixins: [ "image_src", "description" ] }] };
describe('admin', function(){ it('should exists (validPath)', function(cb) { request .get('/admin/validPath?path=test/fixtures/path') .set({'Authorization': 'Bearer '+token}) .end(function(error, res) { expect(res.status).to.equal(200) expect(res.body.error).to.be.false cb() }) }) it('should exists (validPath)', function(cb) { request .get('/admin/validPath?path=/something/that/does/not/exists') .set({'Authorization': 'Bearer '+token}) .end(function(error, res) { expect(res.status).to.equal(200) expect(res.body.error).to.be.true cb() }) }) })
var assert = require('assert'); var R = require('..'); describe('prepend', function() { it('adds the element to the beginning of the list', function() { assert.deepEqual(R.prepend('x', ['y', 'z']), ['x', 'y', 'z']); assert.deepEqual(R.prepend(['a', 'z'], ['x', 'y']), [['a', 'z'], 'x', 'y']); }); it('works on empty list', function() { assert.deepEqual(R.prepend(1, []), [1]); }); it('is curried', function() { assert.strictEqual(typeof R.prepend(4), 'function'); assert.deepEqual(R.prepend(4)([3, 2, 1]), [4, 3, 2, 1]); }); });
var gulp = require('gulp'); var connect = require('gulp-connect'); var config = require('../config').watch; gulp.task('build', ['browserify', 'styles', 'html'], function() { gulp.src(config.src).pipe(connect.reload()); });
var _curry2 = require('./_curry2'); module.exports = (function() { function XMap(f, xf) { this.xf = xf; this.f = f; } XMap.prototype['@@transducer/init'] = function() { return this.xf['@@transducer/init'](); }; XMap.prototype['@@transducer/result'] = function(result) { return this.xf['@@transducer/result'](result); }; XMap.prototype['@@transducer/step'] = function(result, input) { return this.xf['@@transducer/step'](result, this.f(input)); }; return _curry2(function _xmap(f, xf) { return new XMap(f, xf); }); })();
describe('pending', function(){ it('should be allowed') }) describe('skip in test', function(){ it('should skip immediately', function(){ this.skip(); throw new Error('never thrown'); }) it('should run other tests in the suite', function(){ }) }) describe('skip in before', function(){ before(function(){ this.skip(); }) it('should never run this test', function(){ throw new Error('never thrown'); }) it('should never run this test', function(){ throw new Error('never thrown'); }) }) describe('skip in beforeEach', function(){ beforeEach(function(){ this.skip(); }) it('should never run this test', function(){ throw new Error('never thrown'); }) it('should never run this test', function(){ throw new Error('never thrown'); }) })
require('../../test/common'); var COUNT = 1e6, dirty = require('dirty')(__dirname+'/../../test/tmp/benchmark-set.dirty'), util = require('util'); var start = +new Date; for (var i = 0; i < COUNT; i++) { dirty.set(i, i); } var ms = +new Date - start, mhz = ((COUNT / (ms / 1000)) / 1e6).toFixed(2), million = COUNT / 1e6; util.log(mhz+' Mhz ('+million+' million in '+ms+' ms)'); process.exit(0);
var w = 960, h = 2200; var cluster = d3.layout.cluster() .size([h, w - 160]); var diagonal = d3.svg.diagonal() .projection(function(d) { return [d.y, d.x]; }); var vis = d3.select("#chart").append("svg") .attr("width", w) .attr("height", h) .append("g") .attr("transform", "translate(40, 0)"); d3.json("../data/flare.json", function(json) { var nodes = cluster.nodes(json); var link = vis.selectAll("path.link") .data(cluster.links(nodes)) .enter().append("path") .attr("class", "link") .attr("d", diagonal); var node = vis.selectAll("g.node") .data(nodes) .enter().append("g") .attr("class", "node") .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; }) node.append("circle") .attr("r", 4.5); node.append("text") .attr("dx", function(d) { return d.children ? -8 : 8; }) .attr("dy", 3) .attr("text-anchor", function(d) { return d.children ? "end" : "start"; }) .text(function(d) { return d.name; }); });
var colors = require('colors'); var pad = require('pad-component').left; exports.log = function (type, message) { padding(); log(type, message); }; exports.fatal = function (type, message) { if (padded) console.log(); padding(); error(type, message, 'red'); process.exit(1); }; exports.throw = function (err) { if (padded) console.log(); padding(); if (!err.position) { error('error', err.toString(), 'red', 'red'); err.stack.split('\n').slice(1).forEach(function (line) { error('', line.slice(2)); }); } else { var pos = err.position; var start = pos.start; var end = pos.end; var lines = err.css.split('\n'); error('error', err.toString(), 'red', 'red'); error('', ' at ' + pos.source + ':' + start.line + ':' + start.column); error(); for (var i = start.line - 3; i < end.line + 2; i++) { var line = lines[i]; if (line === undefined) continue; var color = i == start.line - 1 ? 'red' : 'grey'; error((i + 1).toString(), ' ' + line, color, color); } } process.exit(1); }; function log () { var msg = format.apply(this, arguments); console.log(msg); } function error () { var msg = format.apply(this, arguments); console.error(msg); } function format (type, msg, typeColor, msgColor) { type = type || ''; msg = msg || ''; typeColor = typeColor || 'blue'; msgColor = msgColor || 'grey'; type = pad(type, 12); return type[typeColor] + ' · ' + msg[msgColor]; } var padded = false; function padding () { if (padded) return; console.log(); process.on('exit', function () { console.log(); }); padded = true; }
var _curry1 = require('./internal/_curry1'); var keys = require('./keys'); module.exports = _curry1(function values(obj) { var props = keys(obj); var len = props.length; var vals = []; var idx = -1; while (++idx < len) { vals[idx] = obj[props[idx]]; } return vals; });
var DropDown = React.createClass({displayName: "DropDown", render: function() { var style = { display: this.props.visible ? 'block' : 'none' }; return ( React.createElement("div", { className: this.props.className, style: style}, this.renderOptions() ) ); }, renderOptions: function() { return this.props.options.map(function(option, index) { var key = 'react-ui-combo-box-option-' + index; return ( React.createElement("div", { className: this.getOptionClassName(option), key: key, onMouseDown: this.props.onOptionMouseDown.bind(null, option, index)}, this.props.renderOption(option) ) ); }, this); }, getOptionClassName: function(option) { if (this.props.valueProp && option[this.props.valueProp] === this.props.selected[this.props.valueProp]) { return this.props.optionClassName + ' ' + this.props.selectedClassName; } if (option === this.props.selected) { return this.props.optionClassName + ' ' + this.props.selectedClassName; } return this.props.optionClassName; } }); module.exports = DropDown;
OAuth2.adapter('facebook', { authorizationCodeURL: function(config) { return ('https: 'client_id={{CLIENT_ID}}&' + 'redirect_uri={{REDIRECT_URI}}&' + 'scope={{API_SCOPE}}') .replace('{{CLIENT_ID}}', config.clientId) .replace('{{REDIRECT_URI}}', this.redirectURL(config)) .replace('{{API_SCOPE}}', config.apiScope); }, redirectURL: function(config) { return 'http: }, parseAuthorizationCode: function(url) { return url.match(/[&\?]code=([^&]+)/)[1]; }, accessTokenURL: function() { return 'https: }, accessTokenMethod: function() { return 'GET'; }, accessTokenParams: function(authorizationCode, config) { return { code: authorizationCode, client_id: config.clientId, client_secret: config.clientSecret, redirect_uri: this.redirectURL(config) }; }, parseAccessToken: function(response) { return { accessToken: response.match(/access_token=([^&]*)/)[1], expiresIn: response.match(/expires=([^&]*)/)[1] }; } });
﻿var canvas = document.getElementById('canvas'); var context = canvas.getContext('2d'); var graph = new Graph(context,-4,4,0,20,275,380,450,350); graph.drawgrid(1,0.2,5,1); graph.drawaxes('x','y'); var xvals = new Array(-4,-3,-2,-1,0,1,2,3,4); var yvals = new Array(16,9,4,1,0,1,4,9,16); graph.plot(xvals, yvals); var xA = new Array(); var yA = new Array(); for (var i=0; i<=100; i++){ xA[i] = (i-50)*0.08; yA[i] = xA[i]*xA[i]; } graph.plot(xA, yA, "#ff0000", false, true);
function assert (got) { if (! got) throw new Error("expected a true value, got <"+got+">."); return true; } function assert_equals (got, expect) { if (got != expect) throw new Error("expected <"+expect+">, got <"+got+">."); return true; } function assert_error (fn) { try { fn(); } catch (e) { return true; } throw new Error("expected an error calling <"+fn+">."); } function assert_null (got) { if (got !== null) throw new Error("expected null, got <"+got+">."); return true; } function assert_not (got) { if (got) throw new Error("expected a false value, got <"+got+">."); return true; } function assert_objects_equal (got, expect) { if (typeof(got) != "object" || typeof(expect) != "object" || got === null || expect === null) { return assert_equals(got, expect); } if (got.constructor !== expect.constructor) throw new Error("objects are of different type"); var expectkeys = [i for (i in expect)]; var gotkeys = [i for (i in got)]; if (gotkeys.length != expectkeys.length) throw new Error("objects have different property counts"); for (var i in expectkeys) { assert_objects_equal(got[i], expect[i]); } return true; } function walnut_results () { this.run = 0; this.failed = 0; } function walnut_run (suite) { var results = new walnut_results(); if (suite.suite_setup) suite.suite_setup(); for (var k in suite) { if (k.substr(0,5) == 'test_') { if (suite.setup) suite.setup(); results.run++; dump(k+'..'); try { suite[k](); dumpln('ok'); } catch (e) { results.failed++; dumpln('failed'); dump_error(e); } if (suite.teardown) suite.teardown(); } } if (suite.suite_teardown) suite.suite_teardown(); dumpln(results.run+" run, "+results.failed+" failed"); return results; } provide("walnut");
var app = angular.module('simpleapp', ['ngRoute', 'sdr']); var cities = [ { code: 'boston', displayName: 'Boston, MA', search: 'Boston,%20MA,%20US' }, { code: 'new-york', displayName: 'New York, NY', search: 'New%20York,%20NY,%20US' }, { code: 'portland', displayName: 'Portland, OR', search: 'Portland,%20OR,%20US' }, { code: 'san-francisco', displayName: 'San Francisco, CA', search: 'San%20Francisco%20,%20CA,%20US' }, { code: 'seattle', displayName: 'Seattle, WA', search: 'Seattle,%20WA,%20US' } ]; app.controller( 'weatherController', function weatherController(weatherData, $scope) { $scope.city = weatherData; if (weatherData.main) { weatherData.main.tempC = Math.round(weatherData.main.temp - 273.15); } if (weatherData.weather) { $scope.weather = weatherData.weather[0]; } } ); app.controller( 'chooseCityController', function ($scope) { var rows = []; var columns = []; rows.push(columns); angular.forEach( cities, function (city) { columns.push(city); if (columns.length == 2) { columns = []; rows.push(columns); } } ); $scope.cityRows = rows; } ); var weatherTemplate = '<h2>Weather for {{weather.name}}</h2><pre>{{weather | json}}</pre>'; app.config( function ($routeProvider, $locationProvider) { $locationProvider.html5Mode(true); $routeProvider.when( '/', { templateUrl: '/:static/partials/choosecity.html', controller: 'chooseCityController' } ); $routeProvider.when( '/:city', { templateUrl: '/:static/partials/weather.html', resolve: { weatherData: function ($http, $route, $q) { var cityCode = $route.current.params.city; var city; angular.forEach( cities, function (maybeCity) { if (maybeCity.code == cityCode) { city = maybeCity; } } ); if (! city) { var defer = $q.defer(); defer.reject(new Error("No such city")); return defer.promise; } var weatherUrl = 'http: city.search ); return $http.get(weatherUrl).then(function (resp) { return resp.data; }); } }, controller: 'weatherController' } ); $routeProvider.otherwise( { template: '<a href="/">Weather</a>' } ); } );
var crossbow = require("./"); var fs = require("fs"); var path = require("path"); var rimraf = require("rimraf").sync; var outpath = "./simple-out"; rimraf(outpath); var index = fs.readFileSync("./test/fixtures/index.html", "utf-8"); var about = fs.readFileSync("./test/fixtures/about.html", "utf-8"); fs.mkdirSync(outpath); var site = crossbow.builder({ config: { base: "test/fixtures" } }); var out1 = site.add({key: "test/fixtures/index.html", content: index}); var out2 = site.add({key: "test/fixtures/about.html", content: about}); site.freeze(); site.compile({ item: out1, cb: function (err, out) { if (err) { return console.log(err.stack); } fs.writeFileSync(path.join(outpath, out.get("filepath")), out.get("compiled")); } }); site.compile({ item: out2, cb: function (err, out) { if (err) { return console.log(err.stack); } fs.writeFileSync(path.join(outpath, out.get("filepath")), out.get("compiled")); } });
var _checkForMethod = require('./internal/_checkForMethod'); var _curry2 = require('./internal/_curry2'); var _map = require('./internal/_map'); var unnest = require('./unnest'); module.exports = _curry2(_checkForMethod('chain', function chain(f, list) { return unnest(_map(f, list)); }));
var $ = require('cheerio'); module.exports = { re: /https?:\/\/imgur\.com\/(?:\w+\/)?(\w+).*/i, mixins: [ "favicon", "canonical", "oembed-author", "twitter-image", "oembed-site" ], getMeta: function(meta) { return { title: meta.twitter.title.replace('- Imgur', '') }; }, getLink: function(oembed, og) { var links = []; if (og.type === 'video.other' && og.video && og.video.length > 1 && og.video[1].type === 'video/mp4') { var v = og.video[1]; links.push({ href: v.url.replace("http: type: v.type, rel: [CONFIG.R.player, CONFIG.R.og, CONFIG.R.gifv], width: v.width, height: v.height }); } if (oembed.type === "photo" && oembed.url) { links.push({ href: oembed.url.replace("http: type: CONFIG.T.image, rel: [CONFIG.R.image, CONFIG.R.thumbnail, CONFIG.R.oembed], width: oembed.width, height: oembed.height }); } if (oembed.type == "rich") { var $container = $('<div>'); try{ $container.html(oembed.html5 || oembed.html); } catch(ex) {} var $iframe = $container.find('iframe'); if ($iframe.length == 1) { links.push({ href: $iframe.attr('src').replace("http: type: CONFIG.T.text_html, rel: [CONFIG.R.player, CONFIG.R.oembed, CONFIG.R.html5], "aspect-ratio": oembed.width / oembed.height }); } } if (og.image && og.image instanceof Array) { var gifs = og.image.filter(function(link) { return link.url && link.url.match(/\.gif$/i); }); if (gifs.length) { links.push({ href: gifs[0].url, type: CONFIG.T.image, rel: [CONFIG.R.og, CONFIG.R.image], width: gifs[0].width, height: gifs[0].height }); } } return links; }, tests: [{ pageWithFeed: "http: }, { skipMixins: [ "twitter-image", "oembed-author" ], skipMethods: ["getLink"] }, "http: "http: "http: "https: "http: "http: "http: ] };
define(['./../../base/Class', './../../base/ObservableProperty', './../../base/EventEmitter'], function(Class, Observable, EventEmitter) { function SelectionModel(list) { installer(this); EventEmitter.call(this); this.list = list; } Class(SelectionModel).mixin(EventEmitter).def({ dispose: function() { EventEmitter.prototype.dispose.call(this); installer.dispose(this); if(this._listChangedHandler) this._listChangedHandler.dispose(); }, selectedIndex: -1, selectedIndexProperty: null, selectedItem: null, selectedItemPropert: null, clearAndSelect: function(index) { this.clearSelection(); this.select(index); }, clearSelection: null, empty: null, isSelected: null, select: null, selectFirst: function() { this.clearAndSelect(0); }, selectLast: function() { this.clearAndSelect(this.list.length - 1); }, selectNext: function() { var nextIndex = this.selectedIndex+1; if(nextIndex < this.list.length) { this.clearAndSelect(nextIndex); } else { this.clearAndSelect(0); } }, selectPrevious: function() { var nextIndex = this.selectedIndex - 1; if(nextIndex < 0) { this.clearAndSelect(this.list.length - 1); } else { this.clearAndSelect(nextIndex); } } }); var installer = Observable.install(SelectionModel, 'selectedIndex', 'selectedItem'); return SelectionModel; });
jQuery(function($) { $.datepicker.regional['ro'] = { closeText: 'Închide', prevText: '&laquo; Luna precedentă', nextText: 'Luna următoare &raquo;', currentText: 'Azi', monthNames: ['Ianuarie','Februarie','Martie','Aprilie','Mai','Iunie', 'Iulie','August','Septembrie','Octombrie','Noiembrie','Decembrie'], monthNamesShort: ['Ian', 'Feb', 'Mar', 'Apr', 'Mai', 'Iun', 'Iul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'], dayNames: ['Duminică', 'Luni', 'Marţi', 'Miercuri', 'Joi', 'Vineri', 'Sâmbătă'], dayNamesShort: ['Dum', 'Lun', 'Mar', 'Mie', 'Joi', 'Vin', 'Sâm'], dayNamesMin: ['Du','Lu','Ma','Mi','Jo','Vi','Sâ'], weekHeader: 'Săpt', dateFormat: 'dd.mm.yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['ro']); });
module.exports = {ramda: 'placeholder'};
class FooterController { constructor() { this.copyrightDate = new Date(); } } export default FooterController;
var assert = require('assert'); var R = require('..'); describe('replace', function() { it('replaces substrings of the input string', function() { assert.strictEqual(R.replace('1', 'one', '1 two three'), 'one two three'); }); it('replaces regex matches of the input string', function() { assert.strictEqual(R.replace(/\d+/g, 'num', '1 2 three'), 'num num three'); }); it('is curried up to 3 arguments', function() { assert.strictEqual(R.replace(null).constructor, Function); assert.strictEqual(R.replace(null, null).constructor, Function); var replaceSemicolon = R.replace(';'); var removeSemicolon = replaceSemicolon(''); assert.strictEqual(removeSemicolon('return 42;'), 'return 42'); }); });
var app = app || {}; app.GenericCol = Backbone.Collection.extend({ parse: function(resp, xhr) { return resp.objects; } });
xdescribe("versions in player", function() { xit("player should have version", function() { expect(createPlayer('stub').version).toBeDefined(); expect(createPlayer('stub').version).toBeGreaterThan(0); }); });
var common = require('../common'); var assert = require('assert'); var http = require('http'); var testsComplete = 0; var tests = [200, 202, 300, 404, 500]; var testIdx = 0; var s = http.createServer(function (req, res) { var t = tests[testIdx]; res.writeHead(t, {'Content-Type': 'text/plain'}); console.log('--\nserver: statusCode after writeHead: ' + res.statusCode); assert.equal(res.statusCode, t); res.end('hello world\n'); }); s.listen(common.PORT, nextTest); function nextTest() { if (testIdx + 1 === tests.length) { return s.close(); } var test = tests[testIdx]; http.get({ port: common.PROXY_PORT }, function (response) { console.log('client: expected status: ' + test); console.log('client: statusCode: ' + response.statusCode); assert.equal(response.statusCode, test); response.on('end', function () { testsComplete++; testIdx += 1; nextTest(); }); }); } process.on('exit', function () { assert.equal(4, testsComplete); });
﻿ CKEDITOR.plugins.setLang( 'colorbutton', 'ca', { auto: 'Automàtic', bgColorTitle: 'Color de Fons', colors: { '000': 'Negre', '800000': 'Granat', '8B4513': 'Marró sella', '2F4F4F': 'Gris pissarra fosca', '008080': 'Blau xarxet', '000080': 'Blau marí', '4B0082': 'Indi', '696969': 'Gris intens', B22222: 'Maó', A52A2A: 'Marró (web)', DAA520: 'Solidago', '006400': 'Verd fosc', '40E0D0': 'Turquesa', '0000CD': 'Atzur', '800080': 'Lila', '808080': 'Gris', F00: 'Vermell', FF8C00: 'Taronja fosc', FFD700: 'Or', '008000': 'Verd', '0FF': 'Cian', '00F': 'Blau', EE82EE: 'Lavanda rosat', A9A9A9: 'Gris clar', FFA07A: 'Salmó clar', FFA500: 'Taronja', FFFF00: 'Groc', '00FF00': 'Verd llima', AFEEEE: 'Blau pàlid', ADD8E6: 'Blau clar', DDA0DD: 'Pruna', D3D3D3: 'Gris clar', FFF0F5: 'Lavanda rosat', FAEBD7: 'Blanc antic', FFFFE0: 'Groc clar', F0FFF0: 'Verd pàlid', F0FFFF: 'Blau cel pàlid', F0F8FF: 'Cian pàlid', E6E6FA: 'Lavanda', FFF: 'Blanc' }, more: 'Més colors...', panelTitle: 'Colors', textColorTitle: 'Color de Text' });
if (ioAngularAvailable) { io.factory("ioconnection", ['$rootScope', function($scope) { var connected = true; var unloading = false; window.addEventListener("beforeunload", function() { unloading = true; }); var notify = function() { $scope.$broadcast("ioconnectionchange", connected); if (connected) { $scope.$broadcast("ioconnected"); } else if (!unloading) { $scope.$broadcast("iodisconnected"); } unloading = false; } importio.addConnectionCallback(function(state) { var changed = false; switch (state.data.type) { case "CONNECTED": if (!connected) { changed = true; } connected = true; break; case "CONNECTION_BROKEN": case "CONNECTION_CLOSED": if (connected) { changed = true; } connected = false; break; } if (changed) { notify(); } }); return { connected: function() { return connected; } } }]); }
require(["../public/timer"], function(Timer) { describe("A timer", function() { var timer = new Timer(); it("should have a default delay of 3000", function() { expect(timer.delay).toBe(3000); }); }); });
'use strict'; angular.module('socketMock', []) .factory('socket', function() { return { socket: { connect: function() {}, on: function() {}, emit: function() {}, receive: function() {} }, syncUpdates: function() {}, unsyncUpdates: function() {} }; });
ControllerApple = function(scrollPage) { if(scrollPage === undefined) { this.scrollPage = true; } else { this.scrollPage = scrollPage; } this.target = $('body'); this.scrollPostion = new Position(0, 0); }; ControllerApple.prototype = new JarallaxController(); ControllerApple.prototype.activate = function(jarallax) { JarallaxController.prototype.activate.call(this, jarallax); this.scrollSpace = $('body').height() - $(window).height(); this.target.bind('touchmove', {scope: this}, this.onMove); this.target.bind('touchstart', {scope: this}, this.onTouch); }; ControllerApple.prototype.deactivate = function(jarallax) { JarallaxController.prototype.deactivate.call(this, jarallax); this.target.unbind('touchmove'); this.target.unbind('touchstart'); }; ControllerApple.prototype.onTouch = function(event) { var controller = event.data.scope; var targetEvent = event.originalEvent.touches.item(0); controller.startPosition = new Position(targetEvent.clientX, targetEvent.clientY); event.preventDefault(); }; ControllerApple.prototype.onMove = function(event) { var controller = event.data.scope; var targetEvent = event.originalEvent.touches.item(0); var tempPosition = new Position(targetEvent.clientX, targetEvent.clientY); var vector = tempPosition.subract(controller.startPosition); controller.startPosition = tempPosition; controller.scrollPostion = vector.add(controller.scrollPostion); controller.scrollPostion.y = Math.max(Math.min(controller.scrollPostion.y, 0),-controller.scrollSpace); controller.jarallax.setProgress(-controller.scrollPostion.y / controller.scrollSpace, false); $('body').scrollTop(controller.scrollSpace * controller.jarallax.progress); if (!controller.scrollPage) { event.preventDefault(); } }; ControllerApple.prototype.update = function(progress) { this.position.y = Math.round(progress * this.scrollSpace); };
var async = require('async'), request = require('request'), base = require('../../../core/storage'), pkgcloud = require('../../../../../lib/pkgcloud'), storage = pkgcloud.providers.azure.storage; exports.getContainers = function (callback) { var self = this; this.xmlRequest('GET',['','?comp=list'], callback, function (body) { var containers = self._toArray(body.Containers.Container); containers = containers.map(function (container) { return new (storage.Container)(self, container); }); callback(null, containers); }); }; exports.getContainer = function (container, callback) { var containerName = container instanceof storage.Container ? container.name : container, self = this, options; this.xmlRequest('GET', [containerName,'?restype=container'], callback, function (body, res) { callback(null, new (storage.Container)(self, body)); }); }; exports.createContainer = function (container, callback) { var containerName = container instanceof base.Container ? container.name : container, self = this; this.xmlRequest('PUT', [containerName,'?restype=container'], callback, function (body, res) { callback(null, new (storage.Container)(self, container)); }); }; exports.destroyContainer = function (container, callback) { var containerName = container instanceof base.Container ? container.name : container, self = this; this.xmlRequest('DELETE', [containerName,'?restype=container'], callback, function (body, res) { callback(null, res.statusCode == 202); }); };
var assert = require('chai').assert; var stub = require('sinon').stub; var TestUtils = React.addons.TestUtils; var Input = require('../Input'); describe('Input', function() { it('should handle a click', function() { var onClick = stub(); var rendered = TestUtils.renderIntoDocument( React.createElement(Input, {onClick: onClick}) ); TestUtils.Simulate.click(rendered.getDOMNode()); assert.equal(onClick.callCount, 1); }); });
exports["watch tree tests"] = { environment: "node", tests: ["test *-test.js"] };
require("../env"); require("../../d3"); var vows = require("vows"), assert = require("assert"); var suite = vows.describe("d3.mean"); suite.addBatch({ "mean": { topic: function() { return d3.mean; }, "returns the mean value for numbers": function(mean) { assert.equal(mean([1]), 1); assert.equal(mean([5, 1, 2, 3, 4]), 3); assert.equal(mean([20, 3]), 11.5); assert.equal(mean([3, 20]), 11.5); }, "ignores null, undefined and NaN": function(mean) { assert.equal(mean([NaN, 1, 2, 3, 4, 5]), 3); assert.equal(mean([1, 2, 3, 4, 5, NaN]), 3); assert.equal(mean([10, null, 3, undefined, 5, NaN]), 6); }, "can handle large numbers without overflowing": function(mean) { assert.equal(mean([Number.MAX_VALUE, Number.MAX_VALUE]), Number.MAX_VALUE); assert.equal(mean([-Number.MAX_VALUE, -Number.MAX_VALUE]), -Number.MAX_VALUE); }, "returns undefined for empty array": function(mean) { assert.isUndefined(mean([])); assert.isUndefined(mean([null])); assert.isUndefined(mean([undefined])); assert.isUndefined(mean([NaN])); assert.isUndefined(mean([NaN, NaN])); }, "applies the optional accessor function": function(mean) { assert.equal(d3.mean([[1, 2, 3, 4, 5], [2, 4, 6, 8, 10]], function(d) { return d3.mean(d); }), 4.5); assert.equal(d3.mean([1, 2, 3, 4, 5], function(d, i) { return i; }), 2); } } }); suite.export(module);
jQuery(function($) { $.datepicker.regional['sr'] = { closeText: 'Затвори', prevText: '&#x3c;', nextText: '&#x3e;', currentText: 'Данас', monthNames: ['Јануар','Фебруар','Март','Април','Мај','Јун', 'Јул','Август','Септембар','Октобар','Новембар','Децембар'], monthNamesShort: ['Јан','Феб','Мар','Апр','Мај','Јун', 'Јул','Авг','Сеп','Окт','Нов','Дец'], dayNames: ['Недеља','Понедељак','Уторак','Среда','Четвртак','Петак','Субота'], dayNamesShort: ['Нед','Пон','Уто','Сре','Чет','Пет','Суб'], dayNamesMin: ['Не','По','Ут','Ср','Че','Пе','Су'], weekHeader: 'Сед', dateFormat: 'dd/mm/yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['sr']); });
require('walnut.js'); walnut_run({ test_get_contents_asynchronously_1: function () { assert(get_contents_synchronously("chrome: }, test_get_contents_asynchronously_2: function () { assert_null(get_contents_synchronously("chrome: }, test_get_contents_asynchronously_3: function () { assert(get_contents_synchronously(make_uri("chrome: }, test_theme_module_was_loaded: function () { assert(theme_load, "theme module was loaded"); }, test_theme1: function () { assert_error(function () { theme_load(" nonexistent theme name!"); }); }, test_theme_load_paths_exists: function () { assert(theme_load_paths); }, test_default_theme_exists: function () { assert(theme_find("default")); }, test_theme_location_prop_exists: function () { assert(theme_find("default").location); }, test_theme_sheets_prop_exists: function () { assert(theme_find("default").sheets); }, test_theme_find_recycles: function () { let th1 = theme_find("default"); let th2 = theme_find("default"); assert_equals(th1, th2); }, test_theme_cssfile_module_1: function () { assert_equals(theme_cssfile_module("foo.css"), "foo"); }, test_theme_cssfile_module_2: function () { assert_equals(theme_cssfile_module("foo--bar.css"), "foo"); }, test_theme_unregister_method_exists: function () { assert(theme_find("default").unregister); }, test_theme_register_method_exists: function () { assert(theme_find("default").register); }, test_theme_registered_p_method_exists: function () { assert(theme_find("default").registered_p); } });
define([ './Observable' ], function(Observable) { return Observable.Bindings; });
var expect = require("chaimel"); var testUtils = require("app/testUtils"); describe("the Web Data Slide Deck", function() { var $ = null; before(function(done) { testUtils.loadPage("/web_data", function(error, dom) { $ = dom; done(error); }); }); it("should have many sections with class slide", function() { expect($("section.slide").length).toBeAbove(15); }); it("should mention some DBs", function() { testUtils.assertSubstrings($, "Oracle", "SQL Server", "Dynamo"); }); it("should include deck.js and the menu plugin", function() { testUtils.assertSubstrings($, "deck.js", "deck.menu.js", "deck.js/jquery-1.7.2.min.js"); }); });
var Stack = require('stack'), Creationix = require('creationix'), Path = require('path'); var missingSlash = new RegExp("^/([a-z_0-9-]+|[0-9]+\.[0-9]+\.[0-9]+)(/[a-z_0-9-]+)*$"); module.exports = Stack( Creationix.postReceive("/post-receive", Path.join(__dirname, "/post-receive.sh")), function (req, res, next) { if (req.headers.host === "www.nodemanual.org") { res.writeHead(301, {Location: "http: res.end(); return; } if (req.url === "/") { res.writeHead(301, {Location: "/latest/"}); res.end(); return; } if (missingSlash.test(req.url)) { res.writeHead(301, {Location: req.url + "/"}); res.end(); return; } next(); }, Creationix.static("/", Path.join(__dirname, "out/"), "index.html"), Creationix.indexer("/", Path.join(__dirname, "out/")) );
var _curry2 = require('./_curry2'); module.exports = (function() { function XFindLast(f, xf) { this.xf = xf; this.f = f; } XFindLast.prototype['@@transducer/init'] = function() { return this.xf['@@transducer/init'](); }; XFindLast.prototype['@@transducer/result'] = function(result) { return this.xf['@@transducer/result'](this.xf['@@transducer/step'](result, this.last)); }; XFindLast.prototype['@@transducer/step'] = function(result, input) { if (this.f(input)) { this.last = input; } return result; }; return _curry2(function _xfindLast(f, xf) { return new XFindLast(f, xf); }); })();
mySettings = { nameSpace: "wiki", previewParserPath: '', onShiftEnter: {keepDefault:false, replaceWith:'\n\n'}, markupSet: [ {name:'Heading 1', key:'1', openWith:'== ', closeWith:' ==', placeHolder:'Your title here...' }, {name:'Heading 2', key:'2', openWith:'=== ', closeWith:' ===', placeHolder:'Your title here...' }, {name:'Heading 3', key:'3', openWith:'==== ', closeWith:' ====', placeHolder:'Your title here...' }, {name:'Heading 4', key:'4', openWith:'===== ', closeWith:' =====', placeHolder:'Your title here...' }, {name:'Heading 5', key:'5', openWith:'====== ', closeWith:' ======', placeHolder:'Your title here...' }, {separator:'---------------' }, {name:'Bold', key:'B', openWith:"'''", closeWith:"'''"}, {name:'Italic', key:'I', openWith:"''", closeWith:"''"}, {name:'Stroke through', key:'S', openWith:'<s>', closeWith:'</s>'}, {separator:'---------------' }, {name:'Bulleted list', openWith:'(!(* |!|*)!)'}, {name:'Numeric list', openWith:'(!(# |!|#)!)'}, {separator:'---------------' }, {name:'Table generator', className:'tablegenerator', placeholder:"Your text here...", replaceWith:function(h) { var cols = prompt("How many cols?"), rows = prompt("How many rows?"), html = "{|\n"; if (h.altKey) { for (var c = 0; c < cols; c++) { html += "! [![TH"+(c+1)+" text:]!]\n"; } } for (var r = 0; r < rows; r++) { html+= "|-\n"; for (var c = 0; c < cols; c++) { html += "| "+(h.placeholder||"")+"\n"; } } html += "|}\n"; return html; } }, {separator:'---------------' }, {name:'Picture', key:"P", replaceWith:'[[Image:[![Url:!:http: {name:'Link', key:"L", openWith:"[[![Link]!] ", closeWith:']', placeHolder:'Your text to link here...' }, {name:'Url', openWith:"[[![Url:!:http: {separator:'---------------' }, {name:'Quotes', openWith:'(!(> |!|>)!)', placeHolder:''}, {name:'Code', openWith:'(!(<source lang="[![Language:!:php]!]">|!|<pre>)!)', closeWith:'(!(</source>|!|</pre>)!)'}, {separator:'---------------' }, {name:'Preview', call:'preview', className:'preview'} ] }
var assert = require("lib/assert"); var own_property = require("hasOwnProperty"); var to_string = require("toString"); exports['test module hasOwnProperty'] = function() { assert.deepEqual(own_property, to_string); };
require.config({ "packages": [{ name: 'jidejs', location: '../../../jidejs' }], paths: { text: '../../../bower_components/requirejs-text/text' } }); require([ 'jidejs/ui/Template', 'jidejs/ui/control/Button', 'text!./ButtonTemplate.html' ], function(Template, Button, ButtonTemplate) { new Button({ element: document.getElementById('custom_button'), on: { action: function() { alert('You clicked the button'); } } }); ButtonTemplate = Template(ButtonTemplate); document.body.appendChild(new Button({ template: ButtonTemplate, text: 'Submit', on: { action: function() { alert('You clicked the button'); } } }).element); });
var App = { Views: {}, Controllers: {}, Collections: {}, init: function() { new App.Controllers.Documents(); Backbone.history.start(); } };
var assert = (function() { var module = {}; var assert = module.exports = ok; function ok(value, message) { expect(value).to.be.ok(message); } assert.ok = ok; assert.deepEqual = function deepEqual(actual, expected, message) { expect(actual).to.eql(expected, message); }; assert.notDeepEqual = function notDeepEqual(actual, expected, message) { expect(actual).to.not.eql(expected, message); }; assert.strictEqual = function strictEqual(actual, expected, message) { expect(actual).to.equal(expected, message); }; assert.notStrictEqual = function notStrictEqual(actual, expected, message) { expect(actual).to.not.equal(expected, message); }; assert.throws = function(block, error, message) { expect(block).to.throwError(function(e) { if (error) expect(e instanceof error).ok(); }, message); }; assert.doesNotThrow = function(block, message) { expect(block).to.not.throwError(message); }; return module.exports; }());
﻿ CKEDITOR.editorConfig = function( config ) { config.extraPlugins = 'MediaEmbed'; config.base_url = $('#site_url').html(); config.baseUrl = config.baseHref = config.base_url; config.filebrowserBrowseUrl = config.base_url + 'branding/default/js/ckeditor/kcfinder/browse.php?type=files'; config.filebrowserImageBrowseUrl = config.base_url + 'branding/default/js/ckeditor/kcfinder/browse.php?type=images'; config.filebrowserFlashBrowseUrl = config.base_url + 'branding/default/js/ckeditor/kcfinder/browse.php?type=flash'; config.filebrowserUploadUrl = null; config.toolbar_Complete = [ ['Source','-','ShowBlocks','-',], ['Cut','Copy','Paste','PasteText','PasteFromWord'], ['Undo','Redo','-','Find','Replace','-','SelectAll','RemoveFormat'], '/', ['NumberedList','BulletedList','-','Outdent','Indent','Blockquote'], ['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'], ['Link','Unlink','Anchor'], ['Image','MediaEmbed','Flash','Table','HorizontalRule','Smiley','SpecialChar'], '/', ['Format','Font','FontSize'], ['Bold','Italic','Underline','Strike','-','Subscript','Superscript'], ['TextColor','BGColor'], ['Maximize'] ]; config.toolbar_Basic = [ ['Source','-',], ['Cut','Copy','Paste','PasteText','PasteFromWord'], ['Undo','Redo','-','RemoveFormat'], ['NumberedList','BulletedList','-','Outdent','Indent','Blockquote'], ['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'], ['Image','MediaEmbed','Flash','Table','HorizontalRule','Smiley','SpecialChar'], '/', ['Format','Font','FontSize'], ['Bold','Italic','Underline','Strike','-','Subscript','Superscript'], ['TextColor','BGColor'], ['Link','Unlink','Anchor'], ['Maximize'] ]; };
'use strict'; var destroy = require('./plugin/destroy') , initialize = require('./plugin/initialize') , update = require('./plugin/update'); module.exports = { initialize: initialize, update: update, destroy: destroy };
var template = require('underscore/template'), fs = require('fs'); template.settings.evaluate = /<\?js([\s\S]+?)\?>/g; template.settings.interpolate = /<\?js=([\s\S]+?)\?>/g; exports.Template = function(path) { this.path = path.replace(/\/$/, '') + '/'; this.layout = null; }; exports.Template.prototype.load = function(file) { return template.render(fs.readFileSync(this.path + file)); }; var cache = {}; exports.Template.prototype.partial = function(file, data) { if (!(file in cache)) { cache[file] = this.load(file); } return cache[file].call(this, data); }; exports.Template.prototype.render = function(file, data) { var content = this.partial(file, data); if (this.layout) { data.content = content; content = this.partial(this.layout, data); } return content; };
{ let _keyword_argument_list = []; let _get_keyword_argument_setter = function _get_keyword_argument_setter (name) { return function (value) { _keyword_argument_list.push(name); return value; }; }; let _get_keyword_argument_getter = function _get_keyword_argument_getter (name) { return function () { _keyword_argument_list.push(name); return true; }; }; function define_keywords () { for (var i = 0, alen = arguments.length; i < alen; ++i) { var name = arguments[i]; this.__defineSetter__(name, _get_keyword_argument_setter(name)); this.__defineGetter__(name, _get_keyword_argument_getter(name)); } } var define_keyword = define_keywords; function write_keywords (output, input, first_index) { if (first_index == null) first_index = input.callee.length; let max_index = input.length; let count = max_index - first_index; if (count > 0) { let offset = _keyword_argument_list.length - 1; for (let i = max_index - 1; i >= first_index; --i) { let value = input[i]; if (value instanceof keyword_argument_forwarder) { for (let x in value) output[x] = value[x]; --count; } else { let name = _keyword_argument_list[offset--]; output[name] = value; } } _keyword_argument_list.length -= count; } } let keyword_argument_forwarder = function keyword_argument_forwarder (args) { if ("_processed_keywords" in args) { for (let x in args) { if (x[0] == "$") this[x] = args[x]; } } else write_keywords(this, args); }; function keywords (args) { write_keywords(args, arguments); write_keywords(args, args); args._processed_keywords = true; } function forward_keywords (args) { return new keyword_argument_forwarder(args); } function protect_keywords () { return new keyword_argument_forwarder(arguments); } } provide("keywords");
var canvas = document.getElementById('canvas'); var context = canvas.getContext('2d'); var g = 0.1; var radius = 20; var color = "#0000ff"; var ball; window.onload = init; function init() { ball = new Ball(radius,color); ball.x = 50; ball.y = 50; ball.vx = 2; ball.vy = 0; ball.draw(context); setInterval(onEachStep, 1000/60); }; function onEachStep() { ball.vy += g; ball.x += ball.vx; ball.y += ball.vy; if (ball.y > canvas.height - radius){ ball.y = canvas.height - radius; ball.vy *= -0.8; } if (ball.x > canvas.width + radius){ ball.x = -radius; } context.clearRect(0, 0, canvas.width, canvas.height); ball.draw(context); };
angular.module("app").factory("BookResource", function($q, $resource) { return $resource('/books'); });
var _concat = require('./internal/_concat'); var _createPartialApplicator = require('./internal/_createPartialApplicator'); var curry = require('./curry'); var flip = require('./flip'); module.exports = curry(_createPartialApplicator(flip(_concat)));
var Client = new require('../../../lib/pkgcloud/core/base/client').Client; var helpers = require('../../helpers'); var async = require('async'); var client = helpers.createClient('azure', 'storage'); client.removeFile('pkgcloud-test-container', 'test-file.txt', function(err, res) { if(err) { console.dir(err); } else { console.dir(res); } });
;(function(){ var fs = require('fs'); 'use strict'; var Files = module.exports; Files.files = files; function files(){ return { replace: replace(), rename: rename }; } function replace(){ return function (file){ if (file.basename.indexOf('__') == 0) { file.basename = '.' + file.basename.slice(2); } }; } function rename ( name ) { return function (file){ if (file.basename.indexOf('_') == 0) { file.basename = file.basename.replace('_', name); } }; } }).call(this);
var yaml = require("js-yaml"); module.exports = { hasFrontMatter: hasFrontMatter, readFrontMatter: readFrontMatter, parseYaml: parseYaml, isYaml: isYaml }; function hasFrontMatter(file) { return file.match(/^---\n/); } function readFrontMatter(opts) { var frontYaml; var content = opts.content; if (/^---\n/.test(opts.content)) { var end = opts.content.search(/\n---/); if (end !== -1) { try { var slice = opts.content.slice(4, end + 1); frontYaml = yaml.load(slice); frontYaml.lineCount = slice.split("\n").length + 1; } catch (e) { e._type = "yaml"; e._crossbow = { line: e.mark.line + 1, file: opts.key, message: e.message }; opts.compiler.error(e); } content = opts.content.slice(end + 5); } } return { front: frontYaml || {}, content: content }; } function parseYaml(string) { return yaml.safeLoad(string); } function isYaml(key) { return key.match(/yml$/i); }
var d3_time_formatIso = d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ"); d3.time.format.iso = Date.prototype.toISOString ? d3_time_formatIsoNative : d3_time_formatIso; function d3_time_formatIsoNative(date) { return date.toISOString(); } d3_time_formatIsoNative.parse = function(string) { return new Date(string); }; d3_time_formatIsoNative.toString = d3_time_formatIso.toString;
module.exports.adapters = { 'default': 'mongo', mongo: { module : 'sails-mongo', url : process.env.MONGOLAB_URI || 'mongodb: }, memory: { module: 'sails-dirty', inMemory: true }, disk: { module: 'sails-dirty', filePath: './.tmp/dirty.db', inMemory: false }, mysql: { module : 'sails-mysql', host : 'YOUR_MYSQL_SERVER_HOSTNAME_OR_IP_ADDRESS', user : 'YOUR_MYSQL_USER', password : 'YOUR_MYSQL_PASSWORD', database : 'YOUR_MYSQL_DB' } };
"use strict"; var demethodize = require("demethodize"); var NBA_START_MONTH = 9; var START_YEAR = 1900; var END_YEAR = new Date().getFullYear(); var strSlice = demethodize("".slice); function validateYear (year) { var num = Number(year); if (isNaN(num)) { throw new TypeError("Cannot convert " + year + "to number"); } if (num < START_YEAR || num > END_YEAR) { throw new RangeError("Data unavailable for year " + num); } return num; } function Season (startYear) { var start = validateYear(startYear); var end = start + 1; var instance = { prev: function () { return Season(start - 1); }, next: function () { return Season(end); }, toString: function () { return start + "-" + strSlice(end, 2); }, toArray: function () { return [start, end]; } }; return instance; } Season.current = function () { var now = new Date(); var year = now.getMonth() >= NBA_START_MONTH ? now.getFullYear() : now.getFullYear() - 1; return Season(year); }; module.exports = Season;
var slicer = Array.prototype.slice; function throttle(f, delay) { var id = 0 var params = [f, delay].concat(slicer.call(arguments, 2)) return function throttled() { clearTimeout(id, throttled) id = setTimeout.apply(this, params.concat(slicer.call(arguments))) } } function make_block(num, evaluator) { var input = document.querySelector('#code-block-' + num); var editor = CodeMirror.fromTextArea(input, { lineNumbers: true, mode: 'javascript', autofocus: true, theme: 'solarized light' }); var output = document.querySelector('#output-' + num); editor.on('change', throttle(function() { var src = editor.getValue(); try { var res = evaluator(src); } catch (err) { res = err.message; } output.innerHTML = ''; if (res instanceof Element) { output.appendChild(res); } else { output.textContent = res; } }, 500)); editor.setValue(editor.getValue()); editor.refresh(); } global.make_block = make_block;
if (typeof process !== "undefined") { require("amd-loader"); require("./test/mockdom"); } define(function(require, exports, module) { "use strict"; var EditSession = require("./edit_session").EditSession; var VirtualRenderer = require("./virtual_renderer").VirtualRenderer; var assert = require("./test/assertions"); module.exports = { "test: screen2text the column should be rounded to the next character edge" : function() { var el = document.createElement("div"); if (!el.getBoundingClientRect) { console.log("Skipping test: This test only runs in the browser"); return; } el.style.left = "0px"; el.style.top = "0px"; el.style.width = "100px"; el.style.height = "100px"; document.body.style.margin = "0px"; document.body.style.padding = "0px"; document.body.appendChild(el); var renderer = new VirtualRenderer(el); renderer.setPadding(0); renderer.setSession(new EditSession("1234")); renderer.characterWidth = 10; renderer.lineHeight = 15; assert.position(renderer.screenToTextCoordinates(0, 0), 0, 0); assert.position(renderer.screenToTextCoordinates(4, 0), 0, 0); assert.position(renderer.screenToTextCoordinates(5, 0), 0, 1); assert.position(renderer.screenToTextCoordinates(9, 0), 0, 1); assert.position(renderer.screenToTextCoordinates(10, 0), 0, 1); assert.position(renderer.screenToTextCoordinates(14, 0), 0, 1); assert.position(renderer.screenToTextCoordinates(15, 0), 0, 2); document.body.removeChild(el); } }; }); if (typeof module !== "undefined" && module === require.main) { require("asyncjs").test.testcase(module.exports).exec() }
class EmployeesEditController { constructor(employee, languages, positions, roles, EmployeeResource, $modalInstance) { 'ngInject'; this.$modalInstance = $modalInstance; this.EmployeeResource = EmployeeResource; this.employee = employee; this.languages = languages; this.positions = positions; this.roles = roles; this.profileComplete = EmployeeResource.calculateProfileCompleteness(employee); this.isSubmitting = null; this.result = null; this.saveButtonOptions = { iconsPosition: 'right', buttonDefaultText: 'Save', buttonSubmittingText: 'Saving', buttonSuccessText: 'Saved', animationCompleteTime: '1200' }; } cancel() { this.$modalInstance.dismiss('cancel'); } save(form) { if(!form.$valid) {return;} this.isSubmitting = true; this.employee.put().then(function(employee) { this.profileComplete = this.EmployeeResource.calculateProfileCompleteness(this.employee); this.employee = employee; this.result = 'success'; form.$setPristine(); }.bind(this), function(response) { this.result = 'error'; if(response.status === 409) { } else { } }.bind(this)); } } export default EmployeesEditController;
(function () { var line = _vis['line-dotted']; function enter(self, storage, className, data, callbacks) { line.enter(self, storage, className, data, callbacks); } function _accumulate_data(data) { function reduce(memo, num) { return memo + num.y; } var nData = _.map(data, function (set) { var i = set.data.length, d = _.clone(set.data); set = _.clone(set); while (i) { i -= 1; d[i] = _.clone(set.data[i]); d[i].y0 = set.data[i].y; d[i].y = _.reduce(_.first(set.data, i), reduce, set.data[i].y); } return _.extend(set, { data: d }); }); return nData; } function _resetData(self) { if (!self.hasOwnProperty('cumulativeOMainData')) { return; } self._mainData = self.cumulativeOMainData; delete self.cumulativeOMainData; self._compData = self.cumulativeOCompData; delete self.cumulativeOCompData; } function preUpdateScale(self, data) { _resetData(self); self.cumulativeOMainData = self._mainData; self._mainData = _accumulate_data(self._mainData); self.cumulativeOCompData = self._compData; self._compData = _accumulate_data(self._compData); } function destroy(self, storage, timing) { _resetData(self); line.destroy.apply(null, _.toArray(arguments)); } _vis.cumulative = { preUpdateScale: preUpdateScale, enter: enter, update: line.update, exit: line.exit, destroy: destroy }; }());
var util = require('util'), director = require('../director'); var Router = exports.Router = function (routes) { director.Router.call(this, routes); this.recurse = 'backward'; }; util.inherits(Router, director.Router); Router.prototype.configure = function (options) { options = options || {}; director.Router.prototype.configure.call(this, options); this.delimiter = '\\s'; return this; }; Router.prototype.dispatch = function (method, path, tty, callback) { path = ' ' + path; var fns = this.traverse(method, path, this.routes, ''); if (!fns || fns.length === 0) { if (typeof this.notfound === 'function') { this.notfound.call({ tty: tty, cmd: path }, callback); } else if (callback) { callback(new Error('Could not find path: ' + path)); } return false; } if (this.recurse === 'forward') { fns = fns.reverse(); } this.invoke(this.runlist(fns), { tty: tty, cmd: path }, callback); return true; };
jQuery(function($) { $.datepicker.regional['pt-BR'] = { closeText: 'Fechar', prevText: '&#x3c;Anterior', nextText: 'Pr&oacute;ximo&#x3e;', currentText: 'Hoje', monthNames: ['Janeiro','Fevereiro','Mar&ccedil;o','Abril','Maio','Junho', 'Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'], monthNamesShort: ['Jan','Fev','Mar','Abr','Mai','Jun', 'Jul','Ago','Set','Out','Nov','Dez'], dayNames: ['Domingo','Segunda-feira','Ter&ccedil;a-feira','Quarta-feira','Quinta-feira','Sexta-feira','S&aacute;bado'], dayNamesShort: ['Dom','Seg','Ter','Qua','Qui','Sex','S&aacute;b'], dayNamesMin: ['Dom','Seg','Ter','Qua','Qui','Sex','S&aacute;b'], weekHeader: 'Sm', dateFormat: 'dd/mm/yy', firstDay: 0, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['pt-BR']); });
define([ 'jidejs/base/Class', 'jidejs/ui/Control', 'jidejs/ui/Skin', 'jidejs/base/DOM' ], function(Class, Control, Skin, DOM) { "use strict"; return Control.create('Icon', Control, ['icons'], { Skin: Skin.create(Skin, { defaultElement: 'i', updateRootElement: function() { Skin.prototype.updateRootElement.call(this); var icon = this.component; icon.classList.add('icon-stack'); if(icon.icons) { this.installIcons(); } }, installBindings: function() { if(this.component.children) this.installIcons(); var THIS = this; return Skin.prototype.installBindings.call(this).concat([ this.component.iconsProperty.subscribe(function(event) { DOM.removeChildren(THIS.element); THIS.installIcons(); }) ]); }, installIcons: function() { var icon = this.component, element = this.element; icon.icons.forEach(function(iconName, index) { var node = document.createElement('i'); node.className = 'icon-'+iconName; if(index === 0) node.className += ' icon-stack-base'; element.appendChild(node); }) } }) }); });
﻿angular.module('wiz.validation.whitelist') .directive('wizValWhitelist', function () { return { restrict: 'A', require: 'ngModel', scope: { whitelist: '=wizValWhitelist' }, link: function (scope, elem, attrs, ngModel) { ngModel.$parsers.unshift(function (value) { return validate(value); }); ngModel.$formatters.unshift(function (value) { return validate(value); }); function validate(value) { var valid = false; if (typeof value === "undefined") { value = ""; } if (typeof scope.whitelist !== "undefined") { for (var i = scope.whitelist.length - 1; i >= 0; i--) { if (value === scope.whitelist[i]) { valid = true; break; } } } ngModel.$setValidity('wizValWhitelist', valid); return value; } } }; });
var sys = require('sys'), http = require('http'); var connections = []; var conIndex = 0; function listen(url, requester, cb) { var delim = /\n*\r\n*/; var buffer = ""; var index = conIndex++; console.log("[Stream] connect to "+url); requester(url, "GET", function (error, request) { if(error) { console.log("[Stream] Connection Error "+error); cb({ connection: "close" }); } request.end(); request.on('response', function (response) { console.log('STATUS: ' + response.statusCode); connections[index] = response; if(response.statusCode != 200) { cb({ statusCode: response.statusCode }); } console.log('[Stream] HEADERS: ' + JSON.stringify(response.headers)); response.setEncoding('utf8'); response.on('end', function () { connections[index] = null; cb({ connection: "close" }) }) response.on('data', function (chunk) { buffer += chunk; var parts = buffer.split(delim); var len = parts.length; if(len > 1) { buffer = parts[len-1]; for(var i = 0, end = len - 1; i < end; ++i) { var entry = parts[i]; if(entry !== "") { cb(null, entry); } } } }); }) }); return { end: function () { var response = connections[index]; if(response) { try { response.connection.destroy(); console.log("[Stream] Closed connection "+index); } catch(e) { console.log("[Stream] Error ending connection "+e) } } } } } function managedListen(url, requester, cb) { var con = listen(url, requester, function (err, data) { if(err) { console.log("ERROR: "+JSON.stringify(err)); if(err.statusCode) { if(err.statusCode == "401") { cb("Authorization failed") } else { cb(err) } } else if(err.connection == "close") { cb(err) } } else { cb(null, data) } }); return con; } exports.connect = managedListen;
var _any = require('./internal/_any'); var _complement = require('./internal/_complement'); var _curry2 = require('./internal/_curry2'); var _dispatchable = require('./internal/_dispatchable'); var _xany = require('./internal/_xany'); module.exports = _curry2(_complement(_dispatchable('any', _xany, _any)));
var mySettings = { onShiftEnter: {keepDefault:false, replaceWith:'<br />\n'}, onCtrlEnter: {keepDefault:false, openWith:'\n<p>', closeWith:'</p>'}, onTab: {keepDefault:false, replaceWith:' '}, markupSet: [ {name:'Bold', key:'B', openWith:'(!(<strong>|!|<b>)!)', closeWith:'(!(</strong>|!|</b>)!)' }, {name:'Italic', key:'I', openWith:'(!(<em>|!|<i>)!)', closeWith:'(!(</em>|!|</i>)!)' }, {name:'Stroke through', key:'S', openWith:'<del>', closeWith:'</del>' }, {separator:'---------------' }, {name:'Bulleted List', openWith:' <li>', closeWith:'</li>', multiline:true, openBlockWith:'<ul>\n', closeBlockWith:'\n</ul>'}, {name:'Numeric List', openWith:' <li>', closeWith:'</li>', multiline:true, openBlockWith:'<ol>\n', closeBlockWith:'\n</ol>'}, {separator:'---------------' }, {name:'Picture', key:'P', replaceWith:'<img src="[![Source:!:http: {name:'Link', key:'L', openWith:'<a href="[![Link:!:http: {separator:'---------------' }, {name:'Clean', className:'clean', replaceWith:function(markitup) { return markitup.selection.replace(/<(.*?)>/g, "") } }, {name:'Preview', className:'preview', call:'preview'} ] }
var async = require('async'); var db = require('../db'); var config = require('../config'); var r = require('../redis'); var utility = require('../utility'); var getData = utility.getData; var selector = require('../selector'); var redis = r.client; var retrievers = config.RETRIEVER_HOST; module.exports = function buildSets(cb) { console.log("rebuilding sets"); async.series({ "trackedPlayers": function(cb) { db.players.find(selector("tracked"), function(err, docs) { if (err) { return cb(err); } var t = {}; docs.forEach(function(player) { t[player.account_id] = true; }); cb(err, t); }); }, "userPlayers": function(cb) { db.players.find({ last_visited: { $ne: null } }, function(err, docs) { if (err) { return cb(err); } var t = {}; docs.forEach(function(player) { t[player.account_id] = true; }); cb(err, t); }); }, "parsers": function(cb) { var parsers = []; var ps = config.PARSER_HOST.split(",").map(function(p) { return "http: }); async.each(ps, function(url, cb) { getData(url, function(err, body) { if (err) { return cb(err); } for (var i = 0; i < body.capacity; i++) { parsers.push(url); } cb(err); }); }, function(err) { cb(err, parsers); }); }, "retrievers": function(cb) { var r = {}; var b = []; var ps = retrievers.split(",").map(function(r) { return "http: }); async.each(ps, function(url, cb) { getData(url, function(err, body) { if (err) { return cb(err); } for (var key in body.accounts) { b.push(body.accounts[key]); } for (var key in body.accountToIdx) { r[key] = url + "&account_id=" + key; } cb(err); }); }, function(err) { var result = { ratingPlayers: r, bots: b, retrievers: ps }; cb(err, result); }); } }, function(err, result) { if (err) { return buildSets(cb); } result.ratingPlayers = result.retrievers.ratingPlayers; result.bots = result.retrievers.bots; result.retrievers = result.retrievers.retrievers; for (var key in result) { redis.set(key, JSON.stringify(result[key])); } cb(); }); };
var emailValidator = require('./validators/email.validator.js'); var mongoose = require('mongoose'); var passportLocalMongoose = require('passport-local-mongoose'); var Schema = mongoose.Schema; var userSchema = new Schema({ created: { type: Date, default: new Date(), required: true }, email: { type: String, trim: true, unique: true, required: true, validate: emailValidator }, active: { type: Boolean, default: true }, verified: { type: Boolean, default: false }, verifyToken: String, forgotPasswordToken: String, forgotPasswordExpires: Date, closeAccountToken: String, closeAccountExpires: Date }); userSchema.plugin(passportLocalMongoose, { usernameField: 'email' }); module.exports = mongoose.model('User', userSchema);
jQuery(function($) { $.datepicker.regional['kz'] = { closeText: 'Жабу', prevText: '&#x3c;Алдыңғы', nextText: 'Келесі&#x3e;', currentText: 'Бүгін', monthNames: ['Қаңтар','Ақпан','Наурыз','Сәуір','Мамыр','Маусым', 'Шілде','Тамыз','Қыркүйек','Қазан','Қараша','Желтоқсан'], monthNamesShort: ['Қаң','Ақп','Нау','Сәу','Мам','Мау', 'Шіл','Там','Қыр','Қаз','Қар','Жел'], dayNames: ['Жексенбі','Дүйсенбі','Сейсенбі','Сәрсенбі','Бейсенбі','Жұма','Сенбі'], dayNamesShort: ['жкс','дсн','ссн','срс','бсн','жма','снб'], dayNamesMin: ['Жк','Дс','Сс','Ср','Бс','Жм','Сн'], weekHeader: 'Не', dateFormat: 'dd.mm.yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['kz']); });
var assert = require('assert'), path = require('path'), vows = require('vows'), fmonitor = require('../../lib'); vows.describe('forever-monitor/monitor/fork').addBatch({ "When using forever-monitor": { "and spawning a script that uses `process.send()`": { "using the 'native' fork": { topic: function () { var script = path.join(__dirname, '..', '..', 'examples', 'process-send.js'), child = new (fmonitor.Monitor)(script, { silent: false, minUptime: 2000, max: 1, fork: true }); child.on('message', this.callback.bind(null, null)); child.start(); }, "should reemit the message correctly": function (err, msg) { assert.isObject(msg); assert.deepEqual(msg, { from: 'child' }); } } } } }).export(module);
define([ 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/_base/array', 'dojo/query', 'dojo/dom-style', 'dijit/PopupMenuItem', 'dijit/TooltipDialog', 'dijit/form/HorizontalSlider', 'dijit/form/HorizontalRuleLabels' ], function ( declare, lang, array, query, domStyle, PopupMenuItem, TooltipDialog, HorizontalSlider, HorizontalRuleLabels ) { return declare(PopupMenuItem, { layer: null, constructor: function (options) { options = options || {}; lang.mixin(this, options); }, postCreate: function () { this.inherited(arguments); var transparencySlider = new HorizontalSlider({ value: this.layer.opacity, minimum: 0, maximum: 1, discreteValues: 21, intermediateChanges: true, showButtons: false, onChange: lang.hitch(this, function (value) { this.layer.setOpacity(value); array.forEach(query('.' + this.layer.id + '-layerLegendImage'), function (img) { domStyle.set(img, 'opacity', value); }); }) }); var rule = new HorizontalRuleLabels({ labels: ['100%', '50%', '0%'], style: 'height:1em;font-size:75%;' }, transparencySlider.bottomDecoration); rule.startup(); transparencySlider.startup(); this.popup = new TooltipDialog({ style: 'width:200px;', content: transparencySlider }); domStyle.set(this.popup.connectorNode, 'display', 'none'); this.popup.startup(); } }); });
var cookie_manager = Cc["@mozilla.org/cookiemanager;1"] .getService(Ci.nsICookieManager2); function clear_cookies () { cookie_manager.removeAll(); } interactive("clear-cookies", "Permanently delete all existing cookies.", function (I) { clear_cookies(); I.minibuffer.message("Cookies cleared."); }); define_label("COOKIE_LIFETIME_DEFAULT"); define_label("COOKIE_LIFETIME_SESSION"); define_label("COOKIE_LIFETIME_DAYS", "days"); define_label("COOKIE_LIFETIME_PROMPT"); define_special_variable("cookie_lifetime_policy", function () { switch (get_pref("network.cookie.lifetimePolicy")) { case 0: return COOKIE_LIFETIME_DEFAULT; case 1: return COOKIE_LIFETIME_PROMPT; case 2: return COOKIE_LIFETIME_SESSION; case 3: return COOKIE_LIFETIME_DAYS(get_pref("network.cookie.lifetime.days")); default: return undefined; } }, function (value) { switch (label_id(value)) { case COOKIE_LIFETIME_DEFAULT: session_pref("network.cookie.lifetimePolicy", 0); break; case COOKIE_LIFETIME_PROMPT: session_pref("network.cookie.lifetimePolicy", 1); break; case COOKIE_LIFETIME_SESSION: session_pref("network.cookie.lifetimePolicy", 2); break; case COOKIE_LIFETIME_DAYS: session_pref("network.cookie.lifetimePolicy", 3); session_pref("network.cookie.lifetime.days", value.days); break; } }, "Specifies the default cookie lifetime policy."); provide("cookie");
var canvas = document.getElementById('canvas'); var context = canvas.getContext('2d'); var rocket = new Rocket(50,100,'#666666',1); rocket.x = 100; rocket.y = 200; rocket.draw(context,true);
$('document').ready(function(){ $(".d").multiDraggable({ group: $(".d"), dragNative : function () {}}); $(".d2").multiDraggable({ group: $(".d2"), dragNative : function () {}}); });
var assert = require('assert'); var html = require('./my-module'); suite('html'); test('should set inner html', function() { var el = document.createElement('div'); html(el, '<p>foobar</p>'); assert.equal(el.innerHTML, '<p>foobar</p>'); }); test('should clear inner html', function() { var el = document.createElement('div'); el.innerHTML = 'foobar'; html(el); assert.equal(el.innerHTML, ''); });
var status = element(by.binding('status')); var data = element(by.binding('data')); var fetchBtn = element(by.id('fetchbtn')); var sampleGetBtn = element(by.id('samplegetbtn')); var sampleJsonpBtn = element(by.id('samplejsonpbtn')); var invalidJsonpBtn = element(by.id('invalidjsonpbtn')); it('should make an xhr GET request', function() { sampleGetBtn.click(); fetchBtn.click(); expect(status.getText()).toMatch('200'); expect(data.getText()).toMatch(/Hello, \$http!/); }); it('should make JSONP request to invalid URL and invoke the error handler', function() { invalidJsonpBtn.click(); fetchBtn.click(); expect(status.getText()).toMatch('0'); expect(data.getText()).toMatch('Request failed'); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example111/index-jquery.html"); }); it('should display the greeting in the input box', function() { element(by.model('greeting')).sendKeys('Hello, E2E Tests'); }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-datetimelocal-input-directive/index.html"); }); var value = element(by.binding('value | date: "yyyy-MM-ddTHH:mm:ss"')); var valid = element(by.binding('myForm.input.$valid')); var input = element(by.model('value')); function setInput(val) { var scr = "var ipt = document.getElementById('exampleInput'); " + "ipt.value = '" + val + "';" + "angular.element(ipt).scope().$apply(function(s) { s.myForm[ipt.name].$setViewValue('" + val + "'); });"; browser.executeScript(scr); } it('should initialize to model', function() { expect(value.getText()).toContain('2010-12-28T14:57:00'); expect(valid.getText()).toContain('myForm.input.$valid = true'); }); it('should be invalid if empty', function() { setInput(''); expect(value.getText()).toEqual('value ='); expect(valid.getText()).toContain('myForm.input.$valid = false'); }); it('should be invalid if over max', function() { setInput('2015-01-01T23:59:00'); expect(value.getText()).toContain(''); expect(valid.getText()).toContain('myForm.input.$valid = false'); }); });
module.exports = { getMeta: function(og) { return { title: og.title }; } };
var celery = require('../celery'), client = celery.createClient({ CELERY_BROKER_URL: 'amqp: }); client.on('error', function(err) { console.log(err); }); client.on('connect', function() { client.call('tasks.sleep', [2 * 60 * 60], null, { expires: new Date(Date.now() + 60 * 60 * 1000) }); });
var fs = require('fs'); var sourceMap = require('source-map'); var readSourceMap = function(mapFilename) { var map; if (!fs.existsSync(mapFilename)) { throw new Error(mapFilename + ": No such source map file"); } var mapFileContents = fs.readFileSync(mapFilename, 'utf8'); try { map = JSON.parse(mapFileContents); } catch (error) { throw new Error(mapFilename + ": Invalid JSON"); } return new sourceMap.SourceMapConsumer(map); }; var concatenateSourceMaps = function(sourceFilename, mapFilenames, output) { var generated = new sourceMap.SourceMapGenerator({ file: sourceFilename }); var combinedGeneratedLine = 0; mapFilenames.forEach(function(mapFilename) { var original = readSourceMap(mapFilename); var originalLastLine = null; original.eachMapping(function(mapping) { generated.addMapping({ generated: { line: combinedGeneratedLine + mapping.generatedLine, column: mapping.generatedColumn }, original: { line: mapping.originalLine, column: mapping.originalColumn }, source: mapping.source }); originalLastLine = mapping.generatedLine; }); combinedGeneratedLine += originalLastLine; }); output.write(generated.toString()); }; module.exports = { read: readSourceMap, cat: concatenateSourceMaps };
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example101/index.html"); }); it('should jsonify filtered objects', function() { expect(element(by.binding("{'name':'value'}")).getText()).toMatch(/\{\n "name": ?"value"\n}/); }); });
define('crm/Views/Product/List', [ 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/string', '../../Format', 'argos/List' ], function( declare, lang, string, format, List ) { var __class = declare('crm.Views.Product.List', [List], { itemTemplate: new Simplate([ '<h3>{%: $.Name %} | {%: $.Description %}</h3>', '<h4>', '{%: $.Family %}', '</h4>' ]), titleText: 'Products', id: 'product_list', security: 'Entities/Product/View', queryOrderBy: 'Name', querySelect: [ 'Description', 'Name', 'Family', 'Price', 'Program', 'FixedCost' ], resourceKind: 'products', formatSearchQuery: function(searchQuery) { return string.substitute('(upper(Name) like "${0}%" or upper(Family) like "${0}%")', [this.escapeSearchQuery(searchQuery.toUpperCase())]); } }); lang.setObject('Mobile.SalesLogix.Views.Product.List', __class); return __class; });
var value = element(by.binding('value | date: "yyyy-Www"')); var valid = element(by.binding('myForm.input.$valid')); var input = element(by.model('value')); function setInput(val) { var scr = "var ipt = document.getElementById('exampleInput'); " + "ipt.value = '" + val + "';" + "angular.element(ipt).scope().$apply(function(s) { s.myForm[ipt.name].$setViewValue('" + val + "'); });"; browser.executeScript(scr); } it('should initialize to model', function() { expect(value.getText()).toContain('2013-W01'); expect(valid.getText()).toContain('myForm.input.$valid = true'); }); it('should be invalid if empty', function() { setInput(''); expect(value.getText()).toEqual('value ='); expect(valid.getText()).toContain('myForm.input.$valid = false'); }); it('should be invalid if over max', function() { setInput('2015-W01'); expect(value.getText()).toContain(''); expect(valid.getText()).toContain('myForm.input.$valid = false'); });
export default { * index(next) { this.body = 'photos#index'; }, * create(next) { this.body = 'photos#create' }, * ['new'](next) { this.body = 'photos#new'; }, * show(next) { this.body = 'photos#show'; }, * update(next) { this.body = 'photos#update'; }, * destroy(next) { this.body = 'photos#destroy'; } };
angular.module('docsTimeDirective', []) .controller('Controller', ['$scope', function($scope) { $scope.format = 'M/d/yy h:mm:ss a'; }]) .directive('myCurrentTime', ['$interval', 'dateFilter', function($interval, dateFilter) { function link(scope, element, attrs) { var format, timeoutId; function updateTime() { element.text(dateFilter(new Date(), format)); } scope.$watch(attrs.myCurrentTime, function(value) { format = value; updateTime(); }); element.on('$destroy', function() { $interval.cancel(timeoutId); }); timeoutId = $interval(function() { updateTime(); }, 1000); } return { link: link }; }]);
var assert = require('assert'); var R = require('..'); describe('pickAll', function() { var obj = {a: 1, b: 2, c: 3, d: 4, e: 5, f: 6}; it('copies the named properties of an object to the new object', function() { assert.deepEqual(R.pickAll(['a', 'c', 'f'], obj), {a: 1, c: 3, f: 6}); }); it('includes properties not present on the input object', function() { assert.deepEqual(R.pickAll(['a', 'c', 'g'], obj), {a: 1, c: 3, g: undefined}); }); it('is curried', function() { var copyAB = R.pickAll(['a', 'b']); assert.deepEqual(copyAB(obj), {a: 1, b: 2}); }); });
export default Ember.View.extend({ tagName: "input", type : "radio", attributeBindings: [ "name", "type", "value", "checked:checked:", "disabled:disabled" ], click: function () { this.set('selection', this.get('value')); }, checked: function () { return this.get('value') === this.get('selection'); }.property('selection'), defaultChanged: function () { this.set('selection', this.get('defaultValue')); }.observes('defaultValue'), valueChanged: function () { this.set('defaultValue', this.get('value')); }.observes('value'), willInsertElement: function () { if (!this.get('selection') && this.get('defaultValue')) { this.set('selection', this.get('defaultValue')); } } });
(function() { var $ = window.$ = window.$ || {}; $.iframely = $.iframely || {}; var windowMessaging = function(){ return { postMessage : function(message, target_url, target) { message = JSON.stringify(message); target_url = target_url || '*'; target = target || window.parent; if (window['postMessage']) { target['postMessage'](message, target_url.replace( /([^:]+:\/\/[^\/]+).*/, '$1')); } }, receiveMessage : function(callback) { function cb(e) { var message; try { message = JSON.parse(e.data); } catch (ex) { } callback(e, message); } if (window['postMessage']) { if (window['addEventListener']) { window[callback ? 'addEventListener' : 'removeEventListener']('message', cb, !1); } else { window[callback ? 'attachEvent' : 'detachEvent']('onmessage', cb); } } } }; }(); var windowId; var heightGetter; windowMessaging.receiveMessage(function(e, message) { if (message && message.method && message.method === "register") { windowId = message.windowId; var height; function resize() { var h = heightGetter ? heightGetter() : null; if (h && h != height && (h > height || !height)) { height = h; windowMessaging.postMessage({ windowId: windowId, method: 'resize', height: height }); } } setInterval(resize, 200); resize(); } }); $.iframely.registerHeightGetter = function(f) { heightGetter = f; }; })();
var gulp = require('gulp'); gulp.task('assets', function() { return gulp.src('./src *.{png,svg,json,m4a,mp3,ogg,wav}') .pipe(gulp.dest('build')); });
angular.module('typicms').directive('typiBtnFiles', function() { return { scope: { model: '=' }, template: '<a class="label label-default" ng-class="model.files_count ? \'label-success\' : \'\'" href="/admin/galleries/{{ model.id }}/edit?tab=tab-files">{{ model.files_count }}</a>' }; });
module.exports = { re: /^https?:\/\/www\.dailymotion\.com\/swf\/video\ getLink: function (url, cb) { cb ({ redirect: url.replace(/\/swf/, '') }); } };
var Benchmark = require('benchmark'); var suite = new Benchmark.Suite; suite .on('cycle', function(event, bench) { console.log(String(bench)); }) .on('complete', function() { console.log('Fastest is ' + this.filter('fastest').pluck('name')); }); module.exports = suite;
module.exports = { re: [ /^https?:\/\/tv\.zing\.vn\/video\/[a-zA-Z0-9\-]+\/([a-zA-Z0-9]+)\.html/i ], mixins: [ "og-image", "favicon", "canonical", "og-description", "keywords", "og-site", "og-title" ], getLink: function(urlMatch) { return { href: " rel: [CONFIG.R.player, CONFIG.R.html5, CONFIG.R.ssl], type: CONFIG.T.text_html, "aspect-ratio": 640 / 360 } }, tests: [ "http: ] };
var cheerio = require('cheerio'); module.exports = { getLink: function(oembed, whitelistRecord) { if (!(oembed.type === "rich" && whitelistRecord.isAllowed && whitelistRecord.isAllowed('oembed.rich'))) { return; } var rels = [CONFIG.R.oembed]; if (whitelistRecord.isAllowed('oembed.rich', "reader")) { rels.push(CONFIG.R.reader); } if (whitelistRecord.isAllowed('oembed.rich', "player")) { rels.push(CONFIG.R.player); } if (rels.length == 1) { rels.push(CONFIG.R.app); } if (whitelistRecord.isAllowed('oembed.rich', "inline")) { rels.push(CONFIG.R.inline); } if (whitelistRecord.isAllowed('oembed.rich', "html5")) { rels.push(CONFIG.R.html5); } rels.push ("allow"); var widget = { rel: rels, type: CONFIG.T.text_html }; var $container = cheerio('<div>'); try { $container.html(oembed.html5 || oembed.html); } catch (ex) {} var $iframe = $container.find('iframe'); if ($iframe.length == 1 && !whitelistRecord.isAllowed('oembed.rich', "inline")) { widget.href = $iframe.attr('src'); if (whitelistRecord.isAllowed('oembed.rich', 'ssl')) { widget.href = widget.href.replace(/^http:\/\ } } else { widget.html = oembed.html || oembed.html5; } if (whitelistRecord.isAllowed('oembed.rich', "inline")) { widget.html = oembed.html5 || oembed.html; } if (widget.html && whitelistRecord.isAllowed('oembed.rich', "ssl")) { widget.rel.push (CONFIG.R.ssl); } if (whitelistRecord.isAllowed('oembed.rich', 'responsive') && oembed.width && oembed.height) { if ($iframe.length == 1 && $iframe.attr('width') === '100%' && (!$iframe.attr('height') || $iframe.attr('height').match(/\d+/))) { widget.height = oembed.height || $iframe.attr('height'); } else { widget['aspect-ratio'] = oembed.width / oembed.height; } } else { widget.width = oembed.width; widget.height = oembed.height } return widget; }, };
var common=require(__dirname+'/../lib/common.js'); var os=require('os'); exports.run=function(req,res){ rw.sess.start(req,res); if(!common.checkAuth(req,res)){ req=null; res=null; return; } var t=rw.util.s2t(process.uptime()); var up=t[0]+'d '+t[1]+'h '+t[2]+'m '+t[3]+'s'; t=rw.util.s2t(os.uptime()); var osup=t[0]+'d '+t[1]+'h '+t[2]+'m '+t[3]+'s'; var lav=os.loadavg(); lav[0]=lav[0].toFixed(2); lav[1]=lav[1].toFixed(2); lav[2]=lav[2].toFixed(2); var tthi=' class="hide"',tspr='-',tspra='-',long='-'; if(rw.config.backstage.switch.timetag){ tthi=''; if(rw.timeTag.c>0){ tspr='<b>'+(rw.timeTag.t/rw.timeTag.c).toFixed(5)+' ms</b>'; tspra='<b>'+(rw.timeTag.m.t/rw.timeTag.m.c).toFixed(5)+' ms, '+(rw.timeTag.h.t/rw.timeTag.h.c).toFixed(5)+' ms, '+(rw.timeTag.d.t/rw.timeTag.d.c).toFixed(5)+' ms</b>'; long='<b>'+(rw.timeTag.list[0].time).toFixed(5)+'ms, '+rw.timeTag.list[0].url+'</b>'; } } rw.http.zout( rw.t.render( __dirname+'/../template/page.html',{'LINK':'<script type="text/javascript" src="./js/index.js?sp=2"></script><script type="text/javascript" src="./js/ace/ace.js?sp=3"></script><link href="./css/index.css?sp=2" rel="stylesheet" type="text/css" />','MCUR1':' cur','V':rw.config.version,'WRAPPER':rw.t.render(__dirname+'/../template/index.html',{'TTHI':tthi,'TSPR':tspr,'TSPRA':tspra,'LONG':long,'NV':process.version,'PID':process.pid,'TITLE':process.title,'MEM':parseInt(process.memoryUsage().rss/1024/1024)+' MB','MEMP':Math.ceil(process.memoryUsage().rss*100/os.totalmem())+'%','SMEM':parseInt(os.totalmem()/1024/1024)+' MB','UP':up,'LAV':lav.join(', '),'FRM':parseInt(os.freemem()/1024/1024)+' MB','OSUP':osup,'OID':'rw.session.'+req.session.sid})} ), req, res ); req=null; res=null; t=null; up=null; lav=null; osup=null; };
it('should sanitize the html snippet by default', function() { expect(element(by.css('#bind-html-with-sanitize div')).getInnerHtml()). toBe('<p>an html\n<em>click here</em>\nsnippet</p>'); }); it('should inline raw snippet if bound to a trusted value', function() { expect(element(by.css('#bind-html-with-trust div')).getInnerHtml()). toBe("<p style=\"color:blue\">an html\n" + "<em onmouseover=\"this.textContent='PWN3D!'\">click here</em>\n" + "snippet</p>"); }); it('should escape snippet without any filter', function() { expect(element(by.css('#bind-default div')).getInnerHtml()). toBe("&lt;p style=\"color:blue\"&gt;an html\n" + "&lt;em onmouseover=\"this.textContent='PWN3D!'\"&gt;click here&lt;/em&gt;\n" + "snippet&lt;/p&gt;"); }); it('should update', function() { element(by.model('snippet')).clear(); element(by.model('snippet')).sendKeys('new <b onclick="alert(1)">text</b>'); expect(element(by.css('#bind-html-with-sanitize div')).getInnerHtml()). toBe('new <b>text</b>'); expect(element(by.css('#bind-html-with-trust div')).getInnerHtml()).toBe( 'new <b onclick="alert(1)">text</b>'); expect(element(by.css('#bind-default div')).getInnerHtml()).toBe( "new &lt;b onclick=\"alert(1)\"&gt;text&lt;/b&gt;"); });
'use strict'; describe('localized messages', function () { var localizedMessages, messages; beforeEach(function () { angular.module('test', ['services.localizedMessages']).value('I18N.MESSAGES', messages = {}); module('test'); }); beforeEach(inject(function (_localizedMessages_) { localizedMessages = _localizedMessages_; })); it('should return a localized message if defined', function () { messages.existing = {message: 'Existing message!'}; expect(localizedMessages.get('existing')).toEqual('Existing message!'); }); it('should return a message key surrounded by a question mark for non-existing messages', function () { expect(localizedMessages.get('non.existing')).toEqual('?non.existing?'); }); it('should interpolate parameters', function () { messages.sth = {message: 'en {{param}} us'}; expect(localizedMessages.get('sth', {param:'value'})).toEqual('en value us'); }); it('should not break for missing params', function () { messages.sth = {message: 'en {{param}} us'}; expect(localizedMessages.get('sth')).toEqual('en us'); expect(localizedMessages.get('sth', {other:'value'})).toEqual('en us'); }); });
it('should check both checkBoxes', function() { expect(element(by.id('checkSlave')).getAttribute('checked')).toBeFalsy(); element(by.model('master')).click(); expect(element(by.id('checkSlave')).getAttribute('checked')).toBeTruthy(); });
define('crm/Views/Competitor/List', [ 'dojo/_base/declare', 'dojo/_base/lang', 'dojo/string', 'argos/List' ], function( declare, lang, string, List ) { var __class = declare('crm.Views.Competitor.List', [List], { itemTemplate: new Simplate([ '<h3>{%= $.CompetitorName %}</h3>', '{% if ($.WebAddress) { %}<h4>{%= $.WebAddress %}</h4>{% } %}' ]), titleText: 'Competitors', detailView: 'competitor_detail', id: 'competitor_list', security: 'Entities/Competitor/View', insertView: 'competitor_edit', queryOrderBy: 'CompetitorName asc', querySelect: [ 'CompetitorName', 'WebAddress' ], resourceKind: 'competitors', formatSearchQuery: function(searchQuery) { return string.substitute('(CompetitorName like "%${0}%")', [this.escapeSearchQuery(searchQuery)]); } }); lang.setObject('Mobile.SalesLogix.Views.Competitor.List', __class); return __class; });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example88/index.html"); }); var friends = element.all(by.repeater('friend in friends')); it('should render initial data set', function() { expect(friends.count()).toBe(10); expect(friends.get(0).getText()).toEqual('[1] John who is 25 years old.'); expect(friends.get(1).getText()).toEqual('[2] Jessie who is 30 years old.'); expect(friends.last().getText()).toEqual('[10] Samantha who is 60 years old.'); expect(element(by.binding('friends.length')).getText()) .toMatch("I have 10 friends. They are:"); }); it('should update repeater when filter predicate changes', function() { expect(friends.count()).toBe(10); element(by.model('q')).sendKeys('ma'); expect(friends.count()).toBe(2); expect(friends.get(0).getText()).toEqual('[1] Mary who is 28 years old.'); expect(friends.last().getText()).toEqual('[2] Samantha who is 60 years old.'); }); });
module.exports = { devtool: 'inline-source-map', watch: true };
var URL = require("url"); module.exports = { re: /^https?:\/\/(?:www\.)?tindeck\.com\/listen\/([-_a-z0-9]+)\/?$/i, mixins: [ "og-image", "canonical", "og-title", "og-description", "og-site", "keywords", "favicon" ], getLink: function(urlMatch) { return { href: "http: type: CONFIG.T.flash, rel: CONFIG.R.player, width: 466, height: 105 }; }, tests: [{ page: "http: selector: "table td.dataone:nth-child(1) a" }, "http: ] };
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-ngList-directive/index-jquery.html"); }); var listInput = element(by.model('names')); var names = element(by.exactBinding('names')); var valid = element(by.binding('myForm.namesInput.$valid')); var error = element(by.css('span.error')); it('should initialize to model', function() { expect(names.getText()).toContain('["morpheus","neo","trinity"]'); expect(valid.getText()).toContain('true'); expect(error.getCssValue('display')).toBe('none'); }); it('should be invalid if empty', function() { listInput.clear(); listInput.sendKeys(''); expect(names.getText()).toContain(''); expect(valid.getText()).toContain('false'); expect(error.getCssValue('display')).not.toBe('none'); }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-ngView-directive/index-jquery.html"); }); it('should load and compile correct template', function() { element(by.linkText('Moby: Ch1')).click(); var content = element(by.css('[ng-view]')).getText(); expect(content).toMatch(/controller\: ChapterCtrl/); expect(content).toMatch(/Book Id\: Moby/); expect(content).toMatch(/Chapter Id\: 1/); element(by.partialLinkText('Scarlet')).click(); content = element(by.css('[ng-view]')).getText(); expect(content).toMatch(/controller\: BookCtrl/); expect(content).toMatch(/Book Id\: Scarlet/); }); });
it('should calculate expression in binding', function() { expect(element(by.binding('1+2')).getText()).toEqual('1+2=3'); });
module.exports = require('./bus');
;(function (definition) { if (typeof define === "function" && define.amd) { define(definition); } else { window['onDomReady'] = definition(); } }(function() { 'use strict'; var win = window, doc = win.document, docElem = doc.documentElement, LOAD = "load", FALSE = false, ONLOAD = "on"+LOAD, COMPLETE = "complete", READYSTATE = "readyState", ATTACHEVENT = "attachEvent", DETACHEVENT = "detachEvent", ADDEVENTLISTENER = "addEventListener", DOMCONTENTLOADED = "DOMContentLoaded", ONREADYSTATECHANGE = "onreadystatechange", REMOVEEVENTLISTENER = "removeEventListener", w3c = ADDEVENTLISTENER in doc, top = FALSE, isReady = FALSE, callbacks = []; function ready( fn ) { if ( !isReady ) { if ( !doc.body ) { return defer( ready ); } isReady = true; while ( fn = callbacks.shift() ) { defer( fn ); } } } function completed( event ) { if ( w3c || event.type === LOAD || doc[READYSTATE] === COMPLETE ) { detach(); ready(); } } function detach() { if ( w3c ) { doc[REMOVEEVENTLISTENER]( DOMCONTENTLOADED, completed, FALSE ); win[REMOVEEVENTLISTENER]( LOAD, completed, FALSE ); } else { doc[DETACHEVENT]( ONREADYSTATECHANGE, completed ); win[DETACHEVENT]( ONLOAD, completed ); } } function defer( fn, wait ) { setTimeout( fn, +wait >= 0 ? wait : 1 ); } if ( doc[READYSTATE] === COMPLETE ) { defer( ready ); } else if ( w3c ) { doc[ADDEVENTLISTENER]( DOMCONTENTLOADED, completed, FALSE ); win[ADDEVENTLISTENER]( LOAD, completed, FALSE ); } else { doc[ATTACHEVENT]( ONREADYSTATECHANGE, completed ); win[ATTACHEVENT]( ONLOAD, completed ); try { top = win.frameElement == null && docElem; } catch(e) {} if ( top && top.doScroll ) { (function doScrollCheck() { if ( !isReady ) { try { top.doScroll("left"); } catch(e) { return defer( doScrollCheck, 50 ); } detach(); ready(); } })(); } } function onDomReady( fn ) { isReady ? defer( fn ) : callbacks.push( fn ); } onDomReady.version = "1.4.0"; onDomReady.isReady = function(){ return isReady; }; return onDomReady; }));
;(function() { 'use strict'; angular .module('core') .factory('logger', logger); function logger() { var logIt; toastr.options = { 'closeButton': true, 'positionClass': 'toast-bottom-right', 'timeOut': '3000' }; logIt = function(message, type) { return toastr[type](message); }; return { log: function(message) { logIt(message, 'info'); }, logWarning: function(message) { logIt(message, 'warning'); }, logSuccess: function(message) { logIt(message, 'success'); }, logError: function(message) { logIt(message, 'error'); } }; } }).call(this);
$(document).ready(function(){ $("#page_body").htmlarea({ toolbar: [ ["bold", "italic", "underline", "|", "p","h1", "h2", "h3", "h4", "h5", "h6" ,"|", "orderedlist", "unorderedlist", "|", "link", "unlink", "|", "image"] ], css: "/stylesheets/admin/pages/htmlArea.css", loaded: function() { htmlArea = this; setTimeout(function(){ $('label:not(.visible)').each(function(i,ele){ console.debug($(ele).attr('for')) createBubble($(ele).position(),texts[$(ele).attr('for')]); }); },500); } }); $('a.checkbox').click(function(ev){ ev.stopPropagation(); ev.preventDefault(); if ($(this).hasClass('checked')) { $(this).removeClass('checked') } else { $(this).addClass('checked') } }); $('.Toolbar').append('<a class="html_editor" href="#HTML">Show HTML</a>'); $('.Toolbar').removeAttr('style'); $('iframe').removeAttr('style'); $('iframe').css('width',"548px"); $('iframe').css('height',"440px"); $('iframe').css('padding',"5px 8px"); $('iframe').css('background',"url('/images/sprites/htmlArea.png') no-repeat 0 -50px"); $('iframe').css('border',"none"); }); function createBubble(position,text) { $('div.side_bar').append('<div class="bubble" style="position:absolute; top:'+position.top+'px"><div class="bottom"><p>'+text+'</p><span class="arrow"></span></div></div>'); }
exports.compute = require('./compute'); exports.storage = require('./storage'); exports.database = require('./database');
ControllerMousewheel = function(sensitivity, preventDefault){ this.sensitivity = -sensitivity; this.preventDefault = preventDefault || false; }; ControllerMousewheel.prototype = new JarallaxController(); ControllerMousewheel.prototype.activate = function(jarallax){ JarallaxController.prototype.activate.call(this, jarallax); $('body').bind('mousewheel', {scope: this} , this.onScroll); }; ControllerMousewheel.prototype.deactivate = function(jarallax){ $('body').unbind('mousewheel'); JarallaxController.prototype.deactivate(this, jarallax); }; ControllerMousewheel.prototype.onScroll = function(event, delta){ var controller = event.data.scope; if (controller.isActive) { controller.jarallax.setProgress(controller.jarallax.progress + controller.sensitivity * delta); if(controller.preventDefault){ event.preventDefault(); } } }; ControllerMousewheel.prototype.update = function(progress){ };
module.exports = function(env, callback) { "use strict"; var urlmapping = require('./../contents/api/urlmapping'); function linkTo(text, page) { text || (text = page.html || page.markdown); text || (text = ''); return text.replace((/\{@link\s+([^\}\s]+)(\s+([^\}]+))?\}/g), function(match) { var c = RegExp.$1, url, text = RegExp.$2 || c.replace(/^module:/, ''); if(c in urlmapping) url = urlmapping[c]; else if(('module:'+c) in urlmapping) url = urlmapping['module:'+c]; else { console.log("Couldn't find mapping for "+c); return match; } return '<a href="/api/'+url+'">'+text+'</a>'; }); } env.helpers.doclink = linkTo; callback(); };
var nav = document.querySelector("nav.site"); var content = document.querySelector(".content"); function toggleNav() { nav.classList.toggle("open"); content.classList.toggle("navOpen"); } function closeNav() { nav.classList.remove("open"); content.classList.remove("navOpen"); } document.querySelector(".navMenuButton").addEventListener("click", toggleNav); document.querySelector("nav.site .close").addEventListener("click", closeNav); var selector = "nav a[href='" + document.location.pathname + "']"; [].forEach.call(document.querySelectorAll(selector), function(el) { el.classList.add("current"); });
require("walnut"); require("client-redirect"); walnut_run({ suite_setup: function () { this.real_redirects = client_redirect.redirects; client_redirect.redirects = {}; define_client_redirect("r1", function (uri) { return /^example\.com$/.test(uri.host) && uri.filePath == "/foo" && uri.spec + "/bar"; }); define_client_redirect("r2", build_url_regexp($domain = "example", $allow_www, $path = /(foo)/), function (m) { return "http: }); }, suite_teardown: function () { client_redirect.redirects = this.real_redirects; }, test_client_redirect_1: function () { var uri = make_uri("http: .QueryInterface(Ci.nsIURL); assert_not(client_redirect.redirects.r1(uri)); }, test_client_redirect_2: function () { var uri = make_uri("http: .QueryInterface(Ci.nsIURL); assert_not(client_redirect.redirects.r1(uri)); }, test_client_redirect_3: function () { var uri = make_uri("http: .QueryInterface(Ci.nsIURL); assert_equals(client_redirect.redirects.r1(uri), "http: }, test_client_redirect_4: function () { var uri = make_uri("http: .QueryInterface(Ci.nsIURL); assert_not(client_redirect.redirects.r2(uri)); }, test_client_redirect_5: function () { var uri = make_uri("http: .QueryInterface(Ci.nsIURL); assert_equals(client_redirect.redirects.r2(uri), "http: } });
jQuery(function($) { $.datepicker.regional['it'] = { closeText: 'Chiudi', prevText: '&#x3c;Prec', nextText: 'Succ&#x3e;', currentText: 'Oggi', monthNames: ['Gennaio','Febbraio','Marzo','Aprile','Maggio','Giugno', 'Luglio','Agosto','Settembre','Ottobre','Novembre','Dicembre'], monthNamesShort: ['Gen','Feb','Mar','Apr','Mag','Giu', 'Lug','Ago','Set','Ott','Nov','Dic'], dayNames: ['Domenica','Luned&#236','Marted&#236','Mercoled&#236','Gioved&#236','Venerd&#236','Sabato'], dayNamesShort: ['Dom','Lun','Mar','Mer','Gio','Ven','Sab'], dayNamesMin: ['Do','Lu','Ma','Me','Gi','Ve','Sa'], weekHeader: 'Sm', dateFormat: 'dd/mm/yy', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['it']); });
;(function() { 'use strict'; var PEX_VERSION = "#PEX_VERSION#"; var develop = true; var EngineLogD = function(error) { console.log.apply(console, Array.prototype.slice.apply(arguments)); }; var EngineLogE = function(error) { console.error.apply(console, Array.prototype.slice.apply(arguments)); throw error; }; var EngineLogW = function() { console.warn.apply(console, Array.prototype.slice.apply(arguments)); }; var Debug = function(obj1) { if(obj1.constructor == Array) { return [].concat(obj1); } var obj2 = {}; for (var v in obj1) { obj2[v] = obj1[v]; } return obj2; };
var _containsWith = require('./internal/_containsWith'); var _curry3 = require('./internal/_curry3'); module.exports = _curry3(_containsWith);
jQuery(function($) { $.datepicker.regional['vi'] = { closeText: 'Đóng', prevText: '&#x3c;Trước', nextText: 'Tiếp&#x3e;', currentText: 'Hôm nay', monthNames: ['Tháng Một', 'Tháng Hai', 'Tháng Ba', 'Tháng Tư', 'Tháng Năm', 'Tháng Sáu', 'Tháng Bảy', 'Tháng Tám', 'Tháng Chín', 'Tháng Mười', 'Tháng Mười Một', 'Tháng Mười Hai'], monthNamesShort: ['Tháng 1', 'Tháng 2', 'Tháng 3', 'Tháng 4', 'Tháng 5', 'Tháng 6', 'Tháng 7', 'Tháng 8', 'Tháng 9', 'Tháng 10', 'Tháng 11', 'Tháng 12'], dayNames: ['Chủ Nhật', 'Thứ Hai', 'Thứ Ba', 'Thứ Tư', 'Thứ Năm', 'Thứ Sáu', 'Thứ Bảy'], dayNamesShort: ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'], dayNamesMin: ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'], weekHeader: 'Tu', dateFormat: 'dd/mm/yy', firstDay: 0, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['vi']); });
var browserify = require('../'); var vm = require('vm'); var test = require('tap').test; test('dollar', function (t) { t.plan(3); var src = browserify({ require : __dirname + '/dollar/dollar/index.js' }).bundle(); t.ok(typeof src === 'string'); t.ok(src.length > 0); var c = {}; vm.runInNewContext(src, c); var res = vm.runInNewContext('require("./")(100)', c); t.equal(res, 10000); t.end(); });
var _curry2 = require('./internal/_curry2'); var _dispatchable = require('./internal/_dispatchable'); var _slice = require('./internal/_slice'); var _xtake = require('./internal/_xtake'); module.exports = _curry2(_dispatchable('take', _xtake, function take(n, list) { return _slice(list, 0, Math.min(n, list.length)); }));
'use strict'; var util = require('util'); function SchemaError(message) { Error.call(this); Error.captureStackTrace(this, this.constructor); this.name = this.constructor.name; this.message = message || 'Error with schema'; } util.inherits(SchemaError, Error); function ModelError(message) { Error.call(this); Error.captureStackTrace(this, this.constructor); this.name = this.constructor.name; this.message = message || 'Error with model'; } util.inherits(SchemaError, Error); function QueryError(message) { Error.call(this); Error.captureStackTrace(this, this.constructor); this.name = this.constructor.name; this.message = message || 'Error with query'; } util.inherits(QueryError, Error); function ScanError(message) { Error.call(this); Error.captureStackTrace(this, this.constructor); this.name = this.constructor.name; this.message = message || 'Error with scan'; } util.inherits(ScanError, Error); function ValidationError(message) { Error.call(this); Error.captureStackTrace(this, this.constructor); this.name = this.constructor.name; this.message = message || 'Validation error'; } util.inherits(ValidationError, Error); module.exports.SchemaError = SchemaError; module.exports.ModelError = ModelError; module.exports.QueryError = QueryError; module.exports.ScanError = ScanError; module.exports.ValidationError = ValidationError;
define([ './../../base/Class', './../../base/DOM', './../Pos', './../layout/HBox', './../Control', './../Skin' ], function(Class, DOM, Pos, HBox, Control, Skin) { function ToolBarSkin(toolBar, el) { Skin.call(this, toolBar); if(typeof el === 'undefined') el = document.createElement('div'); this.element = el; } Class(ToolBarSkin).extends(Skin); function ToolBar(config) { config = config || {}; if(!config.skin) config.skin = new ToolBarSkin(this, config.element); this.content = new HBox({ element: config.skin.element, fillHeight: true, spacing: 3, parent: this }); Control.call(this, config); this.classList.add('jide-toolbar'); var children = this.children; this.keyMap.on({key:'Right'}, function() { var i = children.findIndex(function(child) { return child.focused; }); var child = children.get(i + 1 < children.length ? i + 1 : 0); child.focus(); }); this.keyMap.on({key:'Left'}, function() { var i = children.findIndex(function(child) { return child.focused; }); var child = children.get(i === 0 ? children.length - 1 : i -1); child.focus(); }); } Class(ToolBar).extends(Control).def({ get children() { return this.content.children; } }); return ToolBar; });
'use strict'; import FooterController from './layout/footer/layout.footer.controller'; import {onConfig} from './config/config'; import template from './layout/footer/layout.footer.html!text'; import template2 from './layout/header/layout.header.html!text'; import coreTestModule from './config/config.test'; export default angular.module('app.core', [coreTestModule.name]) .config(onConfig) .controller('FooterController', FooterController) .run(['$templateCache', function($templateCache) { $templateCache.put('app/core/layout/footer/layout.footer.html', template); $templateCache.put('app/core/layout/header/layout.header.html', template2); }]);
var assert = require('assert'); var R = require('..'); var albums = [ {title: 'Art of the Fugue', artist: 'Glenn Gould', genre: 'Baroque'}, {title: 'A Farewell to Kings', artist: 'Rush', genre: 'Rock'}, {title: 'Timeout', artist: 'Dave Brubeck Quartet', genre: 'Jazz'}, {title: 'Fly By Night', artist: 'Rush', genre: 'Rock'}, {title: 'Goldberg Variations', artist: 'Daniel Barenboim', genre: 'Baroque'}, {title: 'New World Symphony', artist: 'Leonard Bernstein', genre: 'Romantic'}, {title: 'Romance with the Unseen', artist: 'Don Byron', genre: 'Jazz'}, {title: 'Somewhere In Time', artist: 'Iron Maiden', genre: 'Metal'}, {title: 'In Times of Desparation', artist: 'Danny Holt', genre: 'Modern'}, {title: 'Evita', artist: 'Various', genre: 'Broadway'}, {title: 'Five Leaves Left', artist: 'Nick Drake', genre: 'Folk'}, {title: 'The Magic Flute', artist: 'John Eliot Gardiner', genre: 'Classical'} ]; describe('sortBy', function() { it('sorts by a simple property of the objects', function() { var sortedAlbums = R.sortBy(R.prop('title'), albums); assert.strictEqual(sortedAlbums.length, albums.length); assert.strictEqual(sortedAlbums[0].title, 'A Farewell to Kings'); assert.strictEqual(sortedAlbums[11].title, 'Timeout'); }); it('is curried', function() { var sorter = R.sortBy(R.prop('title')); var sortedAlbums = sorter(albums); assert.strictEqual(sortedAlbums.length, albums.length); assert.strictEqual(sortedAlbums[0].title, 'A Farewell to Kings'); assert.strictEqual(sortedAlbums[11].title, 'Timeout'); }); it('preserves object identity', function() { var a = {value: 'a'}; var b = {value: 'b'}; var result = R.sortBy(R.prop('value'), [b, a]); assert.strictEqual(result[0], a); assert.strictEqual(result[1], b); }); it('sorts array-like object', function() { var args = (function() { return arguments; }('c', 'a', 'b')); var result = R.sortBy(R.identity, args); assert.strictEqual(result[0], 'a'); assert.strictEqual(result[1], 'b'); assert.strictEqual(result[2], 'c'); }); });
xdescribe("events", function() { describe("different types of events", function() { it("not implemented", function() { this.fail('NI'); }); }); });
var common = require('../common'); var assert = require('assert'); var http = require('http'); var nresponses = 0; var server = http.createServer(function (req, res) { if (req.url == '/one') { res.writeHead(200, [['set-cookie', 'A'], ['content-type', 'text/plain']]); res.end('one\n'); } else { res.writeHead(200, [['set-cookie', 'A'], ['set-cookie', 'B'], ['content-type', 'text/plain']]); res.end('two\n'); } }); server.listen(common.PORT); server.on('listening', function () { http.get({ port: common.PROXY_PORT, path: '/one' }, function (res) { assert.deepEqual(['A'], res.headers['set-cookie']); assert.equal('text/plain', res.headers['content-type']); res.on('data', function (chunk) { console.log(chunk.toString()); }); res.on('end', function () { if (++nresponses == 2) { server.close(); } }); }); http.get({ port: common.PROXY_PORT, path: '/two' }, function (res) { assert.deepEqual(['A', 'B'], res.headers['set-cookie']); assert.equal('text/plain', res.headers['content-type']); res.on('data', function (chunk) { console.log(chunk.toString()); }); res.on('end', function () { if (++nresponses == 2) { server.close(); } }); }); }); process.on('exit', function () { assert.equal(2, nresponses); });
var config = require('./oauth.js') var passport = require('passport') , TwitterStrategy = require('passport-twitter').Strategy , FacebookStrategy = require('passport-facebook').Strategy; var User = require('./user.js') var mongoose = require('mongoose'); mongoose.connect('mongodb: module.exports = passport.use(new TwitterStrategy({ consumerKey: config.twitter.consumerKey, consumerSecret: config.twitter.consumerSecret, callbackURL: config.twitter.callbackURL }, function(token, tokenSecret, profile, done) { User.findOne({oauthID: profile.id}, function(err, user) { if (err) { return done(err); } if (!err && user != null) { done(null, user); } else { var user = new User({ oauthID: profile.id, name: profile.displayName, created: Date.now() }); user.save(function(err) { if(err) { console.log(err); } else { console.log("saving user ..."); done(null, user); }; }); } }); } )); passport.use(new FacebookStrategy({ clientID: config.facebook.clientID, clientSecret: config.facebook.clientSecret, callbackURL: config.facebook.callbackURL }, function(accessToken, refreshToken, profile, done) { User.findOne({oauthID: profile.id}, function(err, user) { if (err) { return done(err); } if (!err && user != null) { done(null, user); } else { console.dir(profile); var user = new User({ oauthID: profile.id, name: profile.displayName, created: Date.now() }); user.save(function(err) { if(err) { console.log(err); } else { console.log("saving user ..."); done(null, user); }; }); } }); } ));
var PowerDataView = AbstractDataView.extend(function(base) { return { powerData: null, mainColor: [96, 96, 96], init: function(powerData, units) { this.setViewId('PowerDataView_p8a5d4gl56ds4'); base.init.call(this); this.units = units; this.powerData = powerData; this.setupDistributionGraph(this.powerData.powerZones); this.setupDistributionTable(this.powerData.powerZones); }, render: function() { base.render.call(this); this.content += this.generateSectionTitle('Power stats <a style="font-size: 16px;" target="_blank" href="' + this.appResources.settingsLink + '#/zonesSettings">(customize)</a>'); this.makeGrid(3, 3); this.insertPowerDataIntoGrid(); this.generateCanvasForGraph(); this.content += this.grid.html(); this.content += this.graph.html(); this.content += this.table.html(); }, insertPowerDataIntoGrid: function() { this.insertContentAtGridPosition(0, 0, this.powerData.weightedPower.toFixed(0), 'Weighted Power', 'W', 'displayAdvancedPowerData'); this.insertContentAtGridPosition(1, 0, this.powerData.variabilityIndex.toFixed(2), 'Variability Index', '', 'displayAdvancedPowerData'); if (this.powerData.punchFactor) { this.insertContentAtGridPosition(2, 0, this.powerData.punchFactor.toFixed(2), 'Punch Factor', '', 'displayAdvancedPowerData'); } this.insertContentAtGridPosition(0, 1, this.powerData.lowerQuartileWatts, '25% Quartile Watts', 'W', 'displayAdvancedPowerData'); this.insertContentAtGridPosition(1, 1, this.powerData.medianWatts, '50% Quartile Watts', 'W', 'displayAdvancedPowerData'); this.insertContentAtGridPosition(2, 1, this.powerData.upperQuartileWatts, '75% Quartile Watts', 'W', 'displayAdvancedPowerData'); this.insertContentAtGridPosition(0, 2, this.powerData.weightedWattsPerKg.toFixed(2), 'Weighted Watts/Kg', 'W/Kg', 'displayAdvancedPowerData'); } } });
module.exports = { group_mkdir: require('./mkdir'), group_readdir: require('./readdir'), group_copydir: require('./copydirsync_unix') };
d3.dispatch = function() { var dispatch = new d3_dispatch(), i = -1, n = arguments.length; while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(); return dispatch; }; function d3_dispatch() {} d3_dispatch.prototype.on = function(type, listener) { var i = type.indexOf("."), name = ""; if (i > 0) { name = type.substring(i + 1); type = type.substring(0, i); } return arguments.length < 2 ? this[type].on(name) : (this[type].on(name, listener), this); }; function d3_dispatch_event() { var listeners = [], listenerByName = {}; function dispatch() { var z = listeners, i = -1, n = z.length, l; while (++i < n) if (l = z[i].on) l.apply(this, arguments); } dispatch.on = function(name, listener) { var l, i; if (arguments.length < 2) return (l = listenerByName[name]) && l.on; if (l = listenerByName[name]) { l.on = null; listeners = listeners.slice(0, i = listeners.indexOf(l)).concat(listeners.slice(i + 1)); delete listenerByName[name]; } if (listener) { listeners.push(listenerByName[name] = {on: listener}); } return dispatch; }; return dispatch; };
var utile = require('utile'), model = require('../base/model'); var Image = exports.Image = function (client, details) { model.Model.call(this, client, details); }; utile.inherits(Image, model.Model); Image.prototype.refresh = function (callback) { return this.client.getImage(this, callback); }; Image.prototype.create = function (callback) { return this.client.createImage(this, callback); }; Image.prototype.destroy = function (callback) { return this.client.destroyImage(this, callback); };
var _curry2 = require('./internal/_curry2'); var _slice = require('./internal/_slice'); module.exports = _curry2(function aperture(n, list) { var idx = -1; var limit = list.length - (n - 1); var acc = new Array(limit >= 0 ? limit : 0); while (++idx < limit) { acc[idx] = _slice(list, idx, idx + n); } return acc; });
var assert = require('chai').assert; var stub = require('sinon').stub; var TestUtils = React.addons.TestUtils; var DropDown = require('../DropDown'); describe('DropDown', function() { var options = [ {value: 'Option 1'}, {value: 'Option 2'}, {value: 'Option 3'} ]; var onOptionMouseDown; var renderOption = function(option) { return option.value; }; beforeEach(function() { onOptionMouseDown = stub(); }); it('should render a visible drop down', function() { var rendered = TestUtils.renderIntoDocument( <DropDown onOptionMouseDown={onOptionMouseDown} optionClassName="cool-option" options={options} renderOption={renderOption} selected={options[0]} valueProp="value" visible={true} /> ); var renderedOptions = TestUtils.scryRenderedDOMComponentsWithClass(rendered, 'cool-option'); assert.equal(rendered.getDOMNode().style.display, 'block'); assert.equal(renderedOptions.length, 3); assert.equal(renderedOptions[0].getDOMNode().textContent, 'Option 1'); assert.equal(renderedOptions[1].getDOMNode().textContent, 'Option 2'); assert.equal(renderedOptions[2].getDOMNode().textContent, 'Option 3'); }); it('should render a hidden drop down', function() { var rendered = TestUtils.renderIntoDocument( <DropDown onOptionMouseDown={onOptionMouseDown} optionClassName="cool-option" options={options} renderOption={renderOption} selected={options[0]} valueProp="value" visible={false} /> ); assert.equal(rendered.getDOMNode().style.display, 'none'); }); it('should handle a click', function() { var rendered = TestUtils.renderIntoDocument( <DropDown onOptionMouseDown={onOptionMouseDown} optionClassName="cool-option" options={options} renderOption={renderOption} selected={options[0]} valueProp="value" visible={true} /> ); var renderedOptions = TestUtils.scryRenderedDOMComponentsWithClass(rendered, 'cool-option'); TestUtils.Simulate.mouseDown(renderedOptions[0].getDOMNode()); assert.equal(onOptionMouseDown.callCount, 1); assert.isTrue(onOptionMouseDown.calledWith(options[0])); }); });
define([ 'underscore', 'backbone' ], function(_, Backbone) { var Controller = Backbone.Model.extend({ navigate: function(fragment, args, options) { if (!_.isArray(args)) { options = args || {}; args = []; } options = options || {}; if (this[fragment]) { this[fragment].apply(this, args); } else { options.trigger = true; for (var i = 0, len = args.length; i < len; i++) { fragment = fragment + '/' + args[i]; } } Backbone.history.navigate(fragment, options); } }); return Controller; });
var assert = require('assert') , BigInt = require('../../../vendor/bigint.js') , HLP = require('../../../lib/helpers.js') describe('Helpers', function () { "use strict"; var two55, str it('should pack empty data correctly', function () { assert.equal('\x00\x00\x00\x00', HLP.packData(''), 'Empty pack.') }) it('should pack mpi data correctly', function () { var test = HLP.packMPI(BigInt.str2bigInt('65280', 10)) assert.equal('\x00\x00\x00\x02\xff\x00', test, 'They be equal.') var test3 = HLP.packMPI(BigInt.str2bigInt('0', 10)) assert.equal('\x00\x00\x00\x00', test3, 'Zero') two55 = '32317006071311007300714876688669951960444102669715484032130345427524655138867890893197201411522913463688717960921898019494119559150490921095088152386448283120630877367300996091750197750389652106796057638384067568276792218642619756161838094338476170470581645852036305042887575891541065808607552399123930385521914333389668342420684974786564569494856176035326322058077805659331026192708460314150258592864177116725943603718461857357598351152301645904403697613233287231227125684710820209725157101726931323469678542580656697935045997268352998638215525166389437335543602135433229604645318478604952148193555853611059596230656' str = '\x00\x00\x01\x01\x01' for (var i = 0; i < 256; i++) str += '\x00' assert.equal(str, HLP.packMPI(BigInt.str2bigInt(two55, 10)), 'BigInt') }) it('should read mpi data correctly', function () { assert.equal('65280', BigInt.bigInt2str(HLP.readMPI('\x00\x00\x00\x02\xff\x00'), 10), 'Read MPI.') assert.equal(two55, BigInt.bigInt2str(HLP.readMPI(str), 10)) }) it('should pack a counter', function () { var thou = HLP.packCtr(1000) assert.equal(16, thou.length, '16 bytes.') assert.equal(1000, HLP.unpackCtr(thou), 'Thousand.') assert.equal('\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00', HLP.packCtr(1)) }) })
interactive("adblockplus-settings", "Show the Adblock Plus settings dialog.", function (I) { if (! ("@adblockplus.org/abp/startup;1" in Cc)) throw interactive_error("Adblock Plus not found"); make_chrome_window("chrome: }); interactive("adblockplus-filters", "Show the Adblock Plus filter settings dialog.", function (I) { if (! ("@adblockplus.org/abp/startup;1" in Cc)) throw interactive_error("Adblock Plus not found"); make_chrome_window("chrome: }); interactive("adblockplus-add", "Add a pattern to Adblock Plus.", function (I) { if (! ("@adblockplus.org/abp/startup;1" in Cc)) throw interactive_error("Adblock Plus not found"); Components.utils.import("chrome: var element = yield read_browser_object(I); var spec = load_spec(element); var pattern = yield I.minibuffer.read_url( $prompt = "Adblock:", $initial_value = load_spec_uri_string(spec), $history = "url"); AdblockPlus.addPatterns([load_spec_uri_string(pattern)]); I.buffer.web_navigation.reload(Ci.nsIWebNavigation.LOAD_FLAGS_NONE); }, $browser_object = browser_object_images, $prompt = "Adblock"); provide("adblockplus");
require('whatwg-fetch'); module.exports = self.fetch;
var util = require('util'), colors = require('colors'), http = require('http'), httpProxy = require('../../lib/node-http-proxy'); httpProxy.createServer( require('connect-gzip').gzip({ matchType: /.?/ }), 9000, 'localhost' ).listen(8000); http.createServer(function (req, res) { res.writeHead(200, { 'Content-Type': 'text/plain' }); res.write('request successfully proxied to: ' + req.url + '\n' + JSON.stringify(req.headers, true, 2)); res.end(); }).listen(9000); util.puts('http proxy server'.blue + ' started '.green.bold + 'on port '.blue + '8000'.yellow); util.puts('http server '.blue + 'started '.green.bold + 'on port '.blue + '9000 '.yellow);
define([ 'chaplin' ], function(Chaplin) { 'use strict'; var Model = Chaplin.Model.extend({ }); return Model; });
YUI.add("yuidoc-meta", function(Y) { Y.YUIDoc = { meta: { "classes": [ "F2", "F2.App", "F2.AppConfig", "F2.AppHandlers", "F2.AppManifest", "F2.AppManifest.AppContent", "F2.Constants", "F2.Constants.AppHandlers", "F2.Constants.Css", "F2.Constants.Events", "F2.Constants.Sockets", "F2.Constants.Views", "F2.ContainerConfig", "F2.ContainerConfig.UI", "F2.ContainerConfig.UI.Mask", "F2.Events", "F2.Rpc", "F2.UI", "F2.UI.Modals", "F2.UI.Views" ], "modules": [ "f2" ], "allModules": [ { "displayName": "f2", "name": "f2", "description": "Open F2" } ] } }; });
var assert = require('assert'); var listXf = require('./helpers/listXf'); var R = require('..'); describe('map', function() { var times2 = function(x) {return x * 2;}; var add1 = function(x) {return x + 1;}; var dec = function(x) { return x - 1; }; var intoArray = R.into([]); it('maps simple functions over arrays', function() { assert.deepEqual(R.map(times2, [1, 2, 3, 4]), [2, 4, 6, 8]); }); it('maps simple functions into arrays', function() { assert.deepEqual(intoArray(R.map(times2), [1, 2, 3, 4]), [2, 4, 6, 8]); }); it('dispatches to objects that implement `map`', function() { var obj = {x: 100, map: function(f) { return f(this.x); }}; assert.strictEqual(R.map(add1, obj), 101); }); it('dispatches to transformer objects', function() { assert.deepEqual(R.map(add1, listXf), { f: add1, xf: listXf }); }); it('composes', function() { var mdouble = R.map(times2); var mdec = R.map(dec); assert.deepEqual(mdec(mdouble([10, 20, 30])), [19, 39, 59]); }); it('can compose transducer-style', function() { var mdouble = R.map(times2); var mdec = R.map(dec); var xcomp = mdec(mdouble(listXf)); assert.deepEqual(xcomp.xf, {xf: listXf, f: times2}); assert.strictEqual(xcomp.f, dec); }); it('is curried', function() { var inc = R.map(add1); assert.deepEqual(inc([1, 2, 3]), [2, 3, 4]); }); it('correctly reports the arity of curried versions', function() { var inc = R.map(add1); assert.strictEqual(inc.length, 1); }); });
var FontDetector = function() { var baseFonts = ['monospace', 'sans-serif', 'serif']; var testString = "mmmmmmmmmmlli"; var testSize = '72px'; var h = document.getElementsByTagName("body")[0]; var s = document.createElement("span"); s.style.fontSize = testSize; s.style.position = 'absolute'; s.style.top = '-9999px'; s.style.left = '-9999px'; s.innerHTML = testString; var defaultWidth = {}; var defaultHeight = {}; for (var index in baseFonts) { s.style.fontFamily = baseFonts[index]; h.appendChild(s); defaultWidth[baseFonts[index]] = s.offsetWidth; defaultHeight[baseFonts[index]] = s.offsetHeight; h.removeChild(s); } function detect(font) { var detected = false; for (var index in baseFonts) { s.style.fontFamily = font + ',' + baseFonts[index]; h.appendChild(s); var matched = (s.offsetWidth != defaultWidth[baseFonts[index]] || s.offsetHeight != defaultHeight[baseFonts[index]]); h.removeChild(s); detected = detected || matched; } return detected; } this.detect = detect; }; if (typeof module !== 'undefined') { module.exports = FontDetector; }
dreamengine.registerModule('Entity') .defines(function() { dreamengine.Entity = function(game, name, x, y) { var game = game; this.name = (name != undefined) ? name : 'Unnamed Entity'; this.namePrepend = ''; this.nameAppend = ''; this.debug = false; this.pos = new dreamengine.vector(); this.size = new dreamengine.dimension(10,10); this.event = new dreamengine.event(); this.pos.x = (x != undefined) ? x : 0; this.pos.y = (y != undefined) ? y : 0; this.updateComponents = function() { this.event.trigger('updateComponents_pre'); for (var i in this.components) { var component = this.components[i]; if (typeof component.update == 'function') { component.update(); } } this.event.trigger('updateComponents_post'); } this.renderComponents = function(g) { this.event.trigger('renderComponents_pre', [g]); for (var i in this.components) { var component = this.components[i]; if (typeof component.render == 'function') { component.render(g); } } this.event.trigger('renderComponents_post', [g]); } this.renderDebug = function(g, force) { this.event.trigger('renderDebug_pre', [g]); if (this.debug || force == true) { var x = this.pos.x - (this.size.width / 2); var y = this.pos.y - (this.size.height / 2); g.globalAlpha = 0.3; g.fillStyle = 'white'; g.fillRect(x, y, this.size.width, this.size.height); y -= this.size.height+10; g.globalAlpha = 1; g.fillText(this.namePrepend + this.name + this.nameAppend, x, y); } this.event.trigger('renderDebug_post', [g]); } this.update = function() { this.event.trigger('update_pre'); this.updateComponents(); this.event.trigger('update_post'); } this.render = function(g) { this.event.trigger('render_pre', [g]); this.renderComponents(g); this.renderDebug(g); this.event.trigger('render_post', [g]); } dreamengine.event.event.trigger('entity.create', [this]); }; });
var Completion = require("./completion").Completion; var assert = require("assert"); function addObjectToGlobal(name, obj, callback) { var global = Function('return this')(); global[name] = obj; try { callback(); } finally { delete global[name]; } } var completion = new Completion({ enumerablePropsOnly: true }); var name = "foooTestTopLevelString"; addObjectToGlobal( name, {}, function () { assert.deepEqual({ values: [ name ], partial: name }, completion.complete("foooTestTopLev")); assert.deepEqual({ values: [], partial: "bbbb" }, completion.complete("bbbb")); }); name = "testPropCompletion"; addObjectToGlobal( name, { foo: { bar: {} } }, function () { assert.deepEqual({ values: [ "testPropCompletion.foo.bar" ], partial: "testPropCompletion.foo.bar" }, completion.complete("testPropCompletion.foo.b")); assert.deepEqual({ values: [], partial: "testPropCompletion.foo.baz" }, completion.complete("testPropCompletion.foo.baz")); process.stdout.write("'completion eval error: TypeError' is expected: "); assert.deepEqual({ values: [], partial: "testPropCompletion.fooz.bar.qqq" }, completion.complete("testPropCompletion.fooz.bar.qqq")); }); name = "testCompleteEverything"; addObjectToGlobal( name, { foo: {}, bar: {} }, function () { assert.deepEqual( { values: [ "testCompleteEverything.bar", "testCompleteEverything.foo" ], partial: "testCompleteEverything." }, completion.complete("testCompleteEverything.")); }); assert.ok(new Completion().complete("Obj").values.indexOf("Object") >= 0);
describe('uncaught', function(){ beforeEach(function(done){ process.nextTick(function(){ done(); }); }) it('should report properly', function(done){ process.nextTick(function(){ done(); }) }) })
var _curry2 = require('./internal/_curry2'); var _dispatchable = require('./internal/_dispatchable'); var _xfindLastIndex = require('./internal/_xfindLastIndex'); module.exports = _curry2(_dispatchable('findLastIndex', _xfindLastIndex, function findLastIndex(fn, list) { var idx = list.length; while (--idx >= 0) { if (fn(list[idx])) { return idx; } } return -1; }));
﻿angular.module('wiz.validation.atLeastOne') .directive('wizValAtLeastOne', ['wizAtLeastOneSvc', function (wizAtLeastOneSvc) { return { restrict: 'A', require: 'ngModel', link: function (scope, elem, attrs, ngModel) { ngModel.$parsers.unshift(function (value) { addValue(value); return value; }); ngModel.$formatters.unshift(function (value) { addValue(value); return value; }); function addValue(value) { wizAtLeastOneSvc.addValue({ name: attrs.ngModel, group: attrs.wizValAtLeastOne, value: value }); } function validate() { var valid = false; if (!wizAtLeastOneSvc.isEmpty(attrs.wizValAtLeastOne)) { valid = true; } ngModel.$setValidity('wizValAtLeastOne', valid); } scope.$watch(function () { return wizAtLeastOneSvc.values; }, function () { validate(); }, true); scope.$on('$destroy', function () { wizAtLeastOneSvc.cleanup(); }); } }; }]);
var director = require('director'), flatiron = require('../../flatiron'), union; try { union = require('union'); } catch (ex) { console.warn('flatiron.plugins.http requires the `union` module from npm'); console.warn('install using `npm install union`.'); console.trace(); process.exit(1); } exports.name = 'http'; exports.attach = function (options) { var app = this; app.http = app.http || {}; app.http = flatiron.common.mixin({}, app.http, options || {}); app.http.before = app.http.before || []; app.http.after = app.http.after || []; app.http.headers = app.http.headers || { 'x-powered-by': 'flatiron ' + flatiron.version }; app.router = new director.http.Router().configure({ async: true }); app.start = function (port, host, callback) { if (!callback && typeof host === 'function') { callback = host; host = null; } app.init(function (err) { if (err) { if (callback) { return callback(err); } throw err; } app.listen(port, host, callback); }); }; app.createServer = function(){ app.server = union.createServer({ after: app.http.after, before: app.http.before.concat(function (req, res) { if (!app.router.dispatch(req, res, app.http.onError || union.errorHandler)) { if (!app.http.onError) res.emit('next'); } }), headers: app.http.headers, limit: app.http.limit, https: app.http.https }); }; app.listen = function (port, host, callback) { if (!callback && typeof host === 'function') { callback = host; host = null; } app.createServer(); return host ? app.server.listen(port, host, callback) : app.server.listen(port, callback); }; };
module.declare( ["a"], function(require, exports, module) { var a = require("a"); exports.b = function() { return a; }; } );
jQuery(function($) { $.datepicker.regional['eu'] = { closeText: 'Egina', prevText: '&#x3c;Aur', nextText: 'Hur&#x3e;', currentText: 'Gaur', monthNames: ['Urtarrila','Otsaila','Martxoa','Apirila','Maiatza','Ekaina', 'Uztaila','Abuztua','Iraila','Urria','Azaroa','Abendua'], monthNamesShort: ['Urt','Ots','Mar','Api','Mai','Eka', 'Uzt','Abu','Ira','Urr','Aza','Abe'], dayNames: ['Igandea','Astelehena','Asteartea','Asteazkena','Osteguna','Ostirala','Larunbata'], dayNamesShort: ['Iga','Ast','Ast','Ast','Ost','Ost','Lar'], dayNamesMin: ['Ig','As','As','As','Os','Os','La'], weekHeader: 'Wk', dateFormat: 'yy/mm/dd', firstDay: 1, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['eu']); });
var _curry1 = require('./internal/_curry1'); var _has = require('./internal/_has'); var _map = require('./internal/_map'); module.exports = (function() { var repr = function(x) { return x + '::' + Object.prototype.toString.call(x); }; var serialize = function(args) { return args.length + ':{' + _map(repr, args).join(',') + '}'; }; return _curry1(function memoize(fn) { var cache = {}; return function() { var key = serialize(arguments); if (!_has(key, cache)) { cache[key] = fn.apply(this, arguments); } return cache[key]; }; }); }());
(function($) { $.fn.mousewheel = function(fn) { return this[ fn ? "bind" : "trigger" ]("wheel", fn); }; $.event.special.wheel = { setup: function() { $.event.add(this, wheelEvents, wheelHandler, {}); }, teardown: function() { $.event.remove(this, wheelEvents, wheelHandler); } }; var wheelEvents = !$.browser.mozilla ? "mousewheel" : "DOMMouseScroll" + ( $.browser.version < "1.9" ? " mousemove" : "" ); function wheelHandler(event) { switch (event.type) { case "mousemove": return $.extend(event.data, { clientX: event.clientX, clientY: event.clientY, pageX: event.pageX, pageY: event.pageY }); case "DOMMouseScroll": $.extend(event, event.data); event.delta = -event.detail / 3; break; case "mousewheel": event.delta = event.wheelDelta / 120; break; } event.type = "wheel"; return $.event.handle.call(this, event, event.delta); } })(jQuery);
function show_file_source(fspec) { var li, html, fullspec; li = document.createElement("li"); html = '<a href="#' + fspec + '">' + fspec.replace(/\ li.innerHTML = html; document.getElementById("insert-links-here").appendChild(li); fullspec = SLFSRV.ROOTPATH + ("/" + fspec).replace(/\ SLFSRV.file.read({filename:fullspec},function(contents){ var div, html; html = '<a name="' + fspec +'"></a><h3>' + SLFSRV.esc4html(fspec.replace(/\ html += '<code><pre>'; html += SLFSRV.esc4html(contents); html += '</pre></code>'; div = document.createElement("div"); div.innerHTML = html; document.getElementById("insert-source-here").appendChild(div); },function(err){ SLFSRV.alert("err " + err); }); } function init() { var i, filenames, title, parts, query; query = window.location.href.split("?")[1].split("#")[0]; parts = query.split("--"); title = parts[0]; filenames = parts[1].split(","); document.getElementById('title-here').innerHTML = SLFSRV.esc4html(decodeURI(title)); for ( i = 0; i < filenames.length; i++ ) { show_file_source(filenames[i]); } } init();
app.filter('xtdDataFilter', function() { var formatTime = function (seconds) { return Helper.secondsToHHMMSS(seconds).replace('00:', ''); }; return function(value, type) { var result = ''; if (type === 'speed') { var mph = value * 0.621371192; result = ' = ' + mph.toFixed(2) + ' mph'; } else if (type === 'pace') { result = formatTime(value) + '/km | ' + formatTime(value / 0.621371192) + '/mi'; }; return result; }; });
var crypto = require('crypto'), WebSocket = require('ws'), async = require('async'), httpProxy = require('../'); var SERVER_PORT = 8415, PROXY_PORT = 8514; var testSets = [ { size: 1024 * 1024, count: 128 }, { size: 1024, count: 1024 }, { size: 128, count: 1024 * 8 } ]; testSets.forEach(function (set) { set.buffer = new Buffer(crypto.randomBytes(set.size)); set.buffers = []; for (var i = 0; i < set.count; i++) { set.buffers.push(set.buffer); } }); function runSet(set, callback) { function runAgainst(port, callback) { function send(sock) { sock.send(set.buffers[got++]); if (got === set.count) { t = new Date() - t; server.close(); proxy.close(); callback(null, t); } } var server = new WebSocket.Server({ port: SERVER_PORT }), proxy = httpProxy.createServer(SERVER_PORT, 'localhost').listen(PROXY_PORT), client = new WebSocket('ws: got = 0, t = new Date(); server.on('connection', function (ws) { send(ws); ws.on('message', function (msg) { send(ws); }); }); client.on('message', function () { send(client); }); } async.series({ server: async.apply(runAgainst, SERVER_PORT), proxy: async.apply(runAgainst, PROXY_PORT) }, function (err, results) { if (err) { throw err; } var mb = (set.size * set.count) / (1024 * 1024); console.log(set.size / (1024) + ' KB * ' + set.count + ' (' + mb + ' MB)'); Object.keys(results).forEach(function (key) { var t = results[key], throughput = mb / (t / 1000); console.log(' ' + key + ' took ' + t + ' ms (' + throughput + ' MB/s)'); }); callback(); }); } async.forEachLimit(testSets, 1, runSet);
var global_opts = { 'liveDebug': false, 'autoFocus': true, 'setTabindex': true }; module.exports = global_opts;
(function () { 'use strict'; function formAutofillFix($timeout) { return function (scope, element, attrs) { element.prop('method', 'post'); if (attrs.ngSubmit) { $timeout(function () { element .unbind('submit') .bind('submit', function (event) { event.preventDefault(); element .find('input, textarea, select') .trigger('input') .trigger('change') .trigger('keydown'); scope.$apply(attrs.ngSubmit); }); }); } }; } angular .module('mm.authentication') .directive('formAutofillFix', formAutofillFix); })();
module.exports = { baseMap: function(f) { return f(this.value); }, extend: function(Child, Parent) { function Ctor() { this.constructor = Child; } Ctor.prototype = Parent.prototype; Child.prototype = new Ctor(); Child.super_ = Parent.prototype; }, identity: function(x) { return x; }, notImplemented: function(str) { return function() { throw new Error(str + ' is not implemented'); }; }, notCallable: function(fn) { return function() { throw new Error(fn + ' cannot be called directly'); }; }, returnThis: function() { return this; } };
var Gaffa = require('gaffa'), gaffa = new Gaffa;
var through = require('through2'); module.exports = function (file) { return through(function (buf, enc, next) { this.push(buf.toString('utf8').replace(/baz/g, 'qux')); next(); }); };
﻿ function Box(width,height,color,mass){ if(typeof(width)==='undefined') width = 20; if(typeof(height)==='undefined') height = 20; if(typeof(color)==='undefined') color = '#0000ff'; if(typeof(mass)==='undefined') mass = 1; this.width = width; this.height = height; this.color = color; this.mass = mass; this.x = 0; this.y = 0; this.vx = 0; this.vy = 0; this.angVelo = 0; } Box.prototype = { get pos2D (){ return new Vector2D(this.x,this.y); }, set pos2D (pos){ this.x = pos.x; this.y = pos.y; }, get velo2D (){ return new Vector2D(this.vx,this.vy); }, set velo2D (velo){ this.vx = velo.x; this.vy = velo.y; }, draw: function (context) { context.fillStyle = this.color; context.fillRect(this.x,this.y,this.width,this.height); } };
"use strict"; var chai = require("chai"); var sinonChai = require("sinon-chai"); var should = chai.should(); chai.use(sinonChai); var returnArg = function (a) { return a; }; var nba = require(".."); describe("#playerIdFromName", function () { });
(function(){ 'use strict'; var mongoose = require('mongoose'), Schema = mongoose.Schema; var ArticleSchema = new Schema({ created: { type: Date, default: Date.now }, title: { type: String, default: '', trim: true, required: 'Title cannot be blank' }, content: { type: String, default: '', trim: true }, user: { type: Schema.ObjectId, ref: 'User' } }); module.exports = mongoose.model('Article', ArticleSchema); })();
define(function(require, exports, module) { var extend, flatten; exports.starts = function(string, literal, start) { return literal === string.substr(start, literal.length); }; exports.ends = function(string, literal, back) { var len; len = literal.length; return literal === string.substr(string.length - len - (back || 0), len); }; exports.compact = function(array) { var item, _i, _len, _results; _results = []; for (_i = 0, _len = array.length; _i < _len; _i++) { item = array[_i]; if (item) _results.push(item); } return _results; }; exports.count = function(string, substr) { var num, pos; num = pos = 0; if (!substr.length) return 1 / 0; while (pos = 1 + string.indexOf(substr, pos)) { num++; } return num; }; exports.merge = function(options, overrides) { return extend(extend({}, options), overrides); }; extend = exports.extend = function(object, properties) { var key, val; for (key in properties) { val = properties[key]; object[key] = val; } return object; }; exports.flatten = flatten = function(array) { var element, flattened, _i, _len; flattened = []; for (_i = 0, _len = array.length; _i < _len; _i++) { element = array[_i]; if (element instanceof Array) { flattened = flattened.concat(flatten(element)); } else { flattened.push(element); } } return flattened; }; exports.del = function(obj, key) { var val; val = obj[key]; delete obj[key]; return val; }; exports.last = function(array, back) { return array[array.length - (back || 0) - 1]; }; });
var ZuulReporter = require('../zuul'); var reporter = ZuulReporter(run); QUnit.config.autostart = false; QUnit.begin(function() { }); QUnit.done(function(details) { reporter.done(); }); QUnit.testStart(function(details) { reporter.test({ name: details.name }); }); QUnit.testDone(function(details) { reporter.test_end({ name: details.name, passed: details.passed }); }); QUnit.log(function(details) { reporter.assertion({ result: details.result, expected: details.expected, actual: details.actual, message: details.message, source: details.source }); }); function run() { QUnit.start(); }
(function(exports) { 'use strict'; var settings = { Model: JSONMediaModel, PlayerView: PlayerView, PlaylistView: PlaylistPlayerView, dataURL: "./assets/genericMediaData.json", entitlement : true, showSearch: true, displayButtons:false }; exports.app = new App(settings); }(window));
var cp = require('child_process'); var noop = function () {}; var bus = require('./bus-shim').bus; var should = require('should'); describe('servicebus (child_processes)', function(){ describe('#send & #listen', function(){ it('should cause message to be received by listen', function (done){ var count = 0; function tryDone(){ count++; if (count === 1) { done(); sender.kill(); } } bus.listen('event.22', function (event) { tryDone(); }); var sender = cp.fork(__dirname + '/child_processes/.sender.js'); }); }); })
var fs = require('fs'), path = require('path'), minimatch = require('minimatch'), watch = require('watch'); exports.name = 'watch'; function watchFilter(fileName) { if (this.watchIgnoreDotFiles && path.basename(fileName)[0] === '.') { return false; } for (var key in this.watchIgnorePatterns) { if (minimatch(fileName, this.watchIgnorePatterns[key], { matchBase: this.watchDirectory })) { return false; } } return true; }; exports.attach = function () { var monitor = this; fs.readFile(path.join(this.watchDirectory, '.foreverignore'), 'utf8', function (err, data) { if (err) { return monitor.emit('watch:error', { message: 'Could not read .foreverignore file.', error: err.message }); } Array.prototype.push.apply(monitor.watchIgnorePatterns, data.split('\n')); }); watch.watchTree(this.watchDirectory, function (f, curr, prev) { if (!(curr === null && prev === null && typeof f === 'object')) { if (watchFilter.call(monitor, f)) { monitor.emit('watch:restart', { file: f, stat: curr }); monitor.restart(); } } }); };
describe('Decimal validation', function () { var elem, elemPlaces; beforeEach(function () { browser.get('demo/index.html'); elem = element(by.model('demo.decimal')); elemPlaces = element(by.model('demo.decimalPlaces')); }); it('should allow emtpy field', function () { expect(elem.getAttribute('class')).not.toMatch('ng-invalid'); expect(elemPlaces.getAttribute('class')).not.toMatch('ng-invalid'); }); it('should allow decimal numbers', function () { elem.sendKeys('0.5'); elemPlaces.sendKeys('0.5'); expect(elem.getAttribute('class')).not.toMatch('ng-invalid'); expect(elemPlaces.getAttribute('class')).not.toMatch('ng-invalid'); }); it('should allow decimal numbers up to specified places', function () { elem.sendKeys('0.123'); expect(elem.getAttribute('class')).not.toMatch('ng-invalid'); }); it('should set invalid when not decimal numbers', function () { elem.sendKeys('0'); elemPlaces.sendKeys('0'); expect(elem.getAttribute('class')).toMatch('ng-invalid'); expect(elemPlaces.getAttribute('class')).toMatch('ng-invalid'); }); it('should set invalid when decimal places exceed limit', function () { elemPlaces.sendKeys('0.1234'); expect(elemPlaces.getAttribute('class')).toMatch('ng-invalid'); }); });
describe('MemoryLeakTest', function () { it("after all Handsontable instances are destroy()'d, there should be no more active listeners", function () { expect(Handsontable.countEventManagerListeners).toEqual(0); }); });
var passport = require('passport'); var config = require('./config'); var api_key = config.STEAM_API_KEY.split(",")[0]; var db = require('./db'); var SteamStrategy = require('passport-steam').Strategy; var host = config.ROOT_URL; var utility = require('./utility'); var operations = require('./operations'); var queueReq = operations.queueReq; var convert64to32 = utility.convert64to32; passport.serializeUser(function(user, done) { done(null, user.account_id); }); passport.deserializeUser(function(id, done) { db.players.findAndModify({ account_id: id }, { $set: { last_visited: new Date() } }, function(err, user) { done(err, user); }); }); passport.use(new SteamStrategy({ returnURL: host + '/return', realm: host, apiKey: api_key }, function initializeUser(identifier, profile, done) { var steam32 = Number(convert64to32(identifier.substr(identifier.lastIndexOf("/") + 1))); var insert = profile._json; insert.account_id = steam32; insert.join_date = new Date(); insert.last_summaries_update = new Date(); done(null, insert); })); module.exports = passport;
define({ root: { selectQuery: 'Select query', searchText: { label: 'Search for', placeholder: 'Enter the text you want to search for.' }, exactMatches: 'Find exact matches only', searchButton: { label: 'Search', busyLabel: 'searching' }, clearButton: { label: 'Clear' }, searching: 'Searching...', resultsLabel: { multipleResultsSuffix: 's', labelPrefix: 'Result', labelSuffix: 'found' } } });
module.exports = runPolicy; function runPolicy(controllerName, actionName, req, res, next) { if (!sails.config.policies || !_.isObject(sails.config.policies) || _.isUndefined(sails.config.policies['*'])) { sails.log.error('Invalid policy configuration: Missing default * policy!'); console.log(sails.config.policies); process.exit(1); } var routePlan = sails.config.policies; var cPolicy = sails.config.policies[controllerName]; if (!_.isUndefined(cPolicy)) { routePlan = cPolicy; if (!_.isArray(routePlan) && _.isObject(routePlan)) { var aPolicy = routePlan[actionName]; if (!_.isUndefined(aPolicy)) { routePlan = aPolicy; } else if (_.isUndefined(routePlan['*'])) { routePlan = sails.config.policies; } } } routePlan = buildPolicyChain(routePlan, req, res, next); routePlan(); } function buildPolicyChain(policies, req, res, afterwards) { if (!_.isArray(policies)) policies = [policies]; var chain = afterwards; for (var i=policies.length-1; i >= 0; i--) { var thisPolicy = interpretPolicy( policies[i] ); chain = _.bind(thisPolicy, {}, req, res, chain); } return chain; } function interpretPolicy(policy) { if (!_.isArray(policy) && !_.isFunction(policy) && _.isObject(policy)) { policy = policy['*']; } if (policy === true) return function (req,res,next) { next(); }; else if (policy === false) return function (req,res,next) { return res.send("Sorry, this action has been globally disabled using a 'false' policy config.",403); }; else if (_.isFunction(policy)) return policy; else if (_.isString(policy)) { if (sails.policies[policy.toLowerCase()]) { return sails.policies[policy.toLowerCase()]; } else return function (req,res,next) { return res.send('Sorry, the specified policy ('+policy+') does not exist.',500); }; } else { var message = "Invalid entry ("+policy+") in policy configuration!"; sails.log.error(policy,"::",message); return function (req,res,next) { res.send(message, 500); }; } }
var _ = require('lodash'); var R = require('../..'); var objs = [ {x: [1, 2], y: true}, {x: [1, 3], y: true}, {x: [], y: false}, {x: [2], y: false}, {x: [3], y: true}, {x: [1], y: true}, {x: [1, 2, 3], y: true}, {x: [], y: true}, {x: [1, 2], y: false}, {x: [1, 3], y: true} ]; var findIndexEmptyX = R.findIndex(R.where({x: R.isEmpty})); var findIndexFalseY = R.findIndex(R.where({y: false})); module.exports = { name: 'findIndex where', tests: { '_.findIndex(objs, {x: []})': function() { _.findIndex(objs, {x: []}); }, 'findIndex(where({x: isEmpty}), objs)': function() { R.findIndex(R.where({x: R.isEmpty}), objs); }, 'findIndex(where({x: isEmpty}))(objs)': function() { R.findIndex(R.where({x: R.isEmpty}))(objs); }, 'findIndexEmptyX(objs)': function() { findIndexEmptyX(objs); }, '_.findIndex(objs, {y: false})': function() { _.findIndex(objs, {y: false}); }, 'findIndex(where({y: false}), objs)': function() { R.findIndex(R.where({y: false}), objs); }, 'findIndex(where({y: false}))(objs)': function() { R.findIndex(R.where({y: false}))(objs); }, 'findIndexFalseY(objs)': function() { findIndexFalseY(objs); } } };
var fs = require('fs') , Md2Toc = require('md2toc').Md2Toc , docs = fs.readFileSync('../docs/overview.md').toString() , hl = require('highlight').Highlight , res; docs = docs.replace(/<code:javascript>/g, '<pre><code>') .replace(/<\/code>/g, '</code></pre>'); var res = new Md2Toc(docs); docs = res.contentHtml; docs = docs.replace(/\&#39;/g, "'"); res.contentHtml = hl(docs, false, true); var Main = function () { this.index = function (req, resp, params) { this.respond({content: ''}, { format: 'html' , template: 'app/views/main/index' }); }; this.docs = function (req, resp, params) { this.respond({content: res}, { format: 'html' , template: 'app/views/main/docs' }); }; }; exports.Main = Main;
var WebSocketServer = require('../').Server; process.on('uncaughtException', function(err) { console.log('Caught exception: ', err, err.stack); }); process.on('SIGINT', function () { try { console.log('Updating reports and shutting down'); var ws = new WebSocket('ws: ws.on('close', function() { process.exit(); }); } catch(e) { process.exit(); } }); var wss = new WebSocketServer({port: 8181}); wss.on('connection', function(ws) { console.log('new connection'); ws.on('message', function(data, flags) { ws.send(flags.buffer, {binary: flags.binary === true}); }); ws.on('error', function() { console.log('error', arguments); }); });
var _assoc = require('./_assoc'); var _slice = require('./_slice'); module.exports = function _assocPath(path, val, obj) { switch (path.length) { case 0: return obj; case 1: return _assoc(path[0], val, obj); default: return _assoc(path[0], _assocPath(_slice(path, 1), val, Object(obj[path[0]])), obj); } };
module.exports = function(lineman) { return { js: { vendor: [ "vendor/js/angular.js", "vendor/js *.js" ], app: [ "app/js/app.js", "app/js *.js" ] }, less: { compile: { options: { paths: ["vendor/css/normalize.css", "vendor/css *.css", "app/css *.less"] } } } }; };
var disqus_shortname = 'nodemanual'; var paths = window.location.pathname.split("/"); var fileName = paths[paths.length - 2] + "/" + paths[paths.length - 1]; var disqus_identifier = fileName; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = 'http: (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })();
SwankJS.setup(swank_server);
module.declare( ["program"], function(require, exports, module) { require("program").monkey = 10; } );
Tweet = function (user, text, image, geo, latitude, longitude) { this.user = user; this.text = text; this.image = image; this.geo = geo; this.latitude = latitude; this.longitude = longitude; }
define([], function() { 'use strict'; return function() { return function(obj) { var str = []; for(var p in obj) { if(obj.hasOwnProperty(p)) { str.push(encodeURIComponent(p) + "=" + encodeURIComponent(obj[p])); } } return str.join("&"); }; }; });
var _curry2 = require('./internal/_curry2'); module.exports = _curry2(function apply(fn, args) { return fn.apply(this, args); });
module.exports = function compile(cbUtils) { return function (content) { return cbUtils.safeCompile(content, cbUtils.frozen); }; };
;(function(){ 'use strict'; var inquirer = require('inquirer') var _ = require('lodash') module.exports = filterPrompts; function filterPrompts (done) { var _this = this; if( _.size(filterQuestions() )){ _this.questions = _this.questions.concat(filterQuestions()); } inquirer .prompt(_this.questions, promptCallback); function promptCallback ( answers ) { done( answers ) } } function filterQuestions(){ var questions = []; return questions; } }).call(this);
exports.handlers = { newDoclet: function(e) { if (e.doclet.description) { e.doclet.description = e.doclet.description .replace(/&/g,'&amp;') .replace(/</g,'&lt;') .replace(/\n/g, '<br>'); } } };
﻿function Forces3D(){ } Forces3D.zeroForce = function() { return (new Vector3D(0,0,0)); } Forces3D.constantGravity = function(m,g){ return new Vector3D(0,m*g,0); } Forces3D.gravity = function(G,m1,m2,r){ return r.multiply(-G*m1*m2/(r.lengthSquared()*r.length())); } Forces3D.gravityModified = function(G,m1,m2,r,eps){ return r.multiply(-G*m1*m2/((r.lengthSquared()+eps*eps)*r.length())); } Forces3D.electric = function(k,q1,q2,r){ return r.multiply(k*q1*q2/(r.lengthSquared()*r.length())); } Forces3D.forceField = function(q,E) { return E.multiply(q); } Forces3D.lorentz = function(q,E,B,vel) { return E.multiply(q).add(vel.perp(q*B*vel.length())); } Forces3D.central = function(k,n,r) { return r.multiply(k*Math.pow(r.length(),n-1)); } Forces3D.linearDrag = function(k,vel){ var force; var velMag = vel.length(); if (velMag > 0) { force = vel.multiply(-k); }else { force = new Vector3D(0,0,0); } return force; } Forces3D.drag = function(k,vel) { var force; var velMag = vel.length(); if (velMag > 0) { force = vel.multiply(-k*velMag); } else { force = new Vector3D(0,0,0); } return force; } Forces3D.lift = function(k,vel) { var force; var velMag = vel.length(); if (velMag > 0) { force = new Vector3D(0,-k*vel.z*vel.z,0); } else { force = new Vector3D(0,0,0); } return force; } Forces3D.upthrust = function(rho,V,g) { return new Vector3D(0,-rho*V*g,0); } Forces3D.spring = function(k,r){ return r.multiply(-k); } Forces3D.damping = function(c,vel){ var force; var velMag = vel.length(); if (velMag>0) { force = vel.multiply(-c); } else { force = new Vector3D(0,0,0); } return force; } Forces3D.add = function(arr){ var forceSum = new Vector3D(0,0,0); for (var i=0; i<arr.length; i++){ var force = arr[i]; forceSum.incrementBy(force); } return forceSum; }
var CanvasDrawr = function(options) { var canvas = document.getElementById(options.id), ctxt = canvas.getContext("2d"); canvas.style.width = '100%' canvas.width = canvas.offsetWidth; canvas.style.width = ''; ctxt.lineWidth = options.size || Math.ceil(Math.random() * 35); ctxt.lineCap = options.lineCap || "round"; ctxt.pX = undefined; ctxt.pY = undefined; var lines = [,,]; var offset = $(canvas).offset(); var self = { init: function() { canvas.addEventListener('pointerdown', self.preDraw, false); canvas.addEventListener('pointermove', self.draw, false); }, preDraw: function(event) { var pointers = event.getPointerList(); $.each(pointers, function(i, pointer) { var id = pointer.identifier || 0, colors = ["red", "green", "yellow", "blue", "magenta", "orangered"], mycolor = colors[Math.floor(Math.random() * colors.length)]; lines[id] = { x : this.pageX - offset.left, y : this.pageY - offset.top, color : mycolor }; }); event.preventDefault(); }, draw: function(event) { var e = event, hmm = {}; var pointers = event.getPointerList(); $.each(pointers, function(i, pointer) { var id = pointer.identifier || 0, moveX = this.pageX - offset.left - lines[id].x, moveY = this.pageY - offset.top - lines[id].y; var ret = self.move(id, moveX, moveY); lines[id].x = ret.x; lines[id].y = ret.y; }); event.preventDefault(); }, move: function(i, changeX, changeY) { ctxt.strokeStyle = lines[i].color; ctxt.beginPath(); ctxt.moveTo(lines[i].x, lines[i].y); ctxt.lineTo(lines[i].x + changeX, lines[i].y + changeY); ctxt.stroke(); ctxt.closePath(); return { x: lines[i].x + changeX, y: lines[i].y + changeY }; } }; return self.init(); }; $(function(){ var super_awesome_multitouch_drawing_canvas_thingy = new CanvasDrawr({id:"example", size: 15 }); });
;(function(){ 'use strict'; angular .module('<%= moduleNames.slug %>') .factory('<%= names.plural.classed %>', <%= names.plural.classed %>); function <%= names.plural.classed %>($http, serverUrl, $q, logger) { var api = createUrl(serverUrl, '<%= names.plural.camel %>'); var instance = { all: all, one: one, create: create, update: update, destroy: destroy }; return instance; function all (){ return $http.get( api ); } function one ( id ){ return $http.get( createUrl( api, id) ); } function create ( data ){ return $http.post( api, data ) .then( function (response){ logger.logSuccess('<%= names.plural.classed %> Saved'); return response.data; }) .catch( function (err){ logger.logError('Error Saving'); return err; }); } function update ( id, data ){ return $http.put( createUrl( api, id ), data ) .then( function (response){ logger.logSuccess('<%= names.single.classed %> Updated Successfully'); return response.data; }) .catch( function (err){ logger.logError('Error Saving'); return err }); } function destroy ( id ){ return $http.delete( createUrl( api, id ) ) .then( function (response){ logger.logSuccess('Successfully Deleted'); return response.data; }) .catch( function (err){ logger.logError('Error Deleting'); return err; }); } function createUrl(){ var args = Array.prototype.slice.call(arguments); return args.join('/'); } } }).call(this);
const Cc = Components.classes; const Ci = Components.interfaces; Components.utils.import("resource: var content_policy_listener; function content_policy () { this.conkeror = Cc["@conkeror.mozdev.org/application;1"] .getService() .wrappedJSObject; this.conkeror.define_hook("content_policy_hook", "RUN_HOOK_UNTIL_SUCCESS"); this.conkeror.define_variable("content_policy_scheme_whitelist", { about: true, chrome: true, data: true, javascript: true, mailto: true, "moz-icon": true }, "Requests whose scheme is in this structure (with a true value) "+ "will be whitelisted before calling content_policy_hook."); this.conkeror.content_policy_listener = this; } content_policy.prototype = { QueryInterface: XPCOMUtils.generateQI([Ci.nsIContentPolicy, Ci.nsIObserverService]), contractID: "@conkeror.org/content-policy-listener;1", classID: Components.ID("{2926dd11-4d76-4965-bcdc-4aaad70ada04}"), classDescription: "content_policy", _xpcom_factory: { createInstance: function (outer, iid) { if (outer) throw Cr.NS_ERROR_NO_AGGREGATION; if (! content_policy_listener) content_policy_listener = new content_policy(); return content_policy_listener; } }, _xpcom_categories: [{category: "content-policy"}], enabled: true, shouldLoad: function (content_type, content_location, request_origin, context, mime_type_guess, extra) { if (this.enabled) { if (this.conkeror.content_policy_scheme_whitelist[content_location.scheme]) return Ci.nsIContentPolicy.ACCEPT; var action = this.conkeror.content_policy_hook.run( content_type, content_location, request_origin, context, mime_type_guess, extra); } return (action || Ci.nsIContentPolicy.ACCEPT); }, shouldProcess: function (content_type, content_location, request_origin, context, mime_type, extra) { return Ci.nsIContentPolicy.ACCEPT; } }; if (XPCOMUtils.generateNSGetFactory) var NSGetFactory = XPCOMUtils.generateNSGetFactory([content_policy]); else var NSGetModule = XPCOMUtils.generateNSGetModule([content_policy]);
it('should freeze binding after its value has stabilized', function() { var oneTimeBiding = element(by.id('one-time-binding-example')); var normalBinding = element(by.id('normal-binding-example')); expect(oneTimeBiding.getText()).toEqual('One time binding:'); expect(normalBinding.getText()).toEqual('Normal binding:'); element(by.buttonText('Click Me')).click(); expect(oneTimeBiding.getText()).toEqual('One time binding: Igor'); expect(normalBinding.getText()).toEqual('Normal binding: Igor'); element(by.buttonText('Click Me')).click(); expect(oneTimeBiding.getText()).toEqual('One time binding: Igor'); expect(normalBinding.getText()).toEqual('Normal binding: Misko'); element(by.buttonText('Click Me')).click(); element(by.buttonText('Click Me')).click(); expect(oneTimeBiding.getText()).toEqual('One time binding: Igor'); expect(normalBinding.getText()).toEqual('Normal binding: Lucas'); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-NgModelController/index-jquery.html"); }); it('should data-bind and become invalid', function() { if (browser.params.browser == 'safari' || browser.params.browser == 'firefox') { return; } var contentEditable = element(by.css('[contenteditable]')); var content = 'Change me!'; expect(contentEditable.getText()).toEqual(content); contentEditable.clear(); contentEditable.sendKeys(protractor.Key.BACK_SPACE); expect(contentEditable.getText()).toEqual(''); expect(contentEditable.getAttribute('class')).toMatch(/ng-invalid-required/); }); });
module.exports = { provides: "google_user_id", re: [ /^https:\/\/plus\.google\.com\/(\d+)\/posts\/(\w+)/i, /^https:\/\/plus\.google\.com\/u\/0\/(\d+)\/posts\/(\w+)/i, /^https:\/\/plus\.google\.com\/(\+[a-zA-Z0-9%]+)\/posts\/(\w+)/i, /^https:\/\/plus\.google\.com\/u\/0\/(\+\w+)\/posts\/(\w+)/i ], mixins: [ "html-title", "description", "favicon" ], getLink: function(urlMatch, google_user_id, meta) { var title = meta['html-title']; return { type: CONFIG.T.text_html, rel: [CONFIG.R.app, CONFIG.R.inline, CONFIG.R.ssl], template_context: { title: title, uri: "https: }, width: 440, height: 440 }; }, getData: function (urlMatch, cheerio) { if (cheerio('a[href*="communities/"]').length) { return; } if (urlMatch[1].indexOf ('+') == -1 ) { return { google_user_id: urlMatch[1] } } else { var $author = cheerio('[oid][rel*=author]'); if ($author.length && $author.attr('oid')) { return { google_user_id: $author.attr('oid') }; } } }, tests: [ "https: "https: "https: "https: { skipMixins: ["description"] } ] };
pow.module('touch', function() { pow.touch = {} pow.touch.threshold = 50 pow.touch.gesture = function() { var dx = this.endX - this.startX if (!dx) { return } else if (Math.abs(dx) > this.threshold) { pow.slides.go[dx < 0 ? 'next' : 'prev']() } } window.addEventListener('touchstart', function(e) { pow.touch.startX = e.touches[0].pageX }, true) window.addEventListener('touchmove', function(e) { pow.touch.endX = e.touches[0].pageX }, true) window.addEventListener('touchend', function(e) { pow.touch.gesture() pow.touch.startX = pow.touch.endX = null }, true) })
var value = element(by.binding('value')); var valid = element(by.binding('myForm.input.$valid')); var input = element(by.model('value')); it('should initialize to model', function() { expect(value.getText()).toContain('12'); expect(valid.getText()).toContain('true'); }); it('should be invalid if empty', function() { input.clear(); input.sendKeys(''); expect(value.getText()).toEqual('value ='); expect(valid.getText()).toContain('false'); }); it('should be invalid if over max', function() { input.clear(); input.sendKeys('123'); expect(value.getText()).toEqual('value ='); expect(valid.getText()).toContain('false'); });
module.exports = { provides: '__promoUri', generic: true, getData: function(meta, whitelistRecord, options) { if (options.forcePromo || meta.promo && whitelistRecord.isAllowed && whitelistRecord.isAllowed('html-meta.promo')) { return { __promoUri: meta.promo }; } } };
(function($) { var o = $({}); $.subscribe = function() { o.on.apply(o, arguments); }; $.unsubscribe = function() { o.off.apply(o, arguments); }; $.publish = function() { o.trigger.apply(o, arguments); }; }(jQuery));
(function () { "use strict"; var toast = angular.module('toast', ['ngAnimate', 'ngMaterial']); toast.factory('toast', function ($mdToast) { var toastError = function (message) { $mdToast.show({ controller: function ($scope, $mdToast, message) { $scope.message = message; $scope.closeToast = function () { $mdToast.hide(); }; }, templateUrl: 'templates/error-toast.html', locals: {message: message}, hideDelay: false, position: 'bottom' }); }; var toastInfo = function (message) { $mdToast.show({ template: '<md-toast><span flex>' + message + '</span></md-toast>', hideDelay: 3000, position: 'bottom' }); }; return { info: toastInfo, error: toastError }; }); }());
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example97/index-jquery.html"); }); var expectFriendNames = function(expectedNames, key) { element.all(by.repeater(key + ' in friends').column(key + '.name')).then(function(arr) { arr.forEach(function(wd, i) { expect(wd.getText()).toMatch(expectedNames[i]); }); }); }; it('should search across all fields when filtering with a string', function() { var searchText = element(by.model('searchText')); searchText.clear(); searchText.sendKeys('m'); expectFriendNames(['Mary', 'Mike', 'Adam'], 'friend'); searchText.clear(); searchText.sendKeys('76'); expectFriendNames(['John', 'Julie'], 'friend'); }); it('should search in specific fields when filtering with a predicate object', function() { var searchAny = element(by.model('search.$')); searchAny.clear(); searchAny.sendKeys('i'); expectFriendNames(['Mary', 'Mike', 'Julie', 'Juliette'], 'friendObj'); }); it('should use a equal comparison when comparator is true', function() { var searchName = element(by.model('search.name')); var strict = element(by.model('strict')); searchName.clear(); searchName.sendKeys('Julie'); strict.click(); expectFriendNames(['Julie'], 'friendObj'); }); });
(function () { 'use strict'; module.exports = { Backend: require('./backend'), Keepass: require('./keepass'), GoogleDrive: require('./google-drive') }; }());
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example94/index-jquery.html"); }); it('should load template defined inside script tag', function() { element(by.css('#tpl-link')).click(); expect(element(by.css('#tpl-content')).getText()).toMatch(/Content of the template/); }); });
﻿ CKEDITOR.plugins.setLang( 'quicktable', 'mk', { more: 'More...' });
tests[".$() functionality"] = { "chaining .$()": { "$(some).$(other)": function($, test) { var $x = test.element('<div>'); var $y = $x.$('<p>'); test.assertEquals("chained call of $ will leave previous context alone", 1, $x.size()); test.assertEquals("wrong element selected", 'div', $x[0].nodeName.toLowerCase()); test.assertEquals("chained call of $ should ignore previous context", 1, $y.size()); test.assertEquals("wrong element selected", 'p', $y[0].nodeName.toLowerCase()); test.done(); }, "$(some).find(filter).$(other).end().end()": function($, test) { var $x = test.element('<div><p>A</p><p>B</p>'); var $y = $x.find('p'); var $z = $y.$('<span>'); test.assertEquals("chained call of $ will leave previous context alone", 1, $x.size()); test.assertEquals("wrong element selected", 'div', $x[0].nodeName.toLowerCase()); test.assertEquals("chained call of $ will leave previous context alone", 2, $y.size()); test.assertEquals("wrong element selected", 'p', $y[0].nodeName.toLowerCase()); test.assertEquals("chained call of $ should ignore previous context", 1, $z.size()); test.assertEquals("wrong element selected", 'span', $z[0].nodeName.toLowerCase()); test.assertEquals(".end() should go back to previous selection", $y, $z.end()); test.assertEquals(".end().end() should go back to first selection", $x, $z.end().end()); test.done(); }, } };
module.exports = { getMeta: function(meta) { if (!meta.video) { return; } return { duration: meta.video.duration }; } };
OfflineReader.RssController = Ember.ObjectController.extend({ });
plunkerHelpers = (function() { return { isCorsCapable: isCorsCapable }; function isCorsCapable(viewName) { if (XMLHttpRequest) { var request = new XMLHttpRequest(); if (request.withCredentials !== undefined) { return; } } viewName = viewName || 'view'; var msgHtml = "<p style='border: solid red; padding: 8px; '>Sorry! Older IE browsers (<10) cannot communicate with the server.<br/><br/>Please try IE10, Chrome, Firefox or a <a href='http: var view = document.getElementById(viewName); if (view) { view.insertAdjacentHTML('afterbegin', msgHtml); } else { alert("no view named '"+viewName+"'?"); } } })();
module.exports = { re: /^http:\/\/v\.ku6\.com\/show\/([a-z0-9\._-]+)\.html/i, mixins: [ "favicon", "canonical", "description", "keywords", "meta-title" ], getLink: function(urlMatch) { return { href: 'http: type: CONFIG.T.flash, rel: [CONFIG.R.player, CONFIG.R.autoplay], 'aspect-ratio': 1.2 }; }, tests: [{ page: 'http: selector: '.l_vlist .ckl_a' }, "http: "http: ] };
export default Ember.Handlebars.makeBoundHelper(function(string) { if (typeof string === 'string') { return new Ember.Handlebars.SafeString(marked(string)); } else { return ''; } });
﻿ CKEDITOR.plugins.setLang( 'quicktable', 'fo', { more: 'Fleiri...' } );
var config = module.exports; config["refueljs"] = { env: "browser", rootPath: "../", libs:[ "require.min.js" ,"hammer.min.js" ,"path.min.js" ], sources: [ "Refuel.js", "Events.js" ], tests: [ "test/*-test.js" ], extensions: [ require("buster-amd"), require("buster-coverage") ], "buster-coverage": { outputDirectory: "test/coverage", format: "lcov", combinedResultsOnly: true, coverageExclusions: ["resources"] } };
var util = require('util'); exports.formatList = function (name) { return util.format('queue:%s', name); }; exports.formatSet = function (name) { return util.format('unique:%s', name); };
export default function ajax(){ return ic.ajax.apply(null, arguments); }
it('should check ng-submit', function() { expect(element(by.binding('list')).getText()).toBe('list=[]'); element(by.css('#submit')).click(); expect(element(by.binding('list')).getText()).toContain('hello'); expect(element(by.model('text')).getAttribute('value')).toBe(''); }); it('should ignore empty strings', function() { expect(element(by.binding('list')).getText()).toBe('list=[]'); element(by.css('#submit')).click(); element(by.css('#submit')).click(); expect(element(by.binding('list')).getText()).toContain('hello'); });
var _ = require('underscore'); var sauceBrowsers = _.reduce([ ['firefox', '35'], ['firefox', '30'], ['firefox', '21'], ['firefox', '11'], ['firefox', '4'], ['chrome', '40'], ['chrome', '39'], ['chrome', '31'], ['chrome', '26'], ['internet explorer', '11', 'Windows 8.1'], ['internet explorer', '10', 'Windows 8'], ['internet explorer', '9', 'Windows 7'], ['internet explorer', '8'], ['internet explorer', '7', 'Windows XP'], ['opera', '12'], ['opera', '11'], ['android', '5'], ['android', '4.4'], ['android', '4.3'], ['android', '4.0'], ['safari', '8.0', 'OS X 10.10'], ['safari', '7'], ['safari', '6'], ['safari', '5'] ], function(memo, platform) { var label = platform[0].split(' '); if (label.length > 1) { label = _.invoke(label, 'charAt', 0) } label = (label.join("") + '_v' + platform[1]).replace(' ', '_').toUpperCase(); memo[label] = _.pick({ 'base': 'SauceLabs', 'browserName': platform[0], 'version': platform[1], 'platform': platform[2] }, Boolean); return memo; }, {}); module.exports = function(config) { if ( !process.env.SAUCE_USERNAME || !process.env.SAUCE_ACCESS_KEY ) { console.log('Sauce environments not set --- Skipping'); return process.exit(0); } config.set({ basePath: '', frameworks: ['qunit'], singleRun: true, files: [ 'test/vendor/jquery.js', 'test/vendor/json2.js', 'test/vendor/underscore.js', 'backbone.js', 'test/setup/*.js', 'test/*.js' ], reporters: ['dots', 'saucelabs'], port: 9876, colors: true, logLevel: config.LOG_INFO, sauceLabs: { build: 'TRAVIS #' + process.env.TRAVIS_BUILD_NUMBER + ' (' + process.env.TRAVIS_BUILD_ID + ')', startConnect: true, tunnelIdentifier: process.env.TRAVIS_JOB_NUMBER }, captureTimeout: 120000, customLaunchers: sauceBrowsers, browsers: _.keys(sauceBrowsers) }); };
pjs.addSuite({ url: 'http: scraper: { async: true, scraper: function() { $('#clkme').click(); _pjs.waitForElement('#ajax_content li', function() { _pjs.items = _pjs.getText('#ajax_content li'); }); } } });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example53/index-jquery.html"); }); it('should toggle button', function() { expect(element(by.css('button')).getAttribute('disabled')).toBeFalsy(); element(by.model('checked')).click(); expect(element(by.css('button')).getAttribute('disabled')).toBeTruthy(); }); });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example85/index.html"); }); it('should alias index positions', function() { var elements = element.all(by.css('.example-init')); expect(elements.get(0).getText()).toBe('list[ 0 ][ 0 ] = a;'); expect(elements.get(1).getText()).toBe('list[ 0 ][ 1 ] = b;'); expect(elements.get(2).getText()).toBe('list[ 1 ][ 0 ] = c;'); expect(elements.get(3).getText()).toBe('list[ 1 ][ 1 ] = d;'); }); });
module.exports = { mixins: [ "og-title", "canonical", "favicon", "og-image", "og-site" ], getLink: function ($selector) { var $download_link = $selector('#download_button_link'); var $download_button = $selector('#default_content_download_button'); if ($download_link.length) return { href: $download_link.attr('href'), rel: CONFIG.R.file }; if ($download_button.length) return { href: $download_button.attr('href'), rel: CONFIG.R.file } }, tests: [ "https: "https: "https: "https: ] };
var pid=process.argv[2]; var script=process.argv[3]; var killed=function(){ var execFile=require('child_process').execFile; execFile(script); process.exit(); }; var checkPid=function(){ var f=true; try{ process.kill(pid,'SIGINT') }catch(e){ f=false; killed(); } if(f){ setTimeout(checkPid,100); } }; process.kill(pid,'SIGINT'); checkPid();
module.exports = { re: /https?:\/\/about\.me\/([a-zA-Z0-9\-]+)/i, mixins: [ "twitter-image", "thumbnail", "og-image", "favicon", "author", "canonical", "twitter-description", "keywords", "og-site", "twitter-title" ], getLink: function(urlMatch) { return { type: CONFIG.T.text_html, rel: [CONFIG.R.app, CONFIG.R.ssl], html: '<script type="text/javascript" src="' + " }; }, tests: [ "http: ] };
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-number-input-directive/index-jquery.html"); }); var value = element(by.binding('value')); var valid = element(by.binding('myForm.input.$valid')); var input = element(by.model('value')); it('should initialize to model', function() { expect(value.getText()).toContain('12'); expect(valid.getText()).toContain('true'); }); it('should be invalid if empty', function() { input.clear(); input.sendKeys(''); expect(value.getText()).toEqual('value ='); expect(valid.getText()).toContain('false'); }); it('should be invalid if over max', function() { input.clear(); input.sendKeys('123'); expect(value.getText()).toEqual('value ='); expect(valid.getText()).toContain('false'); }); });
it('should execute ng-click but not reload when href without value', function() { element(by.id('link-1')).click(); expect(element(by.model('value')).getAttribute('value')).toEqual('1'); expect(element(by.id('link-1')).getAttribute('href')).toBe(''); }); it('should execute ng-click but not reload when href empty string', function() { element(by.id('link-2')).click(); expect(element(by.model('value')).getAttribute('value')).toEqual('2'); expect(element(by.id('link-2')).getAttribute('href')).toBe(''); }); it('should execute ng-click and change url when ng-href specified', function() { expect(element(by.id('link-3')).getAttribute('href')).toMatch(/\/123$/); element(by.id('link-3')).click(); browser.wait(function() { return browser.driver.getCurrentUrl().then(function(url) { return url.match(/\/123$/); }); }, 5000, 'page should navigate to /123'); }); xit('should execute ng-click but not reload when href empty string and name specified', function() { element(by.id('link-4')).click(); expect(element(by.model('value')).getAttribute('value')).toEqual('4'); expect(element(by.id('link-4')).getAttribute('href')).toBe(''); }); it('should execute ng-click but not reload when no href but name specified', function() { element(by.id('link-5')).click(); expect(element(by.model('value')).getAttribute('value')).toEqual('5'); expect(element(by.id('link-5')).getAttribute('href')).toBe(null); }); it('should only change url when only ng-href', function() { element(by.model('value')).clear(); element(by.model('value')).sendKeys('6'); expect(element(by.id('link-6')).getAttribute('href')).toMatch(/\/6$/); element(by.id('link-6')).click(); browser.wait(function() { return browser.driver.getCurrentUrl().then(function(url) { return url.match(/\/6$/); }); }, 5000, 'page should navigate to /6'); });
OAuth2.adapter('github', { authorizationCodeURL: function(config) { return ('https: 'client_id={{CLIENT_ID}}&' + 'scope={{API_SCOPE}}&' + 'redirect_uri={{REDIRECT_URI}}') .replace('{{CLIENT_ID}}', config.clientId) .replace('{{API_SCOPE}}', config.apiScope) .replace('{{REDIRECT_URI}}', this.redirectURL(config)); }, redirectURL: function(config) { return 'https: }, parseAuthorizationCode: function(url) { var error = url.match(/[&\?]error=([^&]+)/); if (error) { throw 'Error getting authorization code: ' + error[1]; } return url.match(/[&\?]code=([\w\/\-]+)/)[1]; }, accessTokenURL: function() { return 'https: }, accessTokenMethod: function() { return 'POST'; }, accessTokenParams: function(authorizationCode, config) { return { code: authorizationCode, client_id: config.clientId, client_secret: config.clientSecret, redirect_uri: this.redirectURL(config), grant_type: 'authorization_code' }; }, parseAccessToken: function(response) { return { accessToken: response.match(/access_token=([^&]*)/)[1], expiresIn: Number.MAX_VALUE }; } });
﻿var canvas = document.getElementById('canvas'); var context = canvas.getContext('2d'); var ball1; var ball2; var t; var t0; var dt; var animId; var pos0 = new Vector2D(100,350); var velo0 = new Vector2D(20,-80); var acc = new Vector2D(0,10); var animTime = 16; window.onload = init; function init() { ball1 = new Ball(15,'#000000',1,0,true); ball1.pos2D = pos0; ball1.velo2D = velo0; ball2 = new Ball(15,'#aaaaaa',1,0,true); ball2.pos2D = pos0; ball2.velo2D = velo0; ball1.draw(context); ball2.draw(context); t0 = new Date().getTime(); t = 0; animFrame(); }; function animFrame(){ animId = requestAnimationFrame(animFrame,canvas); onTimer(); } function onTimer(){ var t1 = new Date().getTime(); dt = 0.001*(t1-t0); t0 = t1; if (dt>0.2) {dt=0;}; t += dt; if (t < animTime){ move(); } } function move(){ ball1.pos2D = ball1.pos2D.addScaled(ball1.velo2D,dt); ball1.velo2D = ball1.velo2D.addScaled(acc,dt); ball2.pos2D = pos0.addScaled(velo0,t).addScaled(acc,0.5*t*t); ball2.velo2D = velo0.addScaled(acc,t); context.clearRect(0, 0, canvas.width, canvas.height); ball1.draw(context); ball2.draw(context); }
module("Integration - Server"); asyncTest("Upload, Download, Delete blob", 4, function() { var util = new Util(window); var server = new Server(util); var ctAB = util.binStr2ArrBuf(testImg1Base64); var blob = util.arrBuf2Blob(ctAB, 'application/octet-stream'); var ctMd5 = md5(testImg1Base64); server.uploadBlob(blob, ctMd5, function(blobKey) { ok(blobKey); server.downloadBlob(blobKey, function(download) { ok(download); var reader = new FileReader(); reader.onload = function(event) { var encrStr = event.target.result; equal(encrStr, testImg1Base64); server.deleteBlob(blobKey, function(resp) { equal(resp, ""); start(); }); }; reader.readAsBinaryString(download); }); }, function(err) { start(); return; }); });
var _ = require('underscore'); var parley = require('parley'); var async = require('async'); var assert = require("assert"); describe('definitions',function (){ describe('autoCreatedAt', function() { it('should be on by default', function() { return User.autoCreatedAt; }); it('should cause new schema to have a createdAt attribute', function(done) { User.describe(function (err,user) { if (err) return done(err); if (!(user && user.createdAt)) return done('User definition doesn\'t contain createdAt!'); done(err); }); }); it('should cause new models to have a createdAt property', function(done) { User.create({},function (err,user) { if (err) return done(err); if (!(user && user.createdAt)) return done('Model doesn\'t contain createdAt!'); done(err); }); }); }); describe('autoUpdatedAt', function() { it('should be on by default', function() { return User.autoUpdatedAt; }); it('should cause new schema to have an updatedAt attribute', function(done) { User.describe(function (err,user) { if (err) return done(err); if (!(user && user.updatedAt)) return done('User definition doesn\'t contain updatedAt!'); done(err); }); }); it('should cause new models to have an updatedAt property', function(done) { User.create({},function (err,user) { if (err) return done(err); if (!(user && user.updatedAt)) return done('Model doesn\'t contain updatedAt!'); done(err); }); }); }); describe('autoPK', function() { it('should be set to use id by default', function() { return User.autoPK; }); it('should cause new schema to have an id attribute', function(done) { User.describe(function (err,user) { if (err) return done(err); if (!(user && user.id)) return done('User definition doesn\'t contain id!'); done(err); }); }); it('should cause new models to have an id property', function(done) { User.create({},function (err,user) { if (err) return done(err); if (!(user && user.id)) return done('Model doesn\'t contain id!'); done(err); }); }); }); });
var w = 960, h = 40; var chart = d3.chart.horizon() .width(w) .height(h) .bands(5) .mode("offset") .interpolate("basis"); var svg = d3.select("#chart").append("svg") .attr("width", w) .attr("height", h); d3.json("unemployment.json", function(data) { var mean = data.rate.reduce(function(p, v) { return p + v; }, 0) / data.rate.length; data = data.rate.map(function(rate, i) { return [Date.UTC(data.year[i], data.month[i] - 1), rate - mean]; }); svg.data([data]).call(chart); d3.selectAll("#mode button") .data(["offset", "mirror"]) .on("click", function(m) { svg.call(chart.duration(0).mode(m)); d3.selectAll("#mode button") .classed("active", function(d) { return d == m; }); }); d3.selectAll("#bands button") .data([-1, 1]) .on("click", function bands(db) { svg.call(chart.duration(1000).bands(Math.max(1, chart.bands() + db))); }); });
var app = require("app/testApp"); var test = require("tape"); test("the express app should serve the favicon", function (assert) { app.get("/favicon.ico") .expect(200) .expect("Content-Type", /^image/) .end(assert.end); }); test("the express app should 404 properly", function (assert) { app.get("/this-path-not-found").expect(404).end(assert.end); });
var _curry1 = require('./internal/_curry1'); module.exports = _curry1(function always(val) { return function() { return val; }; });
var errors = require('./errors.js'); var modules = {}; modules.register = function(alias, conf) { if (modules[alias]) throw errors.system('Module ' + alias + ' is already registered!'); modules[alias] = conf; }; modules.get = function(alias) { return modules[alias]; }; modules.isAccessible = function(alias) { return typeof modules[alias] !== 'undefined'; }; module.exports = modules;
var _eq = require('./_eq'); module.exports = function _indexOf(list, item, from) { var idx = 0, len = list.length; if (typeof from == 'number') { idx = from < 0 ? Math.max(0, len + from) : from; } while (idx < len) { if (_eq(list[idx], item)) { return idx; } ++idx; } return -1; };
describe('beta', function(){ it('should be executed second', function(){ global.beta = 1; }); });
var fs = require('fs'); var express = require('express'); exports.createRoutes = function (app, database) { app.get("*", function (req, res) { fs.readFile(__dirname + '/index.html', 'utf-8', function (err, data) { if (req.session.user) data = data.replace("{{alreadyLogged}}", "true"); else data = data.replace("{{alreadyLogged}}", "false"); res.send(data); }); }); }
describe('module: DOMNode-Comparator', function () { describe('method: nodeName', function () { it('compares how closely doms are related', function () { var domNode = VWO.DOMNodeComparator.create({ nodeA: VWO.DOMNode.create({ el: $('<div class="chapter 1"> <div class="prev"><a class="chapter" href="/default.asp" style=color:blue>W3Schools Home</a></div> <h2>Tutorial</h2> <h3> Hello </h3> </div>').get(0) }), nodeB: VWO.DOMNode.create({ el: $('<div class="chapter"> <h2>Tutorial311</h2> <div class="prev"><a class="chapter12" href="/default.asp" style=color:red>W3Schools Home</a></div> <h2>Tutorial</h2> </div>').get(0) }) }); expect(domNode.indexScore()).toBe(1); expect(domNode.nodeTypeScore()).toBe(1); expect(domNode.innerTextScore()).toBe(0); expect(domNode.innerHTMLScore()).toBe(0); expect(domNode.nodeNameScore()).toBe(1); expect(domNode.parentScore()).toBe(0); expect(domNode.nextSiblingScore()).toBe(1); expect(domNode.previousSiblingScore()).toBe(1); expect(domNode.nodeA.children().length).toBe(3); expect(domNode.nodeA.children()[2].outerHTML()).toBe('<h3> Hello </h3>'); expect(domNode.childrenScore()).toEqual(0.6666666666666666); expect(domNode.attributeScore()).toEqual(0); expect(domNode.addedAttributes()).toEqual({}); expect(domNode.changedAttributes()).toEqual({ class: 'chapter' }); expect(domNode.removedAttributes()).toEqual({}); expect(domNode.styleScore()).toEqual(1); expect(domNode.finalScore()).toEqual(0.13333333333333333); }); }); })
var width = window.innerWidth, height = window.innerHeight; var t0, dt; var cube; var scene, camera, renderer; var alp, torque; var t0, dt; var animId; var k = 0.5; var tqMax = 2; var tq = 0; window.onload = init; function init() { renderer = new THREE.WebGLRenderer(); renderer.setSize(width, height); document.body.appendChild(renderer.domElement); scene = new THREE.Scene(); var angle = 45, aspect = width/height, near = 0.1, far = 10000; camera = new THREE.PerspectiveCamera(angle, aspect, near, far); camera.position.set(100,0,500); scene.add(camera); var light = new THREE.DirectionalLight(); light.position.set(30,0,30); scene.add(light); cube = new THREE.Mesh(new THREE.CubeGeometry(100, 100, 100), new THREE.MeshNormalMaterial()); cube.overdraw = true; scene.add(cube); cube.im = 1; cube.angVelo = 0; addEventListener('mousedown',onDown,false); t0 = new Date().getTime(); animFrame(); } function onDown(evt){ tq = tqMax; addEventListener('mouseup',onUp,false); } function onUp(evt){ tq = 0; removeEventListener('mouseup',onUp,false); } function animFrame(){ animId = requestAnimationFrame(animFrame); onTimer(); } function onTimer(){ var t1 = new Date().getTime(); dt = 0.001*(t1-t0); t0 = t1; if (dt>0.2) {dt=0;}; move(); } function move(){ moveObject(cube); calcForce(cube); updateAccel(cube); updateVelo(cube); } function moveObject(obj){ obj.rotation.x += obj.angVelo*dt; renderer.render(scene, camera); } function calcForce(obj){ torque = tq; torque += -k*obj.angVelo; } function updateAccel(obj){ alp = torque/obj.im; } function updateVelo(obj){ obj.angVelo += alp*dt; }
(function() { var assert, vows, util; vows = require('vows'); assert = require('assert'); util = require('../../lib/util'); vows.describe('Module core extension Array').addBatch({ 'Testing del': { topic: ['a', 'b', 'c'], 'element exists': { 'first element': function(topic) { return assert.deepEqual(util.array.del(topic, 'a'), ['b', 'c']); }, 'middle element': function(topic) { return assert.deepEqual(util.array.del(topic, 'b'), ['a', 'c']); }, 'last element': function(topic) { return assert.deepEqual(util.array.del(topic, 'c'), ['a', 'b']); } }, 'element does not exist': function(topic) { return assert.deepEqual(util.array.del(topic, 'd'), ['a', 'b', 'c']); } }, 'Testing utils': { topic: ['a', 'b', 'c'], 'first': function(topic) { return assert.equal(util.array.first(topic), 'a'); }, 'last': function(topic) { return assert.equal(util.array.last(topic), 'c'); } } })["export"](module); }).call(this);
var assert = require('assert'); var R = require('..'); describe('mathMod', function() { it('requires integer arguments', function() { assert.notStrictEqual(R.mathMod('s', 3), R.mathMod('s', 3)); assert.notStrictEqual(R.mathMod(3, 's'), R.mathMod(3, 's')); assert.notStrictEqual(R.mathMod(12.2, 3), R.mathMod(12.2, 3)); assert.notStrictEqual(R.mathMod(3, 12.2), R.mathMod(3, 12.2)); }); it('behaves differently than JS modulo', function() { assert.notStrictEqual(R.mathMod(-17, 5), -17 % 5); assert.notStrictEqual(R.mathMod(17.2, 5), 17.2 % 5); assert.notStrictEqual(R.mathMod(17, -5), 17 % -5); }); it('computes the true modulo function', function() { assert.strictEqual(R.mathMod(-17, 5), 3); assert.strictEqual(R.isNaN(R.mathMod(17, -5)), true); assert.strictEqual(R.isNaN(R.mathMod(17, 0)), true); assert.strictEqual(R.isNaN(R.mathMod(17.2, 5)), true); assert.strictEqual(R.isNaN(R.mathMod(17, 5.5)), true); }); it('is curried', function() { var f = R.mathMod(29); assert.strictEqual(f(6), 5); }); it('behaves right curried when passed `R.__` for its first argument', function() { var mod5 = R.modulo(R.__, 5); assert.strictEqual(mod5(12), 2); assert.strictEqual(mod5(8), 3); }); });
describe('misc', function() { it('should not overwrite existing jQuery versions', function() { if (typeof $ !== 'undefined') { expect($.fn.jquery).toEqual('1.11.1'); } }); it('F2.version() should return a version number (SemVer as String)', function() { var testVersion = /\bv?(?:0|[1-9][0-9]*)\.(?:0|[1-9][0-9]*)\.(?:0|[1-9][0-9]*)(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?\b/ig.test(F2.version()); expect(testVersion).toBeTruthy(); }); });
define({ map: true, mapClickMode: true, mapRightClickMenu: true, identifyLayerInfos: true, identifyTolerance: 5, identifies: { meetupHometowns: { 0: { title: 'Hometowns', fieldInfos: [{ fieldName: 'Location', visible: true }] } }, louisvillePubSafety: { 2: { title: 'Police Station', fieldInfos: [{ fieldName: 'Name', visible: true }, { fieldName: 'Address', visible: true }, { fieldName: 'Type', visible: true }, { fieldName: 'Police Function', visible: true }, { fieldName: 'Last Update Date', visible: true }] }, 8: { title: 'Traffic Camera', description: '{Description} lasted updated: {Last Update Date}', mediaInfos: [{ title: '', caption: '', type: 'image', value: { sourceURL: '{Location URL}', linkURL: '{Location URL}' } }] } } } });
var utile = require('utile'), storage = require('../storage'), base = require('../../core/storage/container'); var Container = exports.Container = function Container(client, details) { base.Container.call(this, client, details); }; utile.inherits(Container, base.Container); Container.prototype._setProperties = function (details) { var self = this; if (typeof details === 'string') { this.name = details; return; } this.name = details.Name; this.original = this.azure = details; };
var DateCell = require('./DateCell'); var Calendar = React.createClass({displayName: "Calendar", render: function() { if (!this.props.visible) { return null; } return ( React.createElement("table", {className: this.props.className}, this.renderHeader(), React.createElement("tr", null, this.renderDayNames()), this.renderRows() ) ); }, renderHeader: function() { var monthName = this.props.monthNames[this.props.date.getMonth()]; var header = monthName + ' ' + this.props.date.getFullYear(); return ( React.createElement("tr", {className: this.props.headerClassName}, React.createElement("td", { className: this.props.prevClassName, onClick: this.props.onPrevClick}, this.props.prevChar ), React.createElement("td", {className: this.props.monthClassName, colSpan: "5"}, header), React.createElement("td", { className: this.props.nextClassName, onClick: this.props.onNextClick}, this.props.nextChar ) ) ); }, renderDayNames: function() { return this.props.dayNames.map(function(name, i) { return (React.createElement("th", {key: i}, name.slice(0, 1))); }, this); }, renderDays: function(days) { return days.map(function(day, i) { return ( React.createElement(DateCell, { className: this.props.dateClassName, date: this.props.date, disabledDates: this.props.disabledDates, isDateDisabled: this.props.isDateDisabled, key: i, maxValue: this.props.maxValue, minValue: this.props.minValue, onMouseDown: this.props.onDateMouseDown, selected: this.props.selected, value: day}) ); }, this); }, renderRows: function() { var rows = []; var row, start, end; while (rows.length < 6) { start = rows.length * 7; end = rows.length * 7 + 7; row = this.renderDays(this.props.days.slice(start, end)); rows.push( React.createElement("tr", {className: this.props.rowClassName, key: rows.length}, row ) ); } return rows; } }); module.exports = Calendar;
(function(define) { define(['./when'], function(when) { var undef; return function delay(promise, msec) { if(arguments.length < 2) { msec = promise >>> 0; promise = undef; } return when(promise, function(val) { var deferred = when.defer(); setTimeout(function() { deferred.resolve(val); }, msec); return deferred.promise; }); }; }); })(typeof define == 'function' ? define : function (deps, factory) { typeof module != 'undefined' ? (module.exports = factory(require('./when'))) : (this.when_delay = factory(this.when)); } );
jQuery(function($) { $.datepicker.regional['hu'] = { closeText: 'bezárás', prevText: '&laquo;&nbsp;vissza', nextText: 'előre&nbsp;&raquo;', currentText: 'ma', monthNames: ['Január', 'Február', 'Március', 'Április', 'Május', 'Június', 'Július', 'Augusztus', 'Szeptember', 'Október', 'November', 'December'], monthNamesShort: ['Jan', 'Feb', 'Már', 'Ápr', 'Máj', 'Jún', 'Júl', 'Aug', 'Szep', 'Okt', 'Nov', 'Dec'], dayNames: ['Vasárnap', 'Hétfö', 'Kedd', 'Szerda', 'Csütörtök', 'Péntek', 'Szombat'], dayNamesShort: ['Vas', 'Hét', 'Ked', 'Sze', 'Csü', 'Pén', 'Szo'], dayNamesMin: ['V', 'H', 'K', 'Sze', 'Cs', 'P', 'Szo'], weekHeader: 'Hé', dateFormat: 'yy-mm-dd', firstDay: 1, isRTL: false, showMonthAfterYear: true, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['hu']); });
require('walnut.js'); walnut_run({ test_make_uri_1: function () { assert(make_uri("chrome: }, test_make_uri_2: function () { assert(make_uri("http: }, test_make_uri_3: function () { assert_error(function () { make_uri("chrome: }, test_make_uri_4: function () { assert(make_uri("http: }, test_make_uri_5: function () { assert(make_uri(make_file("/a/b/c")) instanceof Ci.nsIURI); }, test_make_uri_6: function () { assert_equals(make_uri(make_file("/a/b/c")).spec.substr(0,5), "file:"); } }); walnut_run({ test_compute_up_url_1: function () { assert_equals(compute_up_url(make_uri("http: "http: }, test_compute_up_url_2: function () { assert_equals(compute_up_url(make_uri("http: "http: }, test_compute_up_url_3: function () { assert_equals(compute_up_url(make_uri("about:config")), "about:config"); }, test_compute_up_url_4: function () { assert_equals(compute_up_url(make_uri("http: "http: }, test_compute_up_url_5: function () { assert_equals(compute_up_url(make_uri("http: "http: }, test_compute_up_url_6: function () { assert_equals(compute_up_url(make_uri("http: "http: } });
'use strict'; module.exports = function (grunt) { require('load-grunt-tasks')(grunt); grunt.initConfig({ jshint : { all : [ 'Gruntfile.js', 'tasks/*.js' ], options : { jshintrc : '.jshintrc' } }, clean : { tests : ['.tmp'] }, penthouse : { testTask : { outfile : '.tmp/out.css', css : 'test/www/main.css', url : 'http: width : 1300, height : 900 } }, mochaTest : { options : { timeout : 8000 }, tests : ['test/*test.js'] }, connect : { server : { options : { port : 9001, base : 'test/www' } } }, watch : { dev : { files : ['Gruntfile.js', 'package.json', 'tasks/*.js'], tasks : ['jshint', 'penthouse'] }, logic : { files : ['tasks/*.js'], tasks : ['test'] }, test : { files : ['test/**'], tasks : ['test'] } } }); grunt.loadTasks('tasks'); grunt.registerTask('test', ['clean', 'connect', 'penthouse', 'mochaTest']); grunt.registerTask('default', ['jshint', 'test']); };
var assert = require('assert'); var child_process = require('child_process'); describe('Mocha', function() { this.timeout(1000); it('should not output colors to pipe', function(cb) { var command = 'bin/mocha --grep missing-test'; child_process.exec(command, function(err, stdout, stderr) { if (err) return cb(err); assert(stdout.indexOf('[90m') === -1); cb(null); }); }); });
(function($) { if ($.cookie) { org.cometd.COOKIE.set = $.cookie; org.cometd.COOKIE.get = $.cookie; } $.cometd.registerExtension('reload', new org.cometd.ReloadExtension()); })(jQuery);
describe("A suite", function() { it("contains spec with an expectation", function() { expect(true).toBe(true); }); });
;(function(){ 'use strict'; var _str = require('underscore.string') module.exports = prompts; function prompts (name) { var pendingPrompts = { module : { type: 'list', name: 'module', default: 'core', message: 'Which module does this factory belongs to?' }, type : { type: 'list', name: 'routeType', message: 'What type of route would you like to generate?', choices: [{ value: 'complex', name: '(complex) --- comes with a controller, view, controller.test, & route', default: true },{ value: 'simple', name: '(simple) --- comes with just a route & view' }] }, routePath: { type: 'input', name: 'routePath', message: 'What do you want your route path to be?', default: name }, viewName:{ type: 'input', name: 'viewName', message: 'What do you want to call your view?', default: name }, controllerName: { type: 'input', name: 'controllerName', message: 'What do you want to call your controller?', default: _str.classify(_str.slugify(name)) }, menu: { type: 'confirm', name: 'menu', message: 'Do you want to add this route to the menu?', default: true } } return pendingPrompts; } }).call(this);
define_key(formfill_keymap, "C-n", "formfill-next"); define_key(formfill_keymap, "C-p", "formfill-previous");
(function($, undefined) { $.widget("mobile.navbar", $.mobile.widget, { options: { iconpos: "top", grid: null, initSelector: ":jqmData(role='navbar')" }, _create: function() { var $navbar = this.element, $navbtns = $navbar.find("a"), iconpos = $navbtns.filter(":jqmData(icon)").length ? this.options.iconpos : undefined; $navbar.addClass("ui-navbar") .attr("role", "navigation") .find("ul") .grid({ grid: this.options.grid }); if (!iconpos) { $navbar.addClass("ui-navbar-noicons"); } $navbtns.buttonMarkup({ corners: false, shadow: false, iconpos: iconpos }); $navbar.delegate("a", "vclick", function(event) { $navbtns.not(".ui-state-persist").removeClass($.mobile.activeBtnClass); $(this).addClass($.mobile.activeBtnClass); }); } }); $(document).bind("pagecreate create", function(e) { $($.mobile.navbar.prototype.options.initSelector, e.target).navbar(); }); })(jQuery);
var assert = require('assert'); var R = require('..'); describe('invariants', function() { it('-- applying function f with length n (where n > 0) to no arguments gives function with length n', function() { for (var prop in R) { if (typeof R[prop] === 'function' && R[prop].length > 0) { var result = R[prop](); assert.strictEqual(typeof result, 'function'); assert.strictEqual(result.length, R[prop].length); } } }); it('-- applying function f with length n (where n > 0) to R.__ gives function with length n', function() { for (var prop in R) { if (typeof R[prop] === 'function' && R[prop].length > 0) { var result = R[prop](R.__); assert.strictEqual(typeof result, 'function'); assert.strictEqual(result.length, R[prop].length); } } }); it('-- applying function f with length n (where n > 1) to any value other than R.__ gives function with length n - 1', function() { var testPartialApplication = function(fn, name) { if (fn.length > 1) { var result = fn(null); assert.strictEqual(typeof result, 'function'); assert.strictEqual(result.length, fn.length - 1); testPartialApplication(result, name + "'"); } }; for (var prop in R) { if (typeof R[prop] === 'function') { testPartialApplication(R[prop], prop); } } }); });
'use strict'; import template from './account-settings.html!text'; function accountSettingsRoute($stateProvider) { 'ngInject'; return $stateProvider .state('account.account-settings', { url: '/account-settings', template: template }); } export default accountSettingsRoute;
$(document).bind("mobileinit", function installSimultaneousTransitions() { var simultaneousHandler = $.mobile.transitionHandlers.simple, classicTransitionKeys = [ "none", "slide", "slideup", "slidedown", "fade", "flip", "pop" ]; plusTransitionKeys = [ "slideoverleft", "slideoverright", "slidepushup", "slidepushdown" ]; $.each(classicTransitionKeys, function(i) { $.mobile.transitionHandlers[classicTransitionKeys[i]] = simultaneousHandler; }); $.each(plusTransitionKeys, function(i) { var key = plusTransitionKeys[i]; $.mobile.transitionHandlers[key] = simultaneousHandler; $.mobile.transitionFallbacks[key] = "fade"; }); });
var app = app || {}; app.TrackView = Backbone.View.extend({ events: { 'click .add-track-to-playlist': 'addToPlaylist', 'click .filter-by-album': 'goToAlbum', 'click .filter-by-artist': 'goToArtist' }, tagName: 'div', className: 'row-fluid music-item', template: _.template($('#template-track').html()), initialize: function(options) {}, render: function() { var self = this; this.el.innerHTML = self.template({ track: self.model.toJSON() }); return this; }, addToPlaylist: function(ev) { ev.preventDefault(); app.utils.addTrack(this.model); }, goToAlbum: function(ev) { ev.preventDefault(); app.routerObj.navigate('!/filter/album/' + encodeURIComponent(this.model.get('album')), true); }, goToArtist: function(ev) { ev.preventDefault(); app.routerObj.navigate('!/filter_album/artist/' + encodeURIComponent(this.model.get('artist')), true); } });
var common = require('../common'); var assert = require('assert'); var http = require('http'); var UTF8_STRING = '南越国是前203年至前111年存在于岭南地区的一个国家，' + '国都位于番禺，疆域包括今天中国的广东、广西两省区的大部份地区，福建省、湖南、' + '贵州、云南的一小部份地区和越南的北部。南越国是秦朝灭亡后，' + '由南海郡尉赵佗于前203年起兵兼并桂林郡和象郡后建立。前196年和前179年，' + '南越国曾先后两次名义上臣属于西汉，成为西汉的“外臣”。前112年，' + '南越国末代君主赵建德与西汉发生战争，被汉武帝于前111年所灭。' + '南越国共存在93年，历经五代君主。南越国是岭南地区的第一个有记载的政权国家，' + '采用封建制和郡县制并存的制度，它的建立保证了秦末乱世岭南地区社会秩序的稳定，' + '有效的改善了岭南地区落后的政治、经济现状。'; var server = http.createServer(function (req, res) { res.writeHead(200, {'Content-Type': 'text/plain; charset=utf8'}); res.end(UTF8_STRING, 'utf8'); }); server.listen(common.PORT, function () { var data = ''; var get = http.get({ path: '/', host: 'localhost', port: common.PROXY_PORT }, function (x) { x.setEncoding('utf8'); x.on('data', function (c) {data += c}); x.on('error', function (e) { throw e; }); x.on('end', function () { assert.equal('string', typeof data); console.log('here is the response:'); assert.equal(UTF8_STRING, data); console.log(data); server.close(); }); }); get.on('error', function (e) {throw e}); get.end(); });
window.jQuery = window.$ = jQuery; })(window);
var _concat = require('./internal/_concat'); var _curry3 = require('./internal/_curry3'); var _eq = require('./internal/_eq'); module.exports = _curry3(function(fn, idx, list) { var oldVal, newVal, _idx, _list; if (idx >= list.length || idx < -list.length) { return list; } _idx = idx < 0 ? idx + list.length : idx; oldVal = list[_idx]; newVal = fn(oldVal); if (_eq(oldVal, newVal)) { return list; } else { _list = _concat(list); _list[_idx] = fn(list[_idx]); return _list; } });
module.exports = { getLink: function(test_data2) { return { href: 'http: type: 'text/html' }; }, tests: { noTest: true } };
define([ 'ui/Component', 'base/Observable' ], function (Component, Observable) { describe('Component', function () { it('should register subscriptions and dispatch events', function() { var div = document.createElement('div'); var bus = new Component(div), count = 0; bus.on('test', function(event) { count++; }); bus.emit('test', { foo: 'bar' }); expect(count).to.equal(1); }); it('should dispose a subscription', function() { var div = document.createElement('div'); var bus = new Component(div), count = 0, subscription; subscription = bus.on('test', function(event) { count++; }); bus.emit('test', { foo: 'bar' }); subscription.dispose(); bus.emit('test', { foo: 'bar' }); expect(count).to.equal(1); }); describe('initialization with bidirectional binding', function() { var component, bg; beforeEach(function() { var div = document.createElement('div'); component = new Component(div); bg = Observable('#fff'); Component.applyConfiguration(component, { background: bg }); }); afterEach(function() { component.dispose(); bg.dispose(); }); it('should set the value of the observable', function() { expect(component.background).to.equal('#fff'); }); it('should update the component if the observable changes', function() { bg.set('#000'); expect(component.background).to.equal('#000'); }); it('should update the observable if the component changes', function() { component.background = '#333'; expect(bg.get()).to.equal('#333'); }); }); }); });
jQuery(function($) { $.datepicker.regional['eo'] = { closeText: 'Fermi', prevText: '&lt;Anta', nextText: 'Sekv&gt;', currentText: 'Nuna', monthNames: ['Januaro','Februaro','Marto','Aprilo','Majo','Junio', 'Julio','Aŭgusto','Septembro','Oktobro','Novembro','Decembro'], monthNamesShort: ['Jan','Feb','Mar','Apr','Maj','Jun', 'Jul','Aŭg','Sep','Okt','Nov','Dec'], dayNames: ['Dimanĉo','Lundo','Mardo','Merkredo','Ĵaŭdo','Vendredo','Sabato'], dayNamesShort: ['Dim','Lun','Mar','Mer','Ĵaŭ','Ven','Sab'], dayNamesMin: ['Di','Lu','Ma','Me','Ĵa','Ve','Sa'], weekHeader: 'Sb', dateFormat: 'dd/mm/yy', firstDay: 0, isRTL: false, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['eo']); });
(function () { if (!Function.prototype.bind) { Function.prototype.bind = function (oThis) { if (typeof this !== "function") { throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable"); } var aArgs = Array.prototype.slice.call(arguments, 1), fToBind = this, fNOP = function () { }, fBound = function () { return fToBind.apply(this instanceof fNOP && oThis ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments))); }; fNOP.prototype = this.prototype; fBound.prototype = new fNOP(); return fBound; }; } })();
var test = require("tape") var crypto = require('crypto') var cryptoB = require('../') var assert = require('assert') function assertSame (fn) { test(fn.name, function (t) { fn(crypto, function (err, expected) { fn(cryptoB, function (err, actual) { t.equal(actual, expected) t.end() }) }) }) } assertSame(function sha1 (crypto, cb) { cb(null, crypto.createHash('sha1').update('hello', 'utf-8').digest('hex')) }) assertSame(function md5(crypto, cb) { cb(null, crypto.createHash('md5').update('hello', 'utf-8').digest('hex')) }) assert.equal(cryptoB.randomBytes(10).length, 10) test('randomBytes', function (t) { cryptoB.randomBytes(10, function(ex, bytes) { assert.ifError(ex) bytes.forEach(function(bite) { assert.equal(typeof bite, 'number') }) t.end() }) })
jQuery(function($) { $.datepicker.regional['ar-DZ'] = { closeText: 'إغلاق', prevText: '&#x3c;السابق', nextText: 'التالي&#x3e;', currentText: 'اليوم', monthNames: ['جانفي', 'فيفري', 'مارس', 'أفريل', 'ماي', 'جوان', 'جويلية', 'أوت', 'سبتمبر','أكتوبر', 'نوفمبر', 'ديسمبر'], monthNamesShort: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'], dayNames: ['الأحد', 'الاثنين', 'الثلاثاء', 'الأربعاء', 'الخميس', 'الجمعة', 'السبت'], dayNamesShort: ['الأحد', 'الاثنين', 'الثلاثاء', 'الأربعاء', 'الخميس', 'الجمعة', 'السبت'], dayNamesMin: ['الأحد', 'الاثنين', 'الثلاثاء', 'الأربعاء', 'الخميس', 'الجمعة', 'السبت'], weekHeader: 'أسبوع', dateFormat: 'dd/mm/yy', firstDay: 6, isRTL: true, showMonthAfterYear: false, yearSuffix: ''}; $.datepicker.setDefaults($.datepicker.regional['ar-DZ']); });
var assert = require('assert'); var macros = exports; macros.assertReadCorrectJson = function (obj) { assert.isObject(obj); assert.deepEqual(obj, { hello: 'World', 'I am': ['the utile module'], thisMakesMe: { really: 1337, 'right?': true } }); }; macros.assertDirectoryRequired = function (obj) { assert.isObject(obj); assert.deepEqual(obj, { directory: { me: 'directory/index.js' }, helloWorld: { me: 'helloWorld.js' } }); };
﻿angular.module('wiz.validation.startsWith', []);
define([ './../../base/Class', './../../base/Util', './../Control', './../Skin', './../../base/ObservableProperty', './../register' ], function(Class, _, Control, Skin, Observable, register) { function ImageViewSkin(imageView, el) { this.element = el || document.createElement("img"); Skin.call(this, imageView); } Class(ImageViewSkin).extends(Skin).def({ install: function() { Skin.prototype.install.call(this); this.bindings = [ this.component.srcProperty.subscribe(function(event) { this.element.src = event.value; }) ]; } }); function ImageView(config) { installer(this); config = config || {}; if(_.isString(config)) { config = {src: config}; } Control.call(this, config); } Class(ImageView).extends(Control).def({ dispose: function() { Control.prototype.dispose.call(this); }, src: null, srcProperty: null }); var installer = Observable.install(ImageView, 'src'); ImageView.Skin = ImageViewSkin; register('jide-imageview', ImageView, Control, ['src'], []); return ImageView; });
var _createMaxMin = require('./internal/_createMaxMin'); var _gt = require('./internal/_gt'); module.exports = _createMaxMin(_gt, -Infinity);
var PRIVATE_CONF = '__anm_conf', C = require('./constants.js'); var conf = global[PRIVATE_CONF] || { logImport: false, logResMan: false, logEvents: false, logLevel: C.L_ERROR | C.L_WARN | C.L_INFO, doNotLoadAudio: false, doNotLoadImages: false, doNotRenderShadows: false, engine: null }; global[PRIVATE_CONF] = conf; module.exports = conf;
var vows = require('vows') macros = require('./macros'), examples = macros.examples; process.on('uncaughtException', function (err) { if (err.code !== 'EADDRINUSE') { throw err; } }); vows.describe('node-http-proxy/examples').addBatch( examples.shouldHaveDeps() ).addBatch( examples.shouldHaveNoErrors() ).export(module);
(function() { "use strict"; var root = this; var Quiz = function(contestData) { this.contest = contestData; }; Quiz.prototype.isSelect = function(tagName) { return tagName.toUpperCase() === 'SELECT'; }; Quiz.prototype.isInput = function(tagName) { return tagName.toUpperCase() === 'INPUT'; }; Quiz.prototype.prefillInput = function(input, text) { input.value = text; }; Quiz.prototype.prefillSelect = function(select, text) { jQuery('option', select).each(function() { if (this.innerHTML === text) { this.selected = true; }; }); }; Quiz.prototype.prefillField = function(field, text) { if (this.isInput(field.tagName)) { this.prefillInput(field, text); } else if (this.isSelect(field.tagName)) { this.prefillSelect(field, text); } }; Quiz.prototype.questionMatches = function(questionIndex, text) { var questionProperty = "question" + questionIndex; return this.contest[questionProperty] === text; }; Quiz.prototype.prefillQuizForm = function(form) { var numberOfQuestions = 5; for (var i = 1; i <= numberOfQuestions; i++) { var answerName = 'contest.answer' + i; var questionName = 'contest.question' + i; var contestProperty = "answer" + i; var _this = this; jQuery('[name="' + answerName + '"]', form).each(function() { if (_this.questionMatches(i, jQuery('input[name="'+ questionName + '"]', form).val())) { _this.prefillField(this, _this.contest[contestProperty]); } }); } }; root.Quiz = Quiz; }).call(this);
define(function(require, exports, module) { "use strict"; var Document = require("../document").Document; var lang = require("../lib/lang"); var Mirror = exports.Mirror = function(sender) { this.sender = sender; var doc = this.doc = new Document(""); var deferredUpdate = this.deferredUpdate = lang.deferredCall(this.onUpdate.bind(this)); var _self = this; sender.on("change", function(e) { doc.applyDeltas([e.data]); deferredUpdate.schedule(_self.$timeout); }); }; (function() { this.$timeout = 500; this.setTimeout = function(timeout) { this.$timeout = timeout; }; this.setValue = function(value) { this.doc.setValue(value); this.deferredUpdate.schedule(this.$timeout); }; this.getValue = function(callbackId) { this.sender.callback(this.doc.getValue(), callbackId); }; this.onUpdate = function() { }; }).call(Mirror.prototype); });
describe('suite', function() { it('should pass', function() { expect( true ).toBeTruthy(); }); it('should fail', function() { expect( true ).toBeFalsy(); }); xit('should be skipped', function() { expect( true ).toBeFalsy(); }); });
var net = require('net') module.exports = function(cb) { var server = net.createServer() , port = 0 server.on('listening', function() { port = server.address().port server.close() }) server.on('close', function() { cb(null, port) }) server.listen(0) }
var assert = require('assert'); var R = require('..'); describe('flatten', function() { it('turns a nested list into one flat list', function() { var nest = [1, [2], [3, [4, 5], 6, [[[7], 8]]], 9, 10]; assert.deepEqual(R.flatten(nest), [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]); nest = [[[[3]], 2, 1], 0, [[-1, -2], -3]]; assert.deepEqual(R.flatten(nest), [3, 2, 1, 0, -1, -2, -3]); assert.deepEqual(R.flatten([1, 2, 3, 4, 5]), [1, 2, 3, 4, 5]); }); it('is not destructive', function() { var nest = [1, [2], [3, [4, 5], 6, [[[7], 8]]], 9, 10]; assert.notStrictEqual(R.flatten(nest), nest); }); it('handles ridiculously large inputs', function() { assert.strictEqual(R.flatten([new Array(1000000), R.range(0, 56000), 5, 1, 3]).length, 1056003); }); it('handles array-like objects', function() { var o = {length: 3, 0: [1, 2, [3]], 1: [], 2: ['a', 'b', 'c', ['d', 'e']]}; assert.deepEqual(R.flatten(o), [1, 2, 3, 'a', 'b', 'c', 'd', 'e']); }); it('flattens an array of empty arrays', function() { assert.deepEqual(R.flatten([[], [], []]), []); assert.deepEqual(R.flatten([]), []); }); });
(function() { 'use strict'; function centered() { return { restrict : "ECA", transclude : true, template : '<div class="mm-center-container">' + '<style>' + '.mm-center-container {position: fixed; top:0; left:0; height:100%; width:100%; display:table;}' + '.mm-centered {display: table-cell; vertical-align: middle; text-align: center;}' + '</style>' + '<div class="mm-centered" ng-transclude>' + '</div>' + '</div>' }; } angular .module('mm.centered', []) .directive('centered', centered); })();
'use strict'; var should = require('should'); var app = require('../../app'); var request = require('supertest'); describe('GET /api/generators', function() { it('should respond with JSON array', function(done) { request(app) .get('/api/generators') .expect(200) .expect('Content-Type', /json/) .end(function(err, res) { if (err) return done(err); res.body.should.be.instanceof(Array); done(); }); }); });
﻿ function Wheel(innerRadius,outerRadius,numSpokes){ this.ir = innerRadius; this.or = outerRadius; this.nums = numSpokes; this.x = 0; this.y = 0; this.vx = 0; this.vy = 0; } Wheel.prototype = { get pos2D (){ return new Vector2D(this.x,this.y); }, set pos2D (pos){ this.x = pos.x; this.y = pos.y; }, get velo2D (){ return new Vector2D(this.vx,this.vy); }, set velo2D (velo){ this.vx = velo.x; this.vy = velo.y; }, draw: function (context) { var ir = this.ir; var or = this.or; var nums = this.nums; context.save(); context.fillStyle = '#000000'; context.beginPath(); context.arc(this.x, this.y, or, 0, 2*Math.PI, true); context.closePath(); context.fill(); context.fillStyle = '#ffffaa'; context.beginPath(); context.arc(this.x, this.y, ir, 0, 2*Math.PI, true); context.closePath(); context.fill(); context.strokeStyle = '#000000'; context.lineWidth = 4; context.beginPath(); for (var n=0; n<nums; n++){ context.moveTo(this.x,this.y); context.lineTo(this.x+ir*Math.cos(2*Math.PI*n/nums),this.y+ir*Math.sin(2*Math.PI*n/nums)); } context.closePath(); context.stroke(); context.restore(); } };
var noop = function () {}; var bus = require('../bus-shim').bus; setTimeout(function () { bus.send('event.22', { event: 1 }); }, 250);
var ZuulReporter = require('../zuul'); var reporter = ZuulReporter(run); function ZuulJasmineReporter() {} function getFullSpecName(spec, separator) { separator = separator || " :: "; function getFullSuiteName(suite) { var parentSuitesNames = suite.parentSuite ? getFullSuiteName(suite.parentSuite) + separator : ""; return parentSuitesNames + suite.description; } return getFullSuiteName(spec.suite) + separator + spec.description; } function reportFirstSpecFailure(results) { for (var i = 0; i < results.length; i++) { if (!results[i].passed()) { var result = results[i]; reporter.assertion({ result: false, actual: result.actual, expected: result.expected, message: result.trace.message, error: result.trace, source: result.trace.stack }); return; } } } ZuulJasmineReporter.prototype.reportRunnerResults = function () { reporter.done(); }; ZuulJasmineReporter.prototype.reportSpecStarting = function (spec) { reporter.test({ name: getFullSpecName(spec) }); }; ZuulJasmineReporter.prototype.reportSpecResults = function (spec) { var passed = !spec.results().failedCount; if (!passed) { reportFirstSpecFailure(spec.results_.items_); } reporter.test_end({ name: getFullSpecName(spec), passed: passed }); }; var zuulJasmineReporter = new ZuulJasmineReporter(); var jasmineEnv = jasmine.getEnv(); jasmineEnv.addReporter(zuulJasmineReporter); function run() { jasmineEnv.execute(); }
var config = require('./config'); var db = require('monk')(config.MONGO_URL); db.players = db.get('players'); db.matches = db.get('matches'); db.ratings = db.get('ratings'); db.matches.index({ 'players.account_id': 1 }); db.matches.index({ 'players.hero_id': 1 }); db.matches.index({ 'parsed_data.players.steam_id': 1 }); db.matches.index({ 'match_id': -1 }, { unique: true }); db.matches.index({ 'match_seq_num': -1 }, { unique: true }); db.matches.index({ 'start_time': -1 }); db.players.index('account_id', { unique: true }); db.players.index({ 'last_visited': -1 }); db.players.index({ 'full_history_time': 1 }); db.players.index({ 'contributor': 1 }); db.players.index({ 'last_summaries_update': 1 }); db.players.index({ 'cheese': -1 }); db.ratings.index({ 'match_id': -1, 'account_id': 1, 'time': -1 }, { unique: true }); module.exports = db;
describe('Integer validation', function () { var elem; beforeEach(function () { browser.get('demo/index.html'); elem = element(by.model('demo.integer')); }); it('should allow empty field', function () { expect(elem.getAttribute('class')).not.toMatch('ng-invalid'); }); it('should allow whole numbers', function () { elem.sendKeys('1234567890'); expect(elem.getAttribute('class')).not.toMatch('ng-invalid'); }); it('should set invalid when not whole numbers', function () { elem.sendKeys('0.5'); expect(elem.getAttribute('class')).toMatch('ng-invalid'); }); });
require("../env"); require("../../d3"); var vows = require("vows"), assert = require("assert"); var suite = vows.describe("d3.rebind"); suite.addBatch({ "rebind": { topic: function() { return d3.rebind; }, "bound function uses source as context": function(rebind) { var a = {}, b = {foo: function() { that = this; }}, that; rebind(a, b, "foo"); assert.strictEqual((a.foo(), that), b); assert.strictEqual((a.foo.call({}), that), b); }, "bound function receives any arguments": function(rebind) { var a = {}, b = {foo: function() { those = Array.prototype.slice.call(arguments); }}, those; rebind(a, b, "foo"); assert.deepEqual((a.foo(), those), []); assert.deepEqual((a.foo(1), those), [1]); assert.deepEqual((a.foo(null), those), [null]); assert.deepEqual((a.foo(b, b, 1), those), [b, b, 1]); }, "bound function returns object if arguments": function(rebind) { var a = {}, b = {foo: function() {}}; rebind(a, b, "foo"); assert.strictEqual(a.foo(1), a); assert.strictEqual(a.foo(1, 2, 3), a); }, "bound function returns return value if no arguments": function(rebind) { var a = {}, b = {foo: function() { return that; }}, that = {}; rebind(a, b, "foo"); assert.strictEqual(a.foo(), that); }, "can bind multiple methods": function(rebind) { var a = {}, b = {foo: function() { return 1; }, bar: function() { return 2; }}; rebind(a, b, "foo", "bar"); assert.strictEqual(a.foo(), 1); assert.strictEqual(a.bar(), 2); }, "returns the target object": function(rebind) { var a = {}, b = {foo: function() { return that; }}, that = {}; assert.strictEqual(rebind(a, b, "foo"), a); } } }); suite.export(module);
'use strict'; var Parser = require('../tree_construction/parser'), ParsingUnit = require('./parsing_unit'); exports.parseDocument = function (html, treeAdapter) { var parser = new Parser(treeAdapter), parsingUnit = new ParsingUnit(parser); parser._runParsingLoop = function () { parsingUnit.parsingLoopLock = true; while (!parsingUnit.suspended && !this.stopped) this._iterateParsingLoop(); parsingUnit.parsingLoopLock = false; if (this.stopped) parsingUnit.callback(this.document); }; process.nextTick(function () { parser.parse(html); }); return parsingUnit; }; exports.parseInnerHtml = function (innerHtml, contextElement, treeAdapter) { var parser = new Parser(treeAdapter); return parser.parseFragment(innerHtml, contextElement); };
var _ = require('lodash'); var find = require('../..').find; var nums = [8, 2, 85, 2, 34, 3, 23, 247, 57, 8, 0, 6, 5, 46, 54, 643]; function isZero(x) { return x === 0; } var findZero = find(isZero); module.exports = { name: 'find', tests: { '_.find(nums, isZero)': function() { _.find(nums, isZero); }, 'find(isZero, nums)': function() { find(isZero, nums); }, 'find(isZero)(nums)': function() { find(isZero)(nums); }, 'findZero(nums)': function() { findZero(nums); } } };
function makeTorus(radius, thick, lat) { var pointList = new Array(); var M_TWO_PI = Math.PI * 2.0; for (var i = 0; i <= M_TWO_PI; i += (M_TWO_PI / lat)) { pointList.push([radius + Math.cos(i) * thick, Math.sin(i) * thick, 0]); } var torusMesh = new CubicVR.Mesh({ primitive: { type: "lathe", divisions: lat, points: pointList, material: { textures: { color: new CubicVR.Texture("../images/2062-diffuse.jpg") } }, uv: { projectionMode: "planar", projectionAxis: "y", scale: [0.5, 0.5, 0.5] } }, compile: true }); return torusMesh; } function SceneSetup() { scene = new CubicVR.Scene(canvas.width, canvas.height, 80); scene.camera.position = [1, 1, 1]; scene.camera.target = [0, 0, 0]; scene.bind(new CubicVR.SceneObject(makeTorus(0.75, 0.3, 24))); } function MainLoopSetup() { }
angular.module('syslogng-web') .directive('popover', ['$window', '$document', function ($window, $document) { return { restrict: 'E', transclude: true, templateUrl: 'views/template/popover.html', scope: { title: '@', position: '@', trigger: '@' }, link: function (scope, element, attrs) { var trigger = $(scope.trigger), position = trigger.offset(), w = trigger.width(), h = trigger.height(), popoverElement = element.find('.popover'); scope.visible = false; scope.style = { display: 'none', top: position.top + h + 5, left: position.left + w - 150, width: 200 }; scope.$watch('visible', function (newVal, oldVal) { if (newVal && newVal !== oldVal) { scope.style.display = 'block'; } else if (!newVal && newVal !== oldVal) { scope.style.display = 'none'; } }); $($window).on('resize', function (e) { scope.$apply(function (s) { var position = trigger.offset(); s.style.top = position.top + trigger.height() + 5; s.style.left = position.left + trigger.width() - 150; }); }); $($document).on('click', function (e) { var $target = $(e.target), isTrigger = $target.is(trigger), isInsidePopover = $target.parents('.popover').length, hide = !isTrigger && !isInsidePopover; scope.$apply(function (s) { s.visible = !hide; }); if (hide) { trigger.removeClass('active'); } else { trigger.addClass('active'); } }); } } }]);
getBufferFromHexString = function(byteStr) { var bytes = byteStr.split(' '); var buf = new Buffer(bytes.length); for (var i = 0; i < bytes.length; ++i) { buf[i] = parseInt(bytes[i], 16); } return buf; } getHexStringFromBuffer = function(data) { var s = ''; for (var i = 0; i < data.length; ++i) { s += padl(data[i].toString(16), 2, '0') + ' '; } return s.trim(); } splitBuffer = function(buffer) { var b1 = new Buffer(Math.ceil(buffer.length / 2)); buffer.copy(b1, 0, 0, b1.length); var b2 = new Buffer(Math.floor(buffer.length / 2)); buffer.copy(b2, 0, b1.length, b1.length + b2.length); return [b1, b2]; } mask = function(buf, maskString) { if (typeof buf == 'string') buf = new Buffer(buf); var mask = getBufferFromHexString(maskString || '34 83 a8 68'); for (var i = 0; i < buf.length; ++i) { buf[i] ^= mask[i % 4]; } return buf; } getHybiLengthAsHexString = function(len, masked) { if (len < 126) { var buf = new Buffer(1); buf[0] = (masked ? 0x80 : 0) | len; } else if (len < 65536) { var buf = new Buffer(3); buf[0] = (masked ? 0x80 : 0) | 126; getBufferFromHexString(pack(4, len)).copy(buf, 1); } else { var buf = new Buffer(9); buf[0] = (masked ? 0x80 : 0) | 127; getBufferFromHexString(pack(16, len)).copy(buf, 1); } return getHexStringFromBuffer(buf); } unpack = function(buffer) { var n = 0; for (var i = 0; i < buffer.length; ++i) { n = (i == 0) ? buffer[i] : (n * 256) + buffer[i]; } return n; } pack = function(length, number) { return padl(number.toString(16), length, '0').replace(/([0-9a-f][0-9a-f])/gi, '$1 ').trim(); } padl = function(s, n, c) { return new Array(1 + n - s.length).join(c) + s; }
describe("directive: shows-message-when-hovered (vanilla jasmine, coffeescript)", function() { beforeEach(function() { module("app"); }); beforeEach(inject(function($rootScope, $compile) { this.directiveMessage = 'ralph was here'; this.html = "<div shows-message-when-hovered message='" + this.directiveMessage + "'></div>"; this.scope = $rootScope.$new(); this.scope.message = this.originalMessage = 'things are looking grim'; this.elem = $compile(this.html)(this.scope); })); describe("when a user mouses over the element", function() { it("sets the message on the scope to the message attribute of the element", function() { this.elem.triggerHandler('mouseenter'); expect(this.scope.message).toBe(this.directiveMessage); }); }); describe("when a users mouse leaves the element", function() { it("restores the message to the original", function() { this.elem.triggerHandler('mouseleave'); expect(this.scope.message).toBe(this.originalMessage); }); }); });
var map = require('../map'); var prop = require('../prop'); module.exports = function _pluck(p, list) { return map(prop(p), list); };
module.declare( ["lib/assert", "submodule/a", "submodule/b"], function(require, exports, module) { var assert = require("lib/assert"); var a = require("submodule/a"); var b = require("submodule/b"); exports['test module relative'] = function() { assert.equal(a.foo, b.foo); }; } );
var _append = require('./internal/_append'); var _curry2 = require('./internal/_curry2'); var _dispatchable = require('./internal/_dispatchable'); var _reduce = require('./internal/_reduce'); var _xgroupBy = require('./internal/_xgroupBy'); module.exports = _curry2(_dispatchable('groupBy', _xgroupBy, function groupBy(fn, list) { return _reduce(function(acc, elt) { var key = fn(elt); acc[key] = _append(elt, acc[key] || (acc[key] = [])); return acc; }, {}, list); }));
var test = require('testling'); test('nextTick', function (t) { var t0 = new Date; process.nextTick(function () { t.log(new Date - t0); t.end(); }); });
$( document ).on("pagecreate", "#map-page", function() { var defaultLatLng = new google.maps.LatLng(34.0983425, -118.3267434); if ( navigator.geolocation ) { function success(pos) { drawMap(new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude)); } function fail(error) { console.log(error); drawMap(defaultLatLng); } navigator.geolocation.getCurrentPosition(success, fail, {maximumAge: 500000, enableHighAccuracy:true, timeout: 6000}); } else { drawMap(defaultLatLng); } function drawMap(latlng) { var myOptions = { zoom: 10, center: latlng, mapTypeId: google.maps.MapTypeId.ROADMAP }; var map = new google.maps.Map(document.getElementById("map-canvas"), myOptions); var marker = new google.maps.Marker({ position: latlng, map: map, title: "Greetings!" }); } });
;(function(){ 'use strict'; var _ = require('lodash'); var inquirer = require('inquirer') module.exports = factoryPrompts; function factoryPrompts (done) { var _this = this; inquirer .prompt(_this.questions, promptCallback); function promptCallback ( answers ) { done( answers ) } } function factoryQuestions(){ var questions = []; return questions; } }).call(this);
var utils = require("../../utils"); var markdown = require("../markdown"); module.exports = function mdHelper(compiler) { return function (options) { return markdown.processMardownContent({content: options.fn(utils.prepareSandbox(this, compiler.frozen)) }, compiler); }; };
d3_selectionPrototype.selectAll = function(selector) { var subgroups = [], subgroup, node; if (typeof selector !== "function") selector = d3_selection_selectorAll(selector); for (var j = -1, m = this.length; ++j < m;) { for (var group = this[j], i = -1, n = group.length; ++i < n;) { if (node = group[i]) { subgroups.push(subgroup = d3_array(selector.call(node, node.__data__, i))); subgroup.parentNode = node; } } } return d3_selection(subgroups); }; function d3_selection_selectorAll(selector) { return function() { return d3_selectAll(selector, this); }; }
_.templateSettings = { "escape" : /\{\{(.+?)\}\}/g, "interpolate" : /\{\{\{(.+?)\}\}\}/g, "evaluate" : /\{\{\!(.+?)\}\}/g }; Backbone.View.prototype.close = function() { this.remove(); this.unbind(); if (this.onClose) this.onClose(); }; Backbone.Model.prototype.one = function(e, method) { var self = this; var wrappedCallback = function() { self.off(e, wrappedCallback); method.apply(window, arguments); }; this.on(e, wrappedCallback); };
const Cc = Components.classes; const Ci = Components.interfaces; Components.utils.import("resource: function cmdline () {} cmdline.prototype = { constructor: cmdline, handle: function (cmdline) { if (cmdline.preventDefault) return; cmdline.preventDefault = true; var conkeror = Cc["@conkeror.mozdev.org/application;1"] .getService() .wrappedJSObject; conkeror.handle_command_line(cmdline); }, QueryInterface: XPCOMUtils.generateQI([Ci.nsICommandLineHandler]), contractID: "@mozilla.org/commandlinehandler/general-startup;1?type=conkeror", classID: Components.ID("{0f4dd758-b55a-4386-a79c-8698642eac51}"), classDescription: "clh_conkeror", _xpcom_categories: [{ category: "command-line-handler", entry: "y-conkeror" }] }; if (XPCOMUtils.generateNSGetFactory) var NSGetFactory = XPCOMUtils.generateNSGetFactory([cmdline]); else var NSGetModule = XPCOMUtils.generateNSGetModule([cmdline]);
;(function(){ 'use strict'; angular .module('<%= moduleNames.slug %>') .run( Run ); function Run(Menus) { Menus.set('<%= names.plural.classed %>', '/<%=names.slug%>', 'grey-500'); } }).call(this);
angular.module('docsTransclusionDirective', []) .controller('Controller', ['$scope', function($scope) { $scope.name = 'Tobias'; }]) .directive('myDialog', function() { return { restrict: 'E', transclude: true, templateUrl: 'my-dialog.html' }; });
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example87/index.html"); }); it('should show correct pluralized string', function() { var withoutOffset = element.all(by.css('ng-pluralize')).get(0); var withOffset = element.all(by.css('ng-pluralize')).get(1); var countInput = element(by.model('personCount')); expect(withoutOffset.getText()).toEqual('1 person is viewing.'); expect(withOffset.getText()).toEqual('Igor is viewing.'); countInput.clear(); countInput.sendKeys('0'); expect(withoutOffset.getText()).toEqual('Nobody is viewing.'); expect(withOffset.getText()).toEqual('Nobody is viewing.'); countInput.clear(); countInput.sendKeys('2'); expect(withoutOffset.getText()).toEqual('2 people are viewing.'); expect(withOffset.getText()).toEqual('Igor and Misko are viewing.'); countInput.clear(); countInput.sendKeys('3'); expect(withoutOffset.getText()).toEqual('3 people are viewing.'); expect(withOffset.getText()).toEqual('Igor, Misko and one other person are viewing.'); countInput.clear(); countInput.sendKeys('4'); expect(withoutOffset.getText()).toEqual('4 people are viewing.'); expect(withOffset.getText()).toEqual('Igor, Misko and 2 other people are viewing.'); }); it('should show data-bound names', function() { var withOffset = element.all(by.css('ng-pluralize')).get(1); var personCount = element(by.model('personCount')); var person1 = element(by.model('person1')); var person2 = element(by.model('person2')); personCount.clear(); personCount.sendKeys('4'); person1.clear(); person1.sendKeys('Di'); person2.clear(); person2.sendKeys('Vojta'); expect(withOffset.getText()).toEqual('Di, Vojta and 2 other people are viewing.'); }); });
describe('utils.Geo', function() { var geo = ffwdme.utils.Geo; describe('#distance', function() { it('calculates medium distances correctly', function() { var A = new ffwdme.LatLng(50, 8.6); var B = new ffwdme.LatLng(50, 8.8); expect(geo.distance(A, B)).toBeGreaterThan(14305); expect(geo.distance(A, B)).toBeLessThan(14315); }); it('calculates small distances correctly', function() { var A = new ffwdme.LatLng(49.901411, 8.854543); var B = new ffwdme.LatLng(49.902152, 8.861013); expect(geo.distance(A, B)).toBeGreaterThan(470); expect(geo.distance(A, B)).toBeLessThan(473); }); }); describe('#closestOnLine', function(){ var S1, S2; beforeEach(function(){ S1 = new ffwdme.LatLng(0, 0); S2 = new ffwdme.LatLng(0, 100); }); it('finds the closest Point on a line', function(){ var A = new ffwdme.LatLng(50, 50); var closest = geo.closestOnLine(S1, S2, A); expect(closest.lat).toBe(0); expect(closest.lng).toBe(50); }); it('finds the closest Point on line with an overstretched ankle (smaller value)', function(){ var A = new ffwdme.LatLng(-50, -50); var closest = geo.closestOnLine(S1, S2, A); expect(closest.lat).toBe(0); expect(closest.lng).toBe(0); }); it('finds the closest Point on line with an overstretched ankle (bigger value)', function(){ var A = new ffwdme.LatLng(150, 150); var closest = geo.closestOnLine(S1, S2, A); expect(closest.lat).toBe(0); expect(closest.lng).toBe(100); }); }); });
module.exports = { re: /^https?:\/\/(?:www\.)?ted\.com\/talks\ mixins: [ "oembed-video-responsive", "og-image", "oembed-thumbnail", "favicon", "oembed-author", "oembed-canonical", "og-description", "keywords", "oembed-site", "oembed-title" ], tests: [{ page: "http: selector: "#browse-results a" }, "http: ] };
it('should toggle open', function() { expect(element(by.id('details')).getAttribute('open')).toBeFalsy(); element(by.model('open')).click(); expect(element(by.id('details')).getAttribute('open')).toBeTruthy(); });
var config = require('./lib/config') config.socket = config.watcher config.rpc_socket = config.watcher_rpc require('ezseed-watcher')(config, function(err, watcher) { if(err) throw err })
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example64/index-jquery.html"); }); it('should check ng-class', function() { expect(element(by.css('.base-class')).getAttribute('class')).not. toMatch(/my-class/); element(by.id('setbtn')).click(); expect(element(by.css('.base-class')).getAttribute('class')). toMatch(/my-class/); element(by.id('clearbtn')).click(); expect(element(by.css('.base-class')).getAttribute('class')).not. toMatch(/my-class/); }); });
(function () { "use strict"; var keepassEntry = angular.module('keepass-entry', ['entry-transformer']); keepassEntry.directive('kdbxEntry', function (entryTransformer) { return { restrict: 'E', templateUrl: 'templates/kdbx-entry.html', scope: { kdbxEntry: '=', kdbxEntryIndex: '=' }, link: function (scope, element) { scope.showPassword = false; new ZeroClipboard(element.find('.copy-password-btn')); }, controller: function ($scope) { $scope.entry = entryTransformer.fromKdbxEntry($scope.kdbxEntry); } }; }); }());
(function() { 'use strict'; angular.module('material.components.icon', [ 'material.core' ]) .directive('mdIcon', mdIconDirective); function mdIconDirective() { return { restrict: 'E', template: '<object class="md-icon"></object>', compile: function(element, attr) { var object = angular.element(element[0].children[0]); if(angular.isDefined(attr.icon)) { object.attr('data', attr.icon); } } }; } })();
var fs = require('fs') var crypto = require('crypto') exports.google_reader_starred = function(file) { var items = JSON.parse(fs.readFileSync(file) ).items console.log('Importing',items.length,'articles from google reader') var count = 0 for (var i in items) { var item = items[i] var article = {} article.pubdate = (new Date(item.published*1000)).toString() article.title = item.title article.author = item.author article.source = { title : item.origin.title, link : item.origin.htmlUrl } if ( item.canonical) article.link = item.canonical[0].href else article.link = item.alternate[0].href article.description = item.content && item.content.content article.summary = item.summary && item.summary.content article.id = articleHash(article) if (exports.store.insert(article) ) { count++ process.stdout.write("Imported "+ count +"/"+items.length+" articles\r") } } if (count < items.length) console.log(items.length-count,'articles could not be imported') else console.log('All articles sucessfully imported!') console.log('Saving...') exports.store.save() } var articleHash = exports.articleHash = function(article) { var hash = crypto.createHash('md5') hash.update(article.title+article.guid+article.link) return hash.digest('hex') }
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-example51/index.html"); }); it('should auto compile', function() { var textarea = $('textarea'); var output = $('div[compile]'); expect(output.getText()).toBe('Hello Angular'); textarea.clear(); textarea.sendKeys('{{name}}!'); expect(output.getText()).toBe('Angular!'); }); });
module.exports = { html: ['dist/index.html'], };
(function(engine) { var crypto = require('crypto'); var Memcached = require('memcached'); var memcached = new Memcached(CONFIG.MEMCACHED_OPTIONS && CONFIG.MEMCACHED_OPTIONS.locations); function safeKey(key) { return crypto.createHash('md5').update(key).digest("hex"); } engine.set = function(_key, data, options) { var key = (!options || !options.raw) ? safeKey(_key) : _key; memcached.set(key, (!options || !options.raw) ? JSON.stringify(data) : data.replace(/\n/g, ''), options && options.ttl || CONFIG.CACHE_TTL, function(error){ if (error) { console.error('memcached set error', _key, error); } }); }; engine.get = function(_key, cb) { var key = safeKey(_key); memcached.get(key, function (error, data) { if (error) { console.error('memcached get error', _key, error); return cb(error); } try { var parsedData = JSON.parse(data); } catch(ex) { return cb(ex); } cb(null, parsedData); }); }; })(exports);
﻿ CKEDITOR.plugins.setLang( 'quicktable', 'no', { more: 'Flere...' } );
var request = require('request'); var cloudStorage = require('./cloudStorage.js'); var firebase = require('firebase'); var _ = require('lodash'); module.exports.start = function (config, logger) { cloudStorage.setProjectName(config.get('googleProjectId')); cloudStorage.setServiceAccount(config.get('googleServiceAccount')); var backupTs = Date.now(); var self = this; var firebaseUrl = config.get('firebase') || ''; this.root = new firebase('https: self.root.auth(config.get('firebaseSecret'), function(err) { cloudStorage.getToken(function(token) { request({ url: 'https: qs: { uploadType: 'resumable', 'access_token' : token }, method: 'POST', headers: { 'X-Upload-Content-Type' : 'application/json', 'Content-Type' : 'application/json; charset=UTF-8', }, body: JSON.stringify({ name: 'backup-' + backupTs, cacheControl: "no-cache" }) }, function(err, res, body) { var url = res.headers.location; request.get('https: request.put(url, function(err, res, body) { self.root.child('management/backups/').push(backupTs, function() { self.root.child('management/backups/').once('value', function(snap) { var data = snap.val(); var ids = _.keys(data); if(ids.length > 7) { var oldestId = ids[0]; var oldestTimestamp = data[oldestId]; self.root.child('management/backups/' + oldestId).remove(function() { cloudStorage.objects.del(config.get('backupBucket'), 'backup-' + oldestTimestamp, function() { console.log('Done'); process.exit(0); }); }); } else { console.log('Done'); process.exit(0); } }); }); }) ); }); }); }); };
module.exports = { highestPriority: true, provides: 'self', getData: function(meta) { var p = meta["parsely-page"]; if (p) { try { var data = JSON.parse(p); return { parsely_page: data }; } catch(ex) { } } }, getMeta: function(parsely_page) { return { title: parsely_page.title, date: parsely_page.pub_date, author: parsely_page.author, keywords: parsely_page.tags && parsely_page.tags instanceof Array ? parsely_page.tags.join(', ') : null, category: parsely_page.section, media: parsely_page.type == "post" ? 'reader': null }; } };
app.dataservice = (function (breeze, logger) { breeze.config.initializeAdapterInstance("modelLibrary", "backingStore", true); var serviceName = 'breeze/northwind'; var manager = new breeze.EntityManager(serviceName); var _isSaving = false; return { getAllCustomers: getAllCustomers, getOrders: getOrders, createCustomer: createCustomer }; function getAllCustomers() { var query = breeze.EntityQuery .from("Customers") .orderBy("CompanyName"); return manager.executeQuery(query); } function getOrders(customer) { return customer.entityAspect.loadNavigationProperty("Orders"); } function createCustomer() { return manager.createEntity("Customer"); } function saveChanges(suppressLogIfNothingToSave) { if (manager.hasChanges()) { if (_isSaving) { setTimeout(saveChanges, 50); return; } _isSaving = true; manager.saveChanges() .then(saveSucceeded) .fail(saveFailed) .fin(saveFinished); } else if (!suppressLogIfNothingToSave) { logger.info("Nothing to save"); }; } function saveSucceeded(saveResult) { logger.success("# of Todos saved = " + saveResult.entities.length); logger.log(saveResult); } function saveFailed(error) { var reason = error.message; var detail = error.detail; if (reason === "Validation error") { handleSaveValidationError(error); return; } if (detail && detail.ExceptionType && detail.ExceptionType.indexOf('OptimisticConcurrencyException') !== -1) { reason = "Another user, perhaps the server, may have deleted one or all of the todos."; manager.rejectChanges(); } logger.error(error, "Failed to save changes. " + reason + " You may have to restart the app."); }; function saveFinished() { _isSaving = false; } function handleSaveValidationError(error) { var message = "Not saved due to validation error"; try { var firstErr = error.entitiesWithErrors[0].entityAspect.getValidationErrors()[0]; message += ": " + firstErr.errorMessage; } catch (e) { } logger.error(message); } })(breeze, app.logger);
OfflineReader.RssesController = Ember.ArrayController.extend({ });
(function ($) { function getTransformProperty(element) { var properties = ['transform', 'WebkitTransform', 'msTransform', 'MozTransform', 'OTransform']; var p; while (p = properties.shift()) { if (typeof element.style[p] != 'undefined') { return p; } } return 'transform'; } var _propsObj = null; var proxied = $.fn.css; $.fn.css = function (arg, val) { if (_propsObj === null) { if (typeof $.cssProps != 'undefined') { _propsObj = $.cssProps; } else if (typeof $.props != 'undefined') { _propsObj = $.props; } else { _propsObj = {} } } if ( typeof _propsObj['transform'] == 'undefined' && ( arg == 'transform' || ( typeof arg == 'object' && typeof arg['transform'] != 'undefined' ) ) ) { _propsObj['transform'] = getTransformProperty(this.get(0)); } if (_propsObj['transform'] != 'transform') { if (arg == 'transform') { arg = _propsObj['transform']; if (typeof val == 'undefined' && jQuery.style) { return jQuery.style(this.get(0), arg); } } else if ( typeof arg == 'object' && typeof arg['transform'] != 'undefined' ) { arg[_propsObj['transform']] = arg['transform']; delete arg['transform']; } } return proxied.apply(this, arguments); }; })(jQuery);
﻿(function() { 'use strict'; angular.module('app').run(['dataservice', 'util', function (dataservice, util) { dataservice.initialize(); util.logger.log("app module is loaded and running on " + util.config.server); }]); })();
module.exports = { re: [ /^https?:\/\/pastebin\.com\/(?!search)([a-zA-Z0-9]+)/i ], mixins: [ "og-image", "favicon", "canonical", "og-site", "og-title" ], getLink: function (urlMatch, og) { if (!/\- Pastebin.com$/.test(og.title)) { return; } return { href: " type: CONFIG.T.text_html, rel: CONFIG.R.reader } }, tests: [ "http: ] };
﻿ CKEDITOR.plugins.setLang( 'quicktable', 'it', { more: 'Altri...' } );
export default function slugger (item, type, customUrls) { var tmpSlug = ''; tmpSlug = uslug(item.name).toLowerCase(); if(customUrls && customUrls.individualUrl) { tmpSlug = parseCustomUrl(customUrls.individualUrl, item, type) + '/' + tmpSlug; } if(customUrls && customUrls.listUrl) { tmpSlug = customUrls.listUrl + '/' + tmpSlug; } else { tmpSlug = type + '/' + tmpSlug; } return tmpSlug; } function parseCustomUrl (url, object, type) { var publishDate = object.publish_date ? object.publish_date : object; publishDate = moment(publishDate); function replacer(match, timeIdent, offset, string){ if(timeIdent === 'Y') { return publishDate.format('YYYY').toLowerCase(); } else if (timeIdent === 'y') { return publishDate.format('YY').toLowerCase(); } else if (timeIdent === 'm') { return publishDate.format('MM').toLowerCase(); } else if (timeIdent === 'n') { return publishDate.format('M').toLowerCase(); } else if (timeIdent === 'F') { return publishDate.format('MMMM').toLowerCase(); } else if (timeIdent === 'M') { return publishDate.format('MMM').toLowerCase(); } else if (timeIdent === 'd') { return publishDate.format('DD').toLowerCase(); } else if (timeIdent === 'j') { return publishDate.format('D').toLowerCase(); } else if (timeIdent === 'T') { return type.toLowerCase(); } else { return match; } } url = url.replace(/#(\w)/g, replacer); return url; }
var expect = require('chai').expect; var taskman = require('..'); var TQueue = require('../lib/queue'); var TWorker = require('../lib/worker'); describe('Taskman', function () { describe('#createQueue', function () { it('should create a new queue without options', function () { var queue = taskman.createQueue('myQueue'); expect(queue).to.be.instanceOf(TQueue); }); it('should create a new queue with options', function () { var queue = taskman.createQueue('myQueue', {unique: true}); expect(queue).to.be.instanceOf(TQueue); }); }); describe('#createWorker', function () { var queue; beforeEach(function () { queue = taskman.createQueue('myQueue'); }); it('should create a new worker without options', function () { var worker = taskman.createWorker(queue); expect(worker).to.be.instanceOf(TWorker); }); it('should create a new worker with options', function () { var worker = taskman.createWorker(queue, { dataPerTick: 10, loopSleepTime: 1, name: 'test', pauseSleepTime: 1, type: 'FIFO' }); expect(worker).to.be.instanceOf(TWorker); }); }); });
module.exports = function(grunt) { grunt.initConfig({ less: { dist: { options: { paths: ["stylesheet"], cleancss: false, sourceMap: false, sourceMapFilename: 'compressed/formbuilder.css.map', sourceMapRootpath: '' }, files: { "compressed/formbuilder.min.css": "assets/stylesheet/all.less" } } }, watch: { stylesheet: { files: ['assets/stylesheet *.less'], tasks: ['less:dist', 'autoprefixer:single_file'] } }, autoprefixer: { single_file: { src: "compressed/formbuilder.min.css", dest: "compressed/prefixedformbuilder.min.css" } } }); grunt.loadNpmTasks('grunt-contrib-less'); grunt.loadNpmTasks('grunt-contrib-watch'); grunt.loadNpmTasks('grunt-autoprefixer'); grunt.loadNpmTasks('grunt-bower-clean'); }
var value = element(by.binding('value | date: "HH:mm:ss"')); var valid = element(by.binding('myForm.input.$valid')); var input = element(by.model('value')); function setInput(val) { var scr = "var ipt = document.getElementById('exampleInput'); " + "ipt.value = '" + val + "';" + "angular.element(ipt).scope().$apply(function(s) { s.myForm[ipt.name].$setViewValue('" + val + "'); });"; browser.executeScript(scr); } it('should initialize to model', function() { expect(value.getText()).toContain('14:57:00'); expect(valid.getText()).toContain('myForm.input.$valid = true'); }); it('should be invalid if empty', function() { setInput(''); expect(value.getText()).toEqual('value ='); expect(valid.getText()).toContain('myForm.input.$valid = false'); }); it('should be invalid if over max', function() { setInput('23:59:00'); expect(value.getText()).toContain(''); expect(valid.getText()).toContain('myForm.input.$valid = false'); });
YUI.add('url-resolving-tests', function(Y){ var resolvingSuite = new Y.Test.Suite('URL.js Resolving Tests'), buildEqualityTestCase = Y.TestUtils.buildEqualityTestCase, urls; urls = { 'http: 'foo/bar/' : 'http: '../../' : 'http: '../foo.html' : 'http: ' 'https: 'http: }, 'http: '?bar=baz' : 'http: '/bar' : 'http: '../#foo' : 'http: }, 'http: '../../cool?baz=zee' : 'http: } }; Y.each(urls, function(tests, url){ resolvingSuite.add(buildEqualityTestCase(url, Y.bind(URL, this, url), function(testCase, test, url){ return url.resolve(test).toString(); }, tests)); }); Y.Test.Runner.add(resolvingSuite); }, '0.1', { requires: ['test', 'test-utils'] });
define(['backbone', 'underscore'], function (Backbone, _) { Backbone.sync = function (method, model, options) { var getUrl = function (object) { if (!(object && object.url)) return null; return _.isFunction(object.url) ? object.url() : object.url; }; var cmd = getUrl(model).split('/') , namespace = (cmd[0] !== '') ? cmd[0] : cmd[1]; var params = _.extend({ req : namespace + ':' + method }, options); params.data = model.toJSON() || {}; if (_.isEmpty(params.data)) { params.data = options.data; } var io = model.socket || window.socket || Backbone.socket; io.emit(namespace + ':' + method, params.data, function (err, data) { if (err) { options.error(err); } else { options.success(data); } }); }; return Backbone; });
var URL = require('url'), sURL = 'http: oURL = URL.parse(sURL), http = require('http'), client = http.createClient(23456, oURL.hostname), request = client.request('GET', oURL.pathname, {'host': oURL.hostname}) ; http.createServer(function (req, res) { var url = req.url.substr(1); var oURL = URL.parse(url); var options = { host: oURL.hostname, port: 80, path: oURL.pathname }; http.get(options, function(gres) { res.writeHead(200, {'Content-Type': 'text/html'}); var data = ''; console.log(options); console.log("Got response: " + gres.statusCode); gres.on('data', function (chunk) { data += chunk; }); gres.on('end', function (chunk) { var prefix = "data:" + gres.headers["content-type"] + ";base64,"; var base64 = new Buffer(data, 'binary').toString('base64'); var img = prefix + base64; res.write("\n<img src=\""+img+"\">"); res.write("\n<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4 res.end(); }); gres.on('error', function(e) { console.log("Got error on remote image loading: " + e.message); }); }).on('error', function(e) { console.log("Got error: " + e.message); }); }).listen(2345); function image(width, height){ var p = new Png(height, width, 50); var background = p.color(1, 1, 1, 1); return 'data:image/png;base64,'+p.getBase64(); }
describe("", function() { var rootEl; beforeEach(function() { rootEl = browser.rootEl; browser.get("build/docs/examples/example-ngValue-directive/index.html"); }); var favorite = element(by.binding('my.favorite')); it('should initialize to model', function() { expect(favorite.getText()).toContain('unicorns'); }); it('should bind the values to the inputs', function() { element.all(by.model('my.favorite')).get(0).click(); expect(favorite.getText()).toContain('pizza'); }); });
define('crm/Utility', [ 'dojo/_base/lang', 'dojo/string', 'argos/Utility' ], function( lang, string, Utility ) { var __class = lang.setObject('crm.Utility', lang.mixin({}, Utility, { base64ArrayBuffer: function(arrayBuffer) { var base64, encodings, bytes, byteLength, mainLength, byteRemainder, a, b, c, d, chunk, i; base64 = ''; encodings = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'; bytes = new Uint8Array(arrayBuffer); byteLength = bytes.byteLength; byteRemainder = byteLength % 3; mainLength = byteLength - byteRemainder; for (i = 0; i < mainLength; i = i + 3) { chunk = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2]; a = (chunk & 16515072) >> 18; b = (chunk & 258048) >> 12; c = (chunk & 4032) >> 6; d = chunk & 63; base64 += encodings[a] + encodings[b] + encodings[c] + encodings[d]; } if (byteRemainder === 1) { chunk = bytes[mainLength]; a = (chunk & 252) >> 2; b = (chunk & 3) << 4; base64 += encodings[a] + encodings[b] + '=='; } else if (byteRemainder === 2) { chunk = (bytes[mainLength] << 8) | bytes[mainLength + 1]; a = (chunk & 64512) >> 10; b = (chunk & 1008) >> 4; c = (chunk & 15) << 2; base64 += encodings[a] + encodings[b] + encodings[c] + '='; } return base64; }, getFileExtension: function(fileName) { if (!fileName) { return '.'; } return fileName.substr(fileName.lastIndexOf('.')); }, getRealActivityId: function(activityId) { var Id = activityId; if (activityId) { if (activityId.indexOf(';') > 0) { Id = activityId.substring(0, 12); } else { Id = activityId; } } return Id; } })); lang.setObject('Mobile.SalesLogix.Utility', __class); return __class; });
module.exports = { mixins: [ "copyright", "favicon" ], getMeta: function(cheerio, __readabilityEnabled) { return { title: cheerio("#firstHeading").text() } }, getLinks: function(cheerio, __readabilityEnabled) { var links = []; var $img = cheerio(".tright .thumbimage"); if ($img.length) { links.push ({ href: $img.attr('src'), type: CONFIG.T.image, rel: CONFIG.R.thumbnail, width: $img.attr('width'), height: $img.attr('height') }); } var $html = cheerio("#bodyContent"); links.push ({ html: $html.html(), type: CONFIG.T.text_html, rel: [CONFIG.R.reader, CONFIG.R.inline] }); return links; }, tests: [ "http: "http: { noFeeds: true, skipMethods: [ "getLink" ] } ] };
var $m={ hitokoto:function(d){ $("#hitokoto").html('<a href="http: }, resize:function(){ $("#left,#right").height($(window).height()-160); $("#right").width($(window).width()-270); } };
goog.provide('ng.material.components.toolbar'); goog.require('ng.material.components.content'); goog.require('ng.material.core'); (function() { 'use strict'; angular.module('material.components.toolbar', [ 'material.core', 'material.components.content' ]) .directive('mdToolbar', mdToolbarDirective); function mdToolbarDirective($$rAF, $mdConstant, $mdUtil, $mdTheming) { return { restrict: 'E', controller: angular.noop, link: function(scope, element, attr) { $mdTheming(element); if (angular.isDefined(attr.mdScrollShrink)) { setupScrollShrink(); } function setupScrollShrink() { var y = 0; var prevScrollTop = 0; var shrinkSpeedFactor = attr.mdShrinkSpeedFactor || 0.5; var toolbarHeight; var contentElement; var debouncedContentScroll = $$rAF.debounce(onContentScroll); var debouncedUpdateHeight = $mdUtil.debounce(updateToolbarHeight, 5 * 1000); scope.$on('$mdContentLoaded', onMdContentLoad); function onMdContentLoad($event, newContentEl) { if (element.parent()[0] === newContentEl.parent()[0]) { if (contentElement) { contentElement.off('scroll', debouncedContentScroll); } newContentEl.on('scroll', debouncedContentScroll); newContentEl.attr('scroll-shrink', 'true'); contentElement = newContentEl; $$rAF(updateToolbarHeight); } } function updateToolbarHeight() { toolbarHeight = element.prop('offsetHeight'); contentElement.css( 'margin-top', (-toolbarHeight * shrinkSpeedFactor) + 'px' ); onContentScroll(); } function onContentScroll(e) { var scrollTop = e ? e.target.scrollTop : prevScrollTop; debouncedUpdateHeight(); y = Math.min( toolbarHeight / shrinkSpeedFactor, Math.max(0, y + scrollTop - prevScrollTop) ); element.css( $mdConstant.CSS.TRANSFORM, 'translate3d(0,' + (-y * shrinkSpeedFactor) + 'px,0)' ); contentElement.css( $mdConstant.CSS.TRANSFORM, 'translate3d(0,' + ((toolbarHeight - y) * shrinkSpeedFactor) + 'px,0)' ); prevScrollTop = scrollTop; } } } }; } mdToolbarDirective.$inject = ["$$rAF", "$mdConstant", "$mdUtil", "$mdTheming"]; })();
module.exports = { re: [ /^https?:\/\/prezi\.com\/(?!embed)(?!bin)(?!press)([a-z0-9_-]+)\/[a-z0-9_-]+/i, /^https?:\/\/prezi\.com\/embed\/([a-z0-9_-]+)\ /^https?:\/\/prezi\.com\/bin\/preziloader\.swf\?prezi_id=([a-z0-9_-]+)/i ], mixins: [ "canonical", "og-title", "og-description", "og-site", "og-image", "favicon" ], getMeta: function(meta) { return { author_url: meta.prezi_for_facebook.author } }, getLink: function(urlMatch) { return { href: 'https: type: CONFIG.T.text_html, rel: CONFIG.R.player, "aspect-ratio": 550 / 400 } }, tests: [ "http: ] };
